

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction to version control with Git documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=9c3e77be" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_lesson.css?v=e9df6548" />
      <link rel="stylesheet" type="text/css" href="_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=791bfbd6" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />

  
    <link rel="shortcut icon" href="_static/coderefinery.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d6d90d09"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=582ca9e2"></script>
      <script src="_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js?v=1ae7504c"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="_static/tabs.js?v=3030b3cb"></script>
      <script data-domain="coderefinery.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Introduction to version control with Git
          </a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-motivation">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-configuration">Configuring Git command line and editor</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modifying an existing project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-browsing">Copy and browse an existing project</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-commits">Recording changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-merging">Merging changes and contributing to the project</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-local-workflow">Cloning a Git repository and working locally</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Studying an existing project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-archaeology">Inspecting history</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sharing your work</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-sharing">How to turn your project to a Git repo and share it</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Finding the balance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-level">Practical advice: How much Git is necessary?</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-what-to-avoid">What to avoid</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Older episodes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-basics">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-branches">Branching and merging</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-conflicts">Conflict resolution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optional episodes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-staging-area">Using the Git staging area</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-recovering">Undoing and recovering</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-interrupted">Interrupted work</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-aliases">Aliases and configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-under-the-hood">Git under the hood</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://youtu.be/xbTTDLA3txI">Shell crash course</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-reference">Quick reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-customizing">Customizing Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-resources">Other resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercises">List of exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-guide">Instructor guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.github.io/git-intro/lesson.pdf">PDF version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/core/">All lessons</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/">CodeRefinery</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/reusing/">Reusing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Introduction to version control with Git</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction to version control with Git  documentation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/coderefinery/git-intro/blob/main/content/index" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction-to-version-control-with-git-why-we-want-to-track-versions-and-how-to-go-back-in-time-to-a-working-version">
<h1>Introduction to version control with Git - Why we want to track versions and how to go back in time to a working version<a class="headerlink" href="#introduction-to-version-control-with-git-why-we-want-to-track-versions-and-how-to-go-back-in-time-to-a-working-version" title="Link to this heading"></a></h1>
<div class="admonition-we-rewrote-this-lesson-in-february-and-march-2024 admonition">
<p class="admonition-title">We rewrote this lesson in February and March 2024</p>
<p>If you are looking for the previous version, you can browse the
<a class="reference external" href="https://coderefinery.github.io/git-intro/branch/2023-version/">2023 version of this lesson</a>.</p>
</div>
<p>This is the introductory lesson to version control using
<a class="reference external" href="https://git-scm.com/">Git</a>.</p>
<p>We start with an <strong>existing repository on the web</strong> to visually explain the basic
concepts of version control. We later move to a local
repository. Our goal there is not only to be able to apply changes to an
existing repository but to also be able to turn own projects into Git
repositories and to share them with others.</p>
<p>In the separate <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git
lesson</a>, we focus more on
the collaboration and the use of remote repositories. We try to stick to simple
workflows, just enough for researchers who are not obsessed with Git to be able
to work well.</p>
<p>The goals of the module as a whole are that the learner will feel comfortable
about committing changes, branching, and merging.</p>
<div class="admonition-prerequisites prerequisites admonition" id="prerequisites-0">
<p class="admonition-title">Prerequisites</p>
<p>We offer several options to go through the material: <strong>on the web, in an editor,
or in the terminal</strong>.
Please see the <a class="reference external" href="https://coderefinery.github.io/installation/">installation instructions</a>.
If you wish to follow in the terminal and are new to the command line, we
recorded a <a class="reference external" href="https://youtu.be/xbTTDLA3txI">short shell crash course</a>.</p>
<p>We recommend to have a <a class="reference external" href="https://github.com">GitHub</a> account.
<strong>Why GitHub?</strong>
Also <a class="reference external" href="https://gitlab.com">GitLab</a> and <a class="reference external" href="https://bitbucket.org">Bitbucket</a> would
allow similar workflows and basically everything that we will discuss is
transferable. With this material and these exercises we do not implicitly
endorse the company <a class="reference external" href="https://github.com">GitHub</a>. We have chosen to demonstrate
a number of concepts using examples with <a class="reference external" href="https://github.com">GitHub</a> because
it is currently the most popular web platform for hosting Git repositories and
the chance is high that you will interact with
<a class="reference external" href="https://github.com">GitHub</a>-based repositories even if you choose to host your
Git repository on another service.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-motivation"></span><section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Make sure nobody leaves the workshop without starting to use some form of version control.</p></li>
<li><p>Discuss the reasons why we advocate distributed version control.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>15 min discussion/demonstration</p></li>
</ul>
</div>
<section id="git-is-all-about-keeping-track-of-changes">
<h3>Git is all about keeping track of changes<a class="headerlink" href="#git-is-all-about-keeping-track-of-changes" title="Link to this heading"></a></h3>
<p>We will learn how to keep track of changes first in the web browser.
Below are screenshots of <strong>tracked changes with Git</strong>
(from this <a class="reference external" href="https://github.com/bast/runtest/commits/main/runtest/run.py">example repository</a>):</p>
<figure class="align-default" id="id1">
<a class="with-border reference internal image-reference" href="_images/git-log-github.png"><img alt="Screenshot of a git log on GitHub" class="with-border" src="_images/git-log-github.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Web browser, GitHub view</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Later also using the terminal or the editor
(the same <a class="reference external" href="https://github.com/bast/runtest/commits/main/runtest/run.py">example repository</a>):</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/git-log-terminal.png"><img alt="Screenshot of a git log in terminal" src="_images/git-log-terminal.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">The same as above, but the terminal view</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="why-do-we-need-to-keep-track-of-versions">
<h3>Why do we need to keep track of versions?<a class="headerlink" href="#why-do-we-need-to-keep-track-of-versions" title="Link to this heading"></a></h3>
<p><strong>Problem: If you have to identify and find your code from 17 days
ago, can you?</strong></p>
<p>Version control is an answer to the following questions (do you recognize some
of them?):</p>
<ul class="simple">
<li><p>“It broke … hopefully I have a working version somewhere?”</p></li>
<li><p>“Can you please send me the latest version?”</p></li>
<li><p>“Where is the latest version?”</p></li>
<li><p>“Which version are you using?”</p></li>
<li><p>“Which version have the authors used in the paper I am trying to reproduce?”</p></li>
<li><p>“Found a bug! Since when was it there?”</p></li>
<li><p>“I am sure it used to work. When did it change?”</p></li>
<li><p>“My laptop is gone. Is my thesis now gone?”</p></li>
</ul>
</section>
<section id="features-roll-back-branching-merging-collaboration">
<h3>Features: roll-back, branching, merging, collaboration<a class="headerlink" href="#features-roll-back-branching-merging-collaboration" title="Link to this heading"></a></h3>
<p><strong>Problem: Your code worked two days ago, but is giving an error now.
You don’t know what you changed.</strong></p>
<p><strong>Problem: You and your colleague want to work on the same code at the
same time.</strong></p>
<ul class="simple">
<li><p><strong>Roll-back</strong>: you can always go back to a previous version and compare</p></li>
<li><p><strong>Branching and merging</strong>:</p>
<ul>
<li><p>Work on different ideas at the same time</p></li>
<li><p>Different people can work on the same code/project without interfering</p></li>
<li><p>You can experiment with an idea and discard it if it turns out to be a bad idea</p></li>
</ul>
</li>
</ul>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/gophers.png"><img alt="Branching explained with a gopher" src="_images/gophers.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Image created using <a class="reference external" href="https://gopherize.me/">https://gopherize.me/</a>
(<a class="reference external" href="https://twitter.com/jay_gee/status/703360688618536960">inspiration</a>).</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Collaboration</strong>: review, compare, share, discuss</p></li>
<li><p><a class="reference external" href="https://github.com/coderefinery/git-intro/network">Example network graph</a></p></li>
</ul>
</section>
<section id="reproducibility">
<h3>Reproducibility<a class="headerlink" href="#reproducibility" title="Link to this heading"></a></h3>
<p><strong>Problem: Someone asks you about your results from 5 years ago.  Can
you get the same results now?</strong></p>
<ul class="simple">
<li><p>How do you indicate which version of your code you have used in your paper?</p></li>
<li><p>When you find a bug, how do you know <strong>when precisely</strong> this bug was introduced
(Are published results affected? Do you need to inform collaborators or users of your code?).</p></li>
</ul>
<p>With version control we can “annotate” code
(<a class="reference external" href="https://github.com/networkx/networkx/blame/main/networkx/algorithms/boundary.py">browse this example online</a>):</p>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/git-annotate.png"><img alt="Example of a git-annotated code with code and history side-by-side" class="with-border" src="_images/git-annotate.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Example of a git-annotated code with code and history side-by-side.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="talking-about-code">
<h3>Talking about code<a class="headerlink" href="#talking-about-code" title="Link to this heading"></a></h3>
<p><strong>Problem: You want to show someone a few lines from one of your projects.</strong></p>
<p>Which of these two is more practical?</p>
<ul class="simple">
<li><p>“Clone the code, go to the file ‘src/util.rs’, and search for ‘time_iso8601’”.
Oh! But make sure you use the version from August 2023.”</p></li>
<li><p>Or I can send you a <a class="reference external" href="https://github.com/NordicHPC/sonar/blob/75daafc86582feb06299d6a47c82112f39888152/src/util.rs#L40-L44">permalink</a>:</p></li>
</ul>
<figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/code-portion.png"><img alt="Screen-shot of a code portion" class="with-border" src="_images/code-portion.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Permalink that points to a code portion.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="what-we-typically-like-to-snapshot">
<h3>What we typically like to snapshot<a class="headerlink" href="#what-we-typically-like-to-snapshot" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Software (this is how it started but Git/GitHub can track a lot more)</p></li>
<li><p>Scripts</p></li>
<li><p>Documents (plain text files much better suitable than Word documents)</p></li>
<li><p>Manuscripts (Git is great for collaborating/sharing LaTeX or <a class="reference external" href="https://quarto.org/">Quarto</a> manuscripts)</p></li>
<li><p>Configuration files</p></li>
<li><p>Website sources</p></li>
<li><p>Data</p></li>
</ul>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p>In this example somebody tried to keep track of versions without a version
control system tool like Git.  Discuss the following directory listing. What
possible problems do you anticipate with this kind of “version control”:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>myproject-2019.zip
myproject-2020-February.zip
myproject-2021-August.zip
myproject-2023-09-19-working.zip
myproject-2023-09-21.zip
myproject-2023-09-21-test.zip
myproject-2023-09-21-myversion.zip
myproject-2023-09-21-newfeature.zip
...
(100 more files like these)
</pre></div>
</div>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<ul class="simple">
<li><p>Giving a version to a collaborator and merging changes later with own
changes sounds like lots of work.</p></li>
<li><p>What if you discover a bug and want to know since when the bug existed?</p></li>
</ul>
</div>
</div>
</section>
<section id="difficulties-of-version-control">
<h3>Difficulties of version control<a class="headerlink" href="#difficulties-of-version-control" title="Link to this heading"></a></h3>
<p>Despite the benefits, let’s be honest, there are some difficulties:</p>
<ul class="simple">
<li><p>One more thing to learn (it’s probably worth it and will save you more time in the long run; basic career skill).</p></li>
<li><p>Difficult if your collaborators don’t want to use it (in the worst case, you
can version control <strong>on your side</strong> and email them versions).</p></li>
<li><p>Advanced things can be difficult, but basics are often enough (ask others for help when needed).</p></li>
</ul>
</section>
<section id="why-git-and-not-another-tool">
<h3>Why Git and not another tool?<a class="headerlink" href="#why-git-and-not-another-tool" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Easy to set up</strong>: no server needed.</p></li>
<li><p><strong>Very popular</strong>: chances are high you will need to contribute to somebody else’s code which is tracked with Git.</p></li>
<li><p><strong>Distributed</strong>: good backup, no single point of failure, you can track and
clean-up changes offline, simplifies collaboration model for open-source
projects.</p></li>
<li><p>Important <strong>platforms</strong> such as <a class="reference external" href="https://github.com">GitHub</a>, <a class="reference external" href="https://gitlab.com">GitLab</a>, and <a class="reference external" href="https://bitbucket.org">Bitbucket</a>
build on top of Git.</p></li>
</ul>
<p>However, any version control is better than no version control and it is OK to
prefer a different tool than Git such as
<a class="reference external" href="https://subversion.apache.org">Subversion</a>,
<a class="reference external" href="https://www.mercurial-scm.org">Mercurial</a>, <a class="reference external" href="https://pijul.org/">Pijul</a>, or others.</p>
</section>
</section>
<span id="document-configuration"></span><section id="configuring-git-command-line-and-editor">
<span id="configuration"></span><h2>Configuring Git command line and editor<a class="headerlink" href="#configuring-git-command-line-and-editor" title="Link to this heading"></a></h2>
<p>We have a longer version of this in the <a class="reference external" href="https://coderefinery.github.io/installation/git-in-terminal/">installation
instructions</a>.
But for clarity, we will review the most important parts here.</p>
<p>You don’t need to set these if you work only through the GitHub web interface.
If you use VS Code or other editors or integrated development environments,
the editor might prompt you to set these up.</p>
<p>These configuration settings are saved in a file called <code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code> in your
home directory. If this file exists, editors like VS Code will use this
configuration.</p>
<p>If you want to see your configuration settings, you can use the
command (<code class="docutils literal notranslate"><span class="pre">--show-origin</span></code> means it shows the file <em>where</em> each setting
is defined):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--list<span class="w"> </span>--show-origin
</pre></div>
</div>
<section id="name-and-email-address-for-git-commit-metadata">
<h3>Name and email address for Git commit metadata<a class="headerlink" href="#name-and-email-address-for-git-commit-metadata" title="Link to this heading"></a></h3>
<p>Git commits carry metadata about the author and two things you will always need
to define somewhere are:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Your Name&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span>yourname@example.com
</pre></div>
</div>
<p>For the email address we recommend to use the one you use for your GitHub account.
If you prefer to not use it, you can instead use
<code class="docutils literal notranslate"><span class="pre">YOUR_GITHUB_USERNAME&#64;users.noreply.github.com</span></code> as the email address (replace <code class="docutils literal notranslate"><span class="pre">YOUR_GITHUB_USERNAME</span></code>).
This means that nobody can write to this email address, but GitHub will still
be able to connect your contributions with your GitHub account.</p>
<p>Note that these can, in theory, be anything: this is just data, not a
registration or identity requirement.</p>
</section>
<section id="default-branch-name">
<h3>Default branch name<a class="headerlink" href="#default-branch-name" title="Link to this heading"></a></h3>
<p>The default branch name in Git has been <code class="docutils literal notranslate"><span class="pre">master</span></code> for a long time, but it is
changing to <code class="docutils literal notranslate"><span class="pre">main</span></code> in many places.  We recommend to set it to <code class="docutils literal notranslate"><span class="pre">main</span></code> for new
repositories that you create locally:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>init.defaultbranch<span class="w"> </span>main
</pre></div>
</div>
</section>
<section id="useful-alias-for-the-command-line">
<h3>Useful alias for the command line<a class="headerlink" href="#useful-alias-for-the-command-line" title="Link to this heading"></a></h3>
<p>We recommend to define an <a class="reference internal" href="#document-reference#term-alias"><span class="xref std std-term">alias</span></a> (shortcut) in Git, to be able to nicely visualize
branch structure in the terminal without having to remember a long Git command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.graph<span class="w"> </span><span class="s2">&quot;log --all --graph --decorate --oneline&quot;</span>
</pre></div>
</div>
<p>We have an own section about aliases: <a class="reference internal" href="#document-aliases#aliases"><span class="std std-ref">Aliases and configuration</span></a>.</p>
</section>
<section id="default-text-editor-for-commit-messages">
<h3>Default text editor for commit messages<a class="headerlink" href="#default-text-editor-for-commit-messages" title="Link to this heading"></a></h3>
<p>Git sometimes needs to start a text editor for you to enter messages (unless you create
commits from inside an editor or on the web).
This may have already been set to something (like VS Code), but if not
<code class="docutils literal notranslate"><span class="pre">nano</span></code> is usually a safe choice:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.editor<span class="w"> </span>nano
</pre></div>
</div>
<p>The <a class="reference external" href="https://coderefinery.github.io/installation/editors/">installation instructions text editor page</a> gives ways
to set other editors, or do a web search for “git set editor to
[editor name]”.</p>
</section>
<section id="authenticating-to-github-ssh-or-https-or-vs-code">
<span id="clone-method"></span><h3>Authenticating to GitHub: SSH or HTTPS or VS Code?<a class="headerlink" href="#authenticating-to-github-ssh-or-https-or-vs-code" title="Link to this heading"></a></h3>
<p><strong>How does GitHub know who you are?</strong> We discuss here three options:</p>
<ul class="simple">
<li><p><strong>SSH</strong> is the classic method, using <a class="reference external" href="https://en.wikipedia.org/wiki/Secure_Shell">Secure Shell
Protocol</a> remote connection
keys.</p></li>
<li><p><strong>HTTPS</strong> works with the <strong>Git Credential Manager</strong>, which is an
extra add-on that works easily in Windows and Mac.</p></li>
<li><p><strong>VS Code</strong> editor can authenticate with GitHub using its own
authentication method.</p></li>
</ul>
<p>Read how to install them from the <a class="reference external" href="https://coderefinery.github.io/installation/ssh/">installation
instructions</a>.</p>
<p>Test which one you should use:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Q29tbWFuZCBsaW5lOiBTU0g=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5lOiBTU0g=" name="Q29tbWFuZCBsaW5lOiBTU0g=" role="tab" tabindex="0">Command line: SSH</button><button aria-controls="panel-0-Q29tbWFuZCBsaW5lOiBIVFRQUw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5lOiBIVFRQUw==" name="Q29tbWFuZCBsaW5lOiBIVFRQUw==" role="tab" tabindex="-1">Command line: HTTPS</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button></div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5lOiBTU0g=" class="sphinx-tabs-panel group-tab" id="panel-0-Q29tbWFuZCBsaW5lOiBTU0g=" name="Q29tbWFuZCBsaW5lOiBTU0g=" role="tabpanel" tabindex="0"><p>Try this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh<span class="w"> </span>-T<span class="w"> </span>git@github.com
</pre></div>
</div>
<p>If it returns <code class="docutils literal notranslate"><span class="pre">Hi</span> <span class="pre">USERNAME!</span> <span class="pre">You've</span> <span class="pre">successfully</span> <span class="pre">authenticated,</span> <span class="pre">...</span></code>,
then SSH is configured and the following steps will work with the SSH
cloning.</p>
<p>See our <a class="reference external" href="https://coderefinery.github.io/installation/ssh/">installation
instructions</a> to
set up SSH access.</p>
<p>From now on, <strong>if you know that SSH works, you should always select
SSH as the clone URL from GitHub, or translate the URL to start with
the right thing yourself:</strong> <code class="docutils literal notranslate"><span class="pre">git&#64;github.com:</span></code> (with the <code class="docutils literal notranslate"><span class="pre">:</span></code>).</p>
</div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5lOiBIVFRQUw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29tbWFuZCBsaW5lOiBIVFRQUw==" name="Q29tbWFuZCBsaW5lOiBIVFRQUw==" role="tabpanel" tabindex="0"><p>Try this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--get<span class="w"> </span>credential.helper
</pre></div>
</div>
<p>If this shows something, then the credential manager is probably
configured and HTTPS cloning will work (but you can’t verify it until
you try using it).</p>
<p>From now on, <strong>if you know that HTTPS works, you should always select
HTTPS as the clone URL from GitHub, or translate the URL to start with
the right thing yourself:</strong> <code class="docutils literal notranslate"><span class="pre">https://github.com/</span></code></p>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>VS Code has its own authentication method and the editor will guide you
through the process. If you are using VS Code, you can skip the SSH and
HTTPS checks.</p>
<p>From now on, you should <strong>select HTTPS as the clone URL from
GitHub, or translate the URL to start with the right thing
yourself:</strong> <code class="docutils literal notranslate"><span class="pre">https://github.com/</span></code></p>
<p>If you don’t want VS Code to be connected to your GitHub account,
set up and use the SSH method instead.</p>
</div></div>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-browsing"></span><section id="copy-and-browse-an-existing-project">
<h2>Copy and browse an existing project<a class="headerlink" href="#copy-and-browse-an-existing-project" title="Link to this heading"></a></h2>
<p>In this episode, we will look at an <strong>existing repository</strong> to
understand how all the pieces work together. Along the way, we will make a copy
(a <a class="reference internal" href="#document-reference#term-fork"><span class="xref std std-term">fork</span></a>) of the <a class="reference internal" href="#document-reference#term-repository"><span class="xref std std-term">repository</span></a> for us, which will be used for our
own changes in the next episode.</p>
<ul class="simple">
<li><p>We used to start by directly going and creating a repository from scratch. This
was abstract and hard to understand.</p></li>
<li><p>Instead, we’ll show you all the cool stuff in a Git repository
first, and then start adding files.</p></li>
<li><p>We use an example recipe book we created just for this course.</p></li>
<li><p>By the end of the course, you’ll know how to contribute your own
recipes to it.</p></li>
</ul>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>See a real Git repository and understand what is inside of it.</p></li>
<li><p>Understand how version control allows advanced inspection of a
repository.</p></li>
<li><p>See how Git allows multiple people to collaborate relatively easily.</p></li>
<li><p><strong>See the big picture</strong> instead of remembering a bunch of commands.</p></li>
</ul>
</div>
<section id="github-vs-code-command-line-and-more">
<h3>GitHub, VS Code, Command line, and more<a class="headerlink" href="#github-vs-code-command-line-and-more" title="Link to this heading"></a></h3>
<p>We offer <strong>four different paths</strong> for this exercise:</p>
<ul class="simple">
<li><p><strong>GitHub</strong> (this is the one we will demonstrate on day 1)</p></li>
<li><p><strong>VS Code</strong> (if you prefer to follow along using an editor; we will
return to this on day 2)</p></li>
<li><p><strong>RStudio</strong> (if you prefer to follow along using an editor; we will
return to this on day 2)</p></li>
<li><p><strong>Command line</strong> (for people comfortable with the command line; you
will see more of this on day 2)</p></li>
</ul>
<p>In the future we’ll add more paths, for example Jupyter
(<a class="reference external" href="https://github.com/coderefinery/git-intro/issues/458">contributions welcome!</a>).</p>
</section>
<section id="creating-a-copy-of-the-repository-by-forking">
<h3>Creating a copy of the repository by “forking”<a class="headerlink" href="#creating-a-copy-of-the-repository-by-forking" title="Link to this heading"></a></h3>
<p>A <a class="reference internal" href="#document-reference#term-repository"><span class="xref std std-term">repository</span></a> is a collection of files in one directory tracked
by git.  A <a class="reference internal" href="#document-reference#term-GitHub-repository"><span class="xref std std-term">GitHub repository</span></a> is GitHub’s copy, which adds
things like access control.  Each GitHub repository is owned by a user
or organization, who controls access.</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/fork.png"><img alt="Illustration of forking a repository on GitHub" src="_images/fork.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Illustration of forking a repository on GitHub.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>First, we need to make <strong>our own copy</strong> of the exercise repository. This will
become important later, when we make our own changes.</p>
<ol class="arabic">
<li><p>Go to the repository view on GitHub:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book">https://github.com/cr-workshop-exercises/recipe-book</a>: you can use this one if you don’t want your fork and contributions
to be visible on the stream or the recording</p></li>
<li><p><a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book-recorded">https://github.com/cr-workshop-exercises/recipe-book-recorded</a>: we will use this one for the demonstration which is streamed and recorded</p></li>
</ul>
</li>
<li><p>First, on GitHub, click the button that says “Fork”.  It is towards
the top-right of the screen:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/forking.png"><img alt="Screenshot on GitHub before clicking on &quot;Fork&quot;" class="with-border" src="_images/forking.png" style="width: 80%;" />
</a>
</figure>
</li>
<li><p>You should shortly be redirected to your copy of the repository
<strong>USER/recipe-book</strong>.</p></li>
</ol>
<p>At all times you should be aware of if you are looking at <em>your</em> repository
or the <em>CodeRefinery <a class="reference internal" href="#document-reference#term-upstream"><span class="xref std std-term">upstream</span></a></em> repository.</p>
<ul class="simple">
<li><p>Your repository: https://github.com/<strong>USER</strong>/recipe-book</p></li>
<li><p>CodeRefinery upstream repository: https://github.com/<strong>cr-workshop-exercises</strong>/recipe-book</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-0-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>You only need to open your own view, as described above.  The browser
URL should look like <code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book</span></code>, where
<code class="docutils literal notranslate"><span class="pre">USER</span></code> is your GitHub username.</p>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>You need to have forked the repository as described above.</p>
<p>We need to start by making a copy of this repository locally.</p>
<ol class="arabic simple">
<li><p>Start VS Code.</p></li>
<li><p>If you don’t have the default view (you already have a project
open), go to File → New Window.</p></li>
<li><p>Under “Start” on the screen, select “Clone Git Repository…”. Alternatively
navigate to the “Source Control” tab on the left sidebar and click on the “Clone Repository” button.</p></li>
<li><p>Paste in this URL: <code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book</span></code>, where
<code class="docutils literal notranslate"><span class="pre">USER</span></code> is your username.  You can copy this from the browser.</p></li>
<li><p>Browse and select the folder in which you want to clone the
repository.</p></li>
<li><p>Say yes, you want to open this repository.</p></li>
<li><p>Select “Yes, I trust the authors” (the other option works too).</p></li>
</ol>
</div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p><strong>This path is advanced and we do not include all command line
information: you need to be somewhat
comfortable with the command line already.</strong></p>
<p>We need to start by making a copy of this repository locally.  You
need to have forked the repository as described above.</p>
<ol class="arabic simple">
<li><p>Start the terminal in which you use Git (terminal application, or
Git Bash).</p></li>
<li><p>Change to the directory where you would want the repository to be
(<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~/code</span></code> for example, if the <code class="docutils literal notranslate"><span class="pre">~/code</span></code> directory is where you
store your files).</p></li>
<li><p>Run the following command: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/USER/recipe-book</span></code>, where <code class="docutils literal notranslate"><span class="pre">USER</span></code> is your
username.  You might need to use a SSH clone command instead of
HTTPS, depending on your setup.</p></li>
<li><p>Change to that directory: <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">recipe-book</span></code></p></li>
</ol>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>You need to have forked the repository as described above.</p>
<p>We need to start by making a copy of this repository locally.</p>
<ol class="arabic simple">
<li><p>Start RStudio.</p></li>
<li><p>Go to “File” → “New Project…”</p></li>
<li><p>Choose “Version Control”, and then “Git”</p></li>
<li><p>In the “Repository URL” field, paste in this URL: <code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book</span></code>, where
<code class="docutils literal notranslate"><span class="pre">USER</span></code> is your username.  You can copy this from the browser.</p></li>
<li><p>You can change the “Project directory name” if you want but that is not mandatory.
By default, it will use the repository name from the URL.</p></li>
<li><p>Click “Create Project”</p></li>
</ol>
</div></div>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<p>Work on this by yourself or in your team.</p>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<p>Before starting the exercise session show
how to fork the repository to own account
(above).</p>
</div>
<div class="admonition-exercise-browsing-an-existing-project-25-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Browsing an existing project (25 min)</p>
<p>Browse the recipe-book project (introduced above) and explore commits and branches. Take notes
and prepare questions.  The hints are for the GitHub path in the
browser.</p>
<ol class="arabic simple">
<li><p>Browse the <strong>commit history</strong>: Are commit messages understandable?
(Hint: “Commit history”, the timeline symbol, above the file list)</p></li>
<li><p>Compare the commit history with the <strong>network graph</strong> (“Insights” -&gt; “Network”). Can you find the branches?</p></li>
<li><p>How can you find out when a recipe was <strong>last modified</strong>?</p></li>
<li><p><strong>How many changes</strong> did the Guacamole recipe receive (you find it under “sides”)?
Try to click on some of the commits to see what changed.
(Hint: “History” in the view of a single file)</p></li>
<li><p><strong>Which recipes include the ingredient “salt”</strong>?
(Hint: the GitHub search.  From the repository view, it should offer
the filter “repo:USER/recipe-book” by default.  What if you
add a search term?)</p></li>
<li><p>In the Guacamole recipe, find out <strong>who modified each line last and when</strong>
(click on file, then click “Blame” button). Find out who added the cilantro
and in which commit.
(Hint: “Blame” view in the file view)</p></li>
<li><p>Can you use these recipes yourself? <strong>Are you allowed to share
modifications</strong>?
(Hint: look for a license file)</p></li>
<li><p><strong>Browse issues and pull requests</strong> in the <a class="reference internal" href="#document-reference#term-upstream"><span class="xref std std-term">upstream</span></a> repository (the
repository you forked from). Any idea what these might be good for?
(Hint: tabs in the repository view)</p></li>
</ol>
</div>
<p>The solution below goes over most of the answers, and you are
encouraged to use it when the hints aren’t enough - this is by
design.</p>
</section>
<section id="solution-and-walk-through">
<h3>Solution and walk-through<a class="headerlink" href="#solution-and-walk-through" title="Link to this heading"></a></h3>
<section id="basic-browsing">
<h4>(1) Basic browsing<a class="headerlink" href="#basic-browsing" title="Link to this heading"></a></h4>
<p>The most basic thing to look at is the history of commits.</p>
<ul class="simple">
<li><p>This is visible from a button in the repository view.  We see every
change, when, and who has committed.</p></li>
<li><p>Every change has a unique identifier, such as <code class="docutils literal notranslate"><span class="pre">554c187</span></code>.  This can
be used to identify both this change, and the whole project’s
version as of that change.</p></li>
<li><p>Clicking on a change in the view shows more.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-1-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-1-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-1-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-1-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-1-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Click on the timeline symbol in the repository view:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/history1.png"><img alt="Screenshot on GitHub of where to find the commit history" class="with-border" src="_images/history1.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-1-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>This can be done from “Timeline”, in the bottom of explorer, but only
for a single file.</p>
</div><div aria-labelledby="tab-1-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log
</pre></div>
</div>
<p>Try also:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
</pre></div>
</div>
</div><div aria-labelledby="tab-1-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This can be done from “History”, in the top right panel of explorer. This will open a pop-up window
from which you can explore the history of commits.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/history_RStudio.png"><img alt="Screenshot of RStudio of where to find the commit history" class="with-border" src="_images/history_RStudio.png" style="width: 100%;" />
</a>
</figure>
</div></div>
</section>
<section id="compare-commit-history-with-network-graph">
<h4>(2) Compare commit history with network graph<a class="headerlink" href="#compare-commit-history-with-network-graph" title="Link to this heading"></a></h4>
<p>The commit history we saw above looks linear: one commit after
another.  But if we look at the network view, we see some branches and
merges.  We’ll see how to do these later.  This is another one of the
basic Git views.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-2-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-2-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-2-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-2-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-2-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>In a new browser tab, open the “Insights” tab, and click on “Network”.
You can hover over the commit dots to see the person who committed and
how they correspond with the commits in the other view:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/network.png"><img alt="Screenshot on GitHub of the network graph" class="with-border" src="_images/network.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-2-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>We don’t know how to do this without an extension. Try starting a terminal and using the
“Command Line” option.</p>
</div><div aria-labelledby="tab-2-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>If you defined the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> alias (shortcut) as in <a class="reference internal" href="#document-configuration"><span class="doc">Configuring Git command line and editor</span></a>, you
can view the network graph with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph
</pre></div>
</div>
<p>If not, you can use the basic command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--graph<span class="w"> </span>--oneline<span class="w"> </span>--decorate<span class="w"> </span>--all
</pre></div>
</div>
</div><div aria-labelledby="tab-2-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This can be viewed in the same “History” tab that we just looked at. The branch network can be seen on the left of
the commit list, and individual commits can be clicked to see the person who committed and what changes they did.</p>
<figure class="align-default">
<img alt="_images/network_RStudio.png" src="_images/network_RStudio.png" />
</figure>
</div></div>
</section>
<section id="when-was-a-recipe-last-modified">
<h4>(3) When was a recipe last modified?<a class="headerlink" href="#when-was-a-recipe-last-modified" title="Link to this heading"></a></h4>
<p>We see the history for the whole repository, but we can also see it
for a single file.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-3-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-3-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-3-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-3-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Navigate to the file view: Main page → sides directory →
guacamole.md. Click the “History” button near the top right:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/file-history.png"><img alt="Screenshot on GitHub showing the history of a single file" class="with-border" src="_images/file-history.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-3-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Open sides/guacamole.md file in the editor.  Under the file browser,
we see a “Timeline” view there.</p>
</div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> command can take a filename and provide the log of only
a single file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git log sides/guacamole.md
</pre></div>
</div>
</div><div aria-labelledby="tab-3-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Open the file in the main editor window, and navigate to the “Version control” menu (Git icon in the toolbar right
below the main menu bar), then select “Log of guacamole.md”</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/file-history_RStudio_menu.png"><img alt="Screenshot of RStudio of where to find the file history" class="with-border" src="_images/file-history_RStudio_menu.png" style="width: 100%;" />
</a>
</figure>
<p>This will open a pop-up window showing all commits that modified the “Guacamole.md” file.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/file-history_RStudio_view.png"><img alt="Screenshot of RStudio showing history of the guacamole.md file" class="with-border" src="_images/file-history_RStudio_view.png" style="width: 100%;" />
</a>
</figure>
</div></div>
</section>
<section id="how-many-changes-did-the-guacamole-recipe-receive">
<h4>(4) How many changes did the Guacamole recipe receive?<a class="headerlink" href="#how-many-changes-did-the-guacamole-recipe-receive" title="Link to this heading"></a></h4>
<p>According to the view above, it seems to have five changes (as of
2024-03-07).  This could change later on.</p>
</section>
<section id="which-recipes-include-the-ingredient-salt">
<h4>(5) Which recipes include the ingredient “salt”<a class="headerlink" href="#which-recipes-include-the-ingredient-salt" title="Link to this heading"></a></h4>
<p>Version control makes it very easy to find all occurrences of a single
word. This is useful for things like finding where functions or
variables are defined or used.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-4-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-4-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-4-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-4-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We go to the main recipe book view.  We click the Search magnifying
class at the very top, type “salt”, and click enter. We see every
instance, including the context.</p>
<div class="admonition-searching-in-a-forked-repository-will-not-work-instantaneously admonition">
<p class="admonition-title">Searching in a forked repository will not work instantaneously!</p>
<p>It usually takes a few minutes before one can search for keywords in a forked repository
since it first needs to build the search index the very first time we search.
Start it, continue with other steps, then come back to this.</p>
</div>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/search1.png"><img alt="Screenshot on GitHub performing a search" class="with-border" src="_images/search1.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-4-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>If you use the “Search” magnifying class on the left sidebar, and
search for “salt” it shows the occurrences in every file. You can
click to see the usage in context.</p>
</div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p><code class="docutils literal notranslate"><span class="pre">grep</span></code> is the command line tool that searches for lines matching a term</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>salt<span class="w">          </span><span class="c1"># only the lines</span>
<span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>-C<span class="w"> </span><span class="m">3</span><span class="w"> </span>salt<span class="w">     </span><span class="c1"># three lines of context</span>
<span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>salt<span class="w">       </span><span class="c1"># case insensitive</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Go to Edit → Find in Files… (ctrl+shift+F) and type salt in the Find field. It will by default search for salt in
all files in the recipe-book directory. Press Find button at the bottom of the pop-up window. It will show all
occurrences in every file in a Find in Files tab in the Console panel.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/search_RStudio.png"><img alt="Screenshot of the Find in Files tab in RStudio showing all &quot;salt&quot; occurrences in every file" class="with-border" src="_images/search_RStudio.png" style="width: 100%;" />
</a>
</figure>
</div></div>
</section>
<section id="who-modified-each-line-last-and-when">
<h4>(6) Who modified each line last and when?<a class="headerlink" href="#who-modified-each-line-last-and-when" title="Link to this heading"></a></h4>
<p>This is called the “annotate” or “blame” view. The name “blame”
is very unfortunate, but it is the standard term for historical reasons
for this functionality and it is not meant to blame anyone.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-5-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-5-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-5-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-5-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-5-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>From a recipe view, change preview to “Blame” towards the top-left.
To get the actual commit, click on the commit message.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/annotate1.png"><img alt="Screenshot on GitHub showing the &quot;Blame&quot; view" class="with-border" src="_images/annotate1.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-5-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>This requires an extension.  We recommend for now you use the command
line version, after opening a terminal.</p>
</div><div aria-labelledby="tab-5-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>These two commands are similar but have slightly different output.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>annotate<span class="w"> </span>sides/guacamole.md
<span class="gp">$ </span>git<span class="w"> </span>blame<span class="w"> </span>sides/guacamole.md
</pre></div>
</div>
</div><div aria-labelledby="tab-5-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Open the file in the main editor window, and navigate to the “Version control” menu (Git icon in the toolbar right
below the main menu bar), then select “Blame “guacamole.md” on GitHub”. This will open a GitHub page in your
web-browser with the same view as shown in the GitHub tab.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/annotate_RStudio.png"><img alt="Screenshot of RStudio of where to find the file history" class="with-border" src="_images/annotate_RStudio.png" style="width: 100%;" />
</a>
</figure>
</div></div>
</section>
<section id="can-you-use-these-recipes-yourself-are-you-allowed-to-share-modifications">
<h4>(7) Can you use these recipes yourself? Are you allowed to share modifications?<a class="headerlink" href="#can-you-use-these-recipes-yourself-are-you-allowed-to-share-modifications" title="Link to this heading"></a></h4>
<ul>
<li><p>Look at the file <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code>.</p></li>
<li><p>It says it is “Creative Commons Zero 1.0”, which is equivalent to
public domain.  You can use them without conditions.</p></li>
<li><p>Note the GitHub view of the file <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> gives a nice summary of what it
means. Try it out:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/license.png"><img alt="Screenshot on GitHub summarizing license terms" class="with-border" src="_images/license.png" style="width: 100%;" />
</a>
</figure>
</li>
</ul>
</section>
<section id="browse-issues-and-pull-requests-in-the-upstream-repository">
<h4>(8) Browse issues and pull requests in the <a class="reference internal" href="#document-reference#term-upstream"><span class="xref std std-term">upstream</span></a> repository<a class="headerlink" href="#browse-issues-and-pull-requests-in-the-upstream-repository" title="Link to this heading"></a></h4>
<p>This can only be done through the GitHub view.  Go to the main
repository <strong>cr-workshop-exercises/recipe-book</strong>, (not your fork):
<a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book">https://github.com/cr-workshop-exercises/recipe-book</a>.  <a class="reference internal" href="#document-reference#term-issue"><span class="xref std std-term">Issues</span></a>
and <a class="reference internal" href="#document-reference#term-pull-request"><span class="xref std std-term">Pull requests</span></a> are different for each GitHub
copy.</p>
<ul class="simple">
<li><p>Click on the “Issues” tab.  These are notes that people have added,
which allow discussion about the project. Often they are used to communicate
problems or ideas.</p></li>
<li><p>Click on the “Pull requests” tab. This allows anyone to <em>propose
changes</em>, but only the repository owners can accept.</p></li>
</ul>
</section>
</section>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Git allowed us to understand this simple project much better than we
could, if it was just a few files on our own computer.</p></li>
<li><p>It was easy to share the project with the course.</p></li>
<li><p>By forking the repository, we created our own copy. This is
important for the next episode, where we will make changes to
our copy.</p></li>
</ul>
</section>
</section>
<span id="document-commits"></span><section id="recording-changes">
<h2>Recording changes<a class="headerlink" href="#recording-changes" title="Link to this heading"></a></h2>
<p>The first and most basic task to do in Git is <strong>record changes</strong> using
commits. In this part, we will record changes in two
ways: on a new branch (which supports multiple lines of work at once), and directly
on the “main” branch (which happens to be the default branch here).</p>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Record new changes to our own copy of the project.</p></li>
<li><p>Understand adding changes in two separate branches.</p></li>
<li><p>See how to compare different versions.</p></li>
</ul>
</div>
<section id="background">
<h3>Background<a class="headerlink" href="#background" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>In the previous episode we have browsed an existing <a class="reference internal" href="#document-reference#term-repository"><span class="xref std std-term">repository</span></a> and saw <a class="reference internal" href="#document-reference#term-commit"><span class="xref std std-term">commits</span></a>
and branches.</p></li>
<li><p>Each commit is a snapshot of the entire project at a certain
point in time and has a unique identifier (<a class="reference internal" href="#document-reference#term-hash"><span class="xref std std-term">hash</span></a>) .</p></li>
<li><p>A <a class="reference internal" href="#document-reference#term-branch"><span class="xref std std-term">branch</span></a> is a line of development, and the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch or <code class="docutils literal notranslate"><span class="pre">master</span></code> branch
are often the default branch in Git.</p></li>
<li><p>A branch in Git is like a sticky note that is attached to a commit. When we add
new commits to a branch, the sticky note moves to the new commit.</p></li>
<li><p><a class="reference internal" href="#document-reference#term-tag"><span class="xref std std-term">Tags</span></a> are a way to mark a specific commit as important, for example a release
version. They are also like a sticky note, but they don’t move when new
commits are added.</p></li>
</ul>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/gophers.png"><img alt="Branching explained with a gopher" src="_images/gophers.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">What if two people, at the same time, make two different changes?  Git
can merge them together easily.  Image created using <a class="reference external" href="https://gopherize.me/">https://gopherize.me/</a>
(<a class="reference external" href="https://twitter.com/jay_gee/status/703360688618536960">inspiration</a>).</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/branches.png"><img alt="Illustration of what we want to achieve in this exercise" src="_images/branches.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Illustration of what we want to achieve in this exercise.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We offer <strong>four different paths</strong> of how to do this exercise.  For
the CodeRefinery workshop day 1, we use and demonstrate the <strong>GitHub
path</strong> only and recommend you do that
(you can get experience with
the other paths on day 2).</p>
<div class="admonition-exercise-practice-creating-commits-and-branches-20-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Practice creating commits and branches (20 min)</p>
<ol class="arabic simple">
<li><p>Make sure that you now work <strong>on your fork</strong> of the recipe-book
repository (<code class="docutils literal notranslate"><span class="pre">USER/recipe-book</span></code>, <em>not</em> <code class="docutils literal notranslate"><span class="pre">cr-workshop-exercises/recipe-book</span></code>)</p></li>
<li><p>First create a new branch and then add a recipe to the branch and commit the change.</p></li>
<li><p>In a new commit, modify the recipe you just added.</p></li>
<li><p>Switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and modify a recipe there.</p></li>
<li><p>Browse the network and locate the commits that you just created (“Insights” -&gt; “Network”).</p></li>
<li><p>Compare the branch that you created with the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch. Can you find an easy way to see the differences?</p></li>
<li><p>Can you find a way to compare versions between two arbitrary commits in the repository?</p></li>
<li><p>Try to rename the branch that you created and then browse the network again.</p></li>
<li><p>Try to create a tag for one of the commits that you created (on GitHub,
create a “release”).</p></li>
</ol>
</div>
<p>The solution below goes over most of the answers, and you are
encouraged to use it when the hints aren’t enough - this is by
design.</p>
</section>
<section id="solution-and-walk-through">
<h3>Solution and walk-through<a class="headerlink" href="#solution-and-walk-through" title="Link to this heading"></a></h3>
<section id="make-sure-you-are-on-your-fork">
<h4>(1) Make sure you are on your fork<a class="headerlink" href="#make-sure-you-are-on-your-fork" title="Link to this heading"></a></h4>
<figure class="align-default" id="id3">
<a class="with-border reference internal image-reference" href="_images/fork1.png"><img alt="Screenshot on GitHub where we verify that we are on our fork." class="with-border" src="_images/fork1.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">You want to see your username in the URL and you want to see the “forked from
…” part.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="create-a-branch-and-add-a-recipe-to-the-branch">
<h4>(2) Create a branch and add a recipe to the branch<a class="headerlink" href="#create-a-branch-and-add-a-recipe-to-the-branch" title="Link to this heading"></a></h4>
<p>A recipe template is below.  This format is called “Markdown”, but it
doesn’t matter right now. You don’t have to use this particular template.</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Recipe name</span>

<span class="gu">## Ingredients</span>

<span class="k">-</span><span class="w"> </span>Ingredient 1
<span class="k">-</span><span class="w"> </span>Ingredient 2


<span class="gu">## Instructions</span>

<span class="k">-</span><span class="w"> </span>Step 1
<span class="k">-</span><span class="w"> </span>Step 2
</pre></div>
</div>
<p>There is a <a class="reference internal" href="#document-reference#term-main"><span class="xref std std-term">main</span></a> branch that is default.  We want to create a
<em>different</em> <a class="reference internal" href="#document-reference#term-branch"><span class="xref std std-term">branch</span></a> for our new commit, because we will <em>merge</em> it later.
<a class="reference internal" href="#document-reference#term-commit"><span class="xref std std-term">Commit</span></a> is the verb to describe recording more changes, and also the
name of the thing you make.  A commit is identified by something such as
<code class="docutils literal notranslate"><span class="pre">554c187</span></code>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-0-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><ol class="arabic">
<li><p>Where it says “main” at the top left, click, enter a new branch
name <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code>, click on the offer to create the new branch
(“Create branch new-recipe from main”).</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-create-branch.png"><img alt="Screenshot on GitHub where we create a new branch." class="with-border" src="_images/github-create-branch.png" style="width: 60%;" />
</a>
</figure>
</li>
<li><p>Change to some sub-directory, for example <code class="docutils literal notranslate"><span class="pre">sides</span></code>.</p></li>
<li><p>Make sure you are still on the <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code> branch (it should say
it at the top), and click “Add file” → “Create new file” from the
upper right.</p></li>
<li><p>Enter a filename where it says “Name your file…”, with a <code class="docutils literal notranslate"><span class="pre">.md</span></code> at
the end.  Example: <code class="docutils literal notranslate"><span class="pre">mixed-nuts.md</span></code>.</p></li>
<li><p>Enter the recipe.  You can use the template above.</p></li>
<li><p>Click “Commit changes”</p></li>
<li><p>Enter a commit message. Then click “Commit
changes”.</p></li>
</ol>
<p>You should appear back at the file browser view, and see your new
recipe there.</p>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Make sure that you are on the main branch.</p></li>
<li><p>Version control button on left sidebar → Three dots in upper right of source control → Branch → Create branch.</p></li>
<li><p>VS Code automatically switches to the new branch.</p></li>
</ol>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/vscode-create-branch.png"><img alt="VS Code screenshot of create branch" class="with-border" src="_images/vscode-create-branch.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Creating a new branch in VS Code.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="4">
<li><p>Create a new file, for example <code class="docutils literal notranslate"><span class="pre">sides/mixed-nuts.md</span></code>.</p></li>
<li><p>In the version control sidebar, click the <code class="docutils literal notranslate"><span class="pre">+</span></code> sign to add the file for the next commit.</p></li>
<li><p>Enter a brief message and click “Commit”.</p></li>
</ol>
<figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/vscode-add-and-commit.png"><img alt="Screenshot of VS Code commit process" class="with-border" src="_images/vscode-add-and-commit.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Committing a new file in VS Code.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Create a new branch called <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code> from <code class="docutils literal notranslate"><span class="pre">main</span></code> and switch to it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>new-recipe<span class="w"> </span>main
</pre></div>
</div>
<p>Then create the new file. Finally add and commit the file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>sides/mixed-nuts.md
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add mixed nuts recipe&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><ol class="arabic">
<li><p>In the Git tab of the Environment panel (upper right), click New Branch.</p></li>
<li><p>In the pop-up fill in the branch name, e.g. “new-recipe”, untick the box in front of Sync branch with remote
to avoid the branch to be pushed to GitHub right away.</p></li>
<li><p>Click Create and RStudio will automatically switch to the new branch.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-create-branch.png"><img alt="RStudio screenshot of create branch" class="with-border" src="_images/rstudio-create-branch.png" style="width: 80%;" />
</a>
</figure>
</li>
<li><p>Create a new file, for example <code class="docutils literal notranslate"><span class="pre">sides/mixed-nuts.md</span></code>. Remember to save any changes to your file before committing.</p></li>
<li><p>In the Git tab in the Environment panel (upper right) check the box in front of the file you just created, then
click Commit in the tab menu-bar to open the Git Changes window.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-add-commit.png"><img alt="Screenshot of RStudio commit process in the main window" class="with-border" src="_images/rstudio-add-commit.png" style="width: 80%;" />
</a>
</figure>
</li>
<li><p>In the Changes window, check that your new file is selected (ticked), write a short commit message, and finally
click “Commit”</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-commit-changes.png"><img alt="Screenshot of RStudio commit process in the changes window" class="with-border" src="_images/rstudio-commit-changes.png" style="width: 80%;" />
</a>
</figure>
</li>
</ol>
</div></div>
</section>
<section id="modify-the-recipe-with-a-new-commit">
<h4>(3) Modify the recipe with a new commit<a class="headerlink" href="#modify-the-recipe-with-a-new-commit" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-1-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-1-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-1-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-1-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-1-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>This is similar to before, but we click on the existing file to
modify.</p>
<ol class="arabic simple">
<li><p>Click on your new recipe, for example <code class="docutils literal notranslate"><span class="pre">mixed-nuts.md</span></code>.</p></li>
<li><p>Click the edit button, the pencil icon at top-right.</p></li>
<li><p>Follow the “Commit changes” instructions as in the previous step.</p></li>
</ol>
</div><div aria-labelledby="tab-1-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Repeat as in the previous step.</p>
</div><div aria-labelledby="tab-1-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Modify the file. Then commit the new change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>sides/mixed-nuts.md
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Short summary of the change&quot;</span>
</pre></div>
</div>
<p>Make sure to replace “Short summary of the change” with a meaningful commit
message.</p>
</div><div aria-labelledby="tab-1-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Make some changes to the recipe you created in the step above. Then follow the same instructions as above starting
from step 5.</p>
</div></div>
</section>
<section id="switch-to-the-main-branch-and-modify-a-recipe-there">
<h4>(4) Switch to the main branch and modify a recipe there<a class="headerlink" href="#switch-to-the-main-branch-and-modify-a-recipe-there" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-2-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-2-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-2-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-2-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-2-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Go back to the main repository page (your user’s page).</p></li>
<li><p>In the branch switch view (top left above the file view), switch to
<code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Modify another recipe that already exists, following the pattern
from above. Don’t modify the one you just created (but it shouldn’t
even be visible on the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch).</p></li>
</ol>
</div><div aria-labelledby="tab-2-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Use the branch selector at the bottom to switch back to the main branch.  Repeat the same steps as above.</p>
<figure class="align-default" id="id6">
<a class="with-border reference internal image-reference" href="_images/vscode-change-branch.png"><img alt="VS Code screenshot" class="with-border" src="_images/vscode-change-branch.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Switching branch via selector at bottom.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-2-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>First switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main
</pre></div>
</div>
<p>Then modify a file. Finally <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and then commit the change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Short summary of the change&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>In the Git tab of the Environment panel (upper right), click your current branch name, here “new-recipe” and then
choose the “main” branch.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-switch.png"><img alt="Screenshot showing how to switch branch in RStudio" class="with-border" src="_images/rstudio-switch.png" style="width: 100%;" />
</a>
</figure>
</div><p>Modify another recipe and commit your changes.</p>
</div>
</section>
<section id="browse-the-commits-you-just-made">
<h4>(5) Browse the commits you just made<a class="headerlink" href="#browse-the-commits-you-just-made" title="Link to this heading"></a></h4>
<p>Let’s look at what we did.  Now, the <code class="docutils literal notranslate"><span class="pre">main</span></code> and <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code> branches
have diverged: both have some modifications. Try to find the commits
you created.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-3-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-3-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-3-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-3-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Insights tab → Network view (just like we have done before).</p>
</div><div aria-labelledby="tab-3-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>This requires an extension.  Opening the VS Code terminal lets you use the command line method.</p>
<figure class="align-default" id="id7">
<a class="with-border reference internal image-reference" href="_images/vscode-open-terminal.png"><img alt="VS Code screenshot as described" class="with-border" src="_images/vscode-open-terminal.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">View → Terminal will open a terminal at bottom.  This is a normal command line interface and very useful for work.  (Note the git-aware prompt that shows the current branch.  This requires other setup.)</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph
<span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--graph<span class="w"> </span>--oneline<span class="w"> </span>--decorate<span class="w"> </span>--all<span class="w">  </span><span class="c1"># If you didn&#39;t define git graph yet.</span>
</pre></div>
</div>
<p>In my case I got:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="hll">* b4de93b (HEAD -&gt; main) add spring onion to poke
</span><span class="hll">| * dc5d6f0 (origin/new-recipe, new-recipe) adding chocolate to the mixed nuts recipe
</span><span class="hll">| * b4035e3 add mixed nuts recipe
</span>|/
*   554c187 (origin/main, origin/HEAD) Merge branch &#39;alex/fruit-salad&#39;
|\
| * 89d5ef9 fruit salad: instructions
| * 3bd2468 fruit salad: ingredients
* | 8bcb766 a todo note to not forget the instructions
|/
* b950c5c just fixing capitalization
* d18035e fix formatting
* 7051cca add some cilantro
* ae19e81 add categories for easier browsing
* a6fe629 we also need salad
* 30b89c4 document what this is about
*   fd12dc1 Merge branch &#39;radovan/lasagna&#39;
|\
| * 7753d43 vegetarian lasagna: instructions
| * aa0473e vegetarian lasagna: ingredients
* |   1e5a24a Merge branch &#39;radovan/poke&#39;
|\ \
| * | 5aa6687 oh no! forgot onion - adding
| * | cc84e4f working on a poke recipe
| |/
* | 9500901 a classic pumpkin pie recipe - yum!
* | 34ce939 drafting a recipe for a pasta, so far only ingredients
* | 28e5f26 recipe for a mushroom soup
|/
* a550963 reduce amount of salt
* f2d6d58 don&#39;t forget to enjoy
* 1fde064 add half an onion
* 4c1873e drafting a guacamole recipe
* 2992443 this will be licensed under CC0
* 084a1ea starting with an almost empty readme
</pre></div>
</div>
</div><div aria-labelledby="tab-3-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><ol class="arabic">
<li><p>Open the history window like you did during the previous lesson.</p></li>
<li><p>Select “(All branches)” in the branch selector drop-down menu to see all the commits on all branches.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-history-all-branches.png"><img alt="Screenshot of the History window in RStudio showing all branches and all commits" class="with-border" src="_images/rstudio-history-all-branches.png" style="width: 80%;" />
</a>
</figure>
</li>
</ol>
<blockquote>
<div><p><strong>NOTE:</strong> If you don’t see the branch selector when you first open the History window, try to switch from the History
view to the Changes view and back.</p>
</div></blockquote>
</div></div>
</section>
<section id="compare-the-branches">
<h4>(6) Compare the branches<a class="headerlink" href="#compare-the-branches" title="Link to this heading"></a></h4>
<p>Comparing changes is an important thing we need to do.  When using the
GitHub view only, this may not be so common, but we’ll show it so that
it makes sense later on.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-4-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-4-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-4-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-4-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>A nice way to compare braches is to add <code class="docutils literal notranslate"><span class="pre">/compare</span></code> to the URL of the repository,
for example (replace USER):
<code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book/compare</span></code></p>
</div><div aria-labelledby="tab-4-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>This seems to require an extension.  We recommend you use the command line method.</p>
</div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>main<span class="w"> </span>new-recipe
</pre></div>
</div>
<p>Try also the other way around:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>new-recipe<span class="w"> </span>main
</pre></div>
</div>
<p>Try also this if you only want to see the file names that are different:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>--name-only<span class="w"> </span>main<span class="w"> </span>new-recipe
</pre></div>
</div>
</div><div aria-labelledby="tab-4-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This doesn’t seem possible in RStudio without an add-in. We recommend that you use the Terminal in RStudio and follow
the “Command line” path instructions.</p>
</div></div>
</section>
<section id="compare-two-arbitrary-commits">
<h4>(7) Compare two arbitrary commits<a class="headerlink" href="#compare-two-arbitrary-commits" title="Link to this heading"></a></h4>
<p>This is similar to above, but not only between branches.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-5-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-5-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-5-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-5-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-5-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Following the <code class="docutils literal notranslate"><span class="pre">/compare</span></code>-trick above, one can compare commits on GitHub by
adjusting the following URL:
<code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book/compare/VERSION1..VERSION2</span></code></p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">USER</span></code> with your username and <code class="docutils literal notranslate"><span class="pre">VERSION1</span></code> and <code class="docutils literal notranslate"><span class="pre">VERSION2</span></code> with a commit hash or branch name.
Please try it out.</p>
</div><div aria-labelledby="tab-5-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Again, we recommend using the Command Line method.</p>
</div><div aria-labelledby="tab-5-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>First try this to get a short overview of the commits:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
</pre></div>
</div>
<p>Then try to compare any two commit identifiers with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.</p>
</div><div aria-labelledby="tab-5-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Again, this doesn’t seem possible in RStudio without an add-in. We recommend that you use the Terminal in RStudio and
follow the “Command line” path instructions.</p>
</div></div>
</section>
<section id="renaming-a-branch">
<h4>(8) Renaming a branch<a class="headerlink" href="#renaming-a-branch" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-6-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-6-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-6-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-6-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-6-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Branch button → View all branches → three dots at right side → Rename branch.</p>
</div><div aria-labelledby="tab-6-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Version control sidebar → Three dots (same as in step 2) → Branch → Rename branch.  Make sure you are on the right branch before you start.</p>
</div><div aria-labelledby="tab-6-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Renaming the current branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-m<span class="w"> </span>better-recipe
</pre></div>
</div>
<p>Renaming a different branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-m<span class="w"> </span>new-recipe<span class="w"> </span>better-recipe
</pre></div>
</div>
</div><div aria-labelledby="tab-6-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Again, this doesn’t seem possible in RStudio without an add-in. We recommend that you use the Terminal in RStudio and
follow the “Command line” path instructions.</p>
</div></div>
</section>
<section id="creating-a-tag">
<h4>(9) Creating a tag<a class="headerlink" href="#creating-a-tag" title="Link to this heading"></a></h4>
<p>Tags are a way to mark a specific commit as important, for example a release
version. They are also like a sticky note, but they don’t move when new
commits are added.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-7-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-7-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-7-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-7-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-7-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Click on the branch switcher, and then on “Tags”, then on “View all tags”, then
“Create a new release”:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-create-tag.png"><img alt="Screenshot on GitHub where we create a new tag." class="with-border" src="_images/github-create-tag.png" style="width: 60%;" />
</a>
</figure>
<p>What GitHub calls releases are actually tags in Git with additional metadata.
For the purpose of this exercise we can use them interchangeably.</p>
</div><div aria-labelledby="tab-7-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Version control sidebar → Three dots (same as in step 2) → Tags → Create tag.  Make sure you are on the expected commit before you do this.</p>
</div><div aria-labelledby="tab-7-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Creating a tag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span>v1.0<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;New manuscript version of my recipe for the pre-print&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Again, this doesn’t seem possible in RStudio without an add-in. We recommend that you use the Terminal in RStudio and
follow the “Command line” path instructions.</p>
</div></div>
</section>
</section>
<section id="discussion">
<h3>Discussion<a class="headerlink" href="#discussion" title="Link to this heading"></a></h3>
<p>In this part, we saw how we can make changes to our files.
With <a class="reference internal" href="#document-reference#term-branch"><span class="xref std std-term">branches</span></a>, we can
track several lines of work at once, and can compare
their differences.</p>
<ul class="simple">
<li><p>You could commit directly to <code class="docutils literal notranslate"><span class="pre">main</span></code> if there is only one single line
of work and it’s only you.</p></li>
<li><p>You could commit to branches if there are multiple lines of work at
once, and you don’t want them to interfere with each other.</p></li>
<li><p>Tags are useful to mark a specific commit as important, for example a
release version.</p></li>
<li><p>In Git, commits form a so-called “graph”. Branches are tags in Git function
like sticky notes that stick to specific commits. What this means for us is
that it does not cost any significant disk space to create new branches.</p></li>
<li><p>Not all files should be added to Git. For example, temporary files or
files with sensitive information or files which are generated as part of
the build process should not be added to Git. For this we use
<code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> (more about this later: <a class="reference internal" href="#document-what-to-avoid#what-to-avoid"><span class="std std-ref">What to avoid</span></a>).</p></li>
<li><p>Unsure on which branch you are or what state the repository is in?
On the command line, use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> frequently to get a quick overview.</p></li>
</ul>
</section>
</section>
<span id="document-merging"></span><section id="merging-changes-and-contributing-to-the-project">
<h2>Merging changes and contributing to the project<a class="headerlink" href="#merging-changes-and-contributing-to-the-project" title="Link to this heading"></a></h2>
<p>Git allows us to have different development lines where we can try things out.
It also allows different people to work on the same project at the same.  This
means that we have to somehow combine the changes later. In this part we will
practice this: <a class="reference internal" href="#document-reference#term-merging"><span class="xref std std-term">merging</span></a>.</p>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Understand that on GitHub merging is done through a <a class="reference internal" href="#document-reference#term-pull-request"><span class="xref std std-term">pull request</span></a>. Think of it as a <strong>change proposal</strong>.</p></li>
<li><p>Create and merge a pull request within your own repository.</p></li>
<li><p>Understand (and optionally) do the same across repositories, to contribute to
the <a class="reference internal" href="#document-reference#term-upstream"><span class="xref std std-term">upstream</span></a> public repository.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min introduction and setup</p></li>
<li><p>25 min exercise</p></li>
<li><p>15 min discussion</p></li>
</ul>
</div>
<section id="background">
<h3>Background<a class="headerlink" href="#background" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>In the last episode, we added a new recipe on a branch.  This allows
us to test it before it becomes “live”.</p></li>
<li><p>Now, we want to bring that change into the “main” branch.</p></li>
<li><p>We will find it’s not that hard!  But you do have to keep track of the
steps and make sure that you are careful about where a change is added.</p></li>
</ul>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<p>In this exercise, we will show how we can <strong>propose changes</strong> and <strong>merge
changes</strong> within our own repository. Optionally, you can propose a recipe to
the <a class="reference internal" href="#document-reference#term-upstream"><span class="xref std std-term">upstream</span></a> recipe book - which shows the true purpose of this.  But
this is only a preview and we will practice collaboration much more in the
<a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git lesson</a>.</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/merging.png"><img alt="Illustration of what we want to achieve in this exercise" src="_images/merging.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Illustration of what we want to achieve in this exercise.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We offer <strong>three different paths</strong> of how to do this exercise.  For
the CodeRefinery workshop day 1, we use and demonstrate the <strong>GitHub
path</strong> only and recommend you do that.  The exercise text below has
some GitHub-specific notes, but most is possibly with any path.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-0-TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" name="TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" role="tab" tabindex="-1">Local (VS Code, Command line)</button></div><div aria-labelledby="tab-0-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-0-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>First, we make something called a <a class="reference internal" href="#document-reference#term-pull-request"><span class="xref std std-term">pull request</span></a>, which allows
review and commenting before the actual merge.</p>
<div class="admonition-exercise-merging-branches-with-pull-requests-20-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Merging branches with pull requests (20 min)</p>
<p>We assume that in the previous exercise you have created a new branch
with a recipe.  In our previous example, it is called <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code>.
If not, create the branch first and add a recipe to your new branch, see
<a class="reference internal" href="#document-commits"><span class="doc">Recording changes</span></a>.</p>
<p>We provide basic hints. You should refer to the solution as needed.</p>
<ol class="arabic simple">
<li><p>Navigate to your branch from the previous episode
(hint: the same branch view we used last time).</p></li>
<li><p>Begin the pull request process
(hint: There is a “Contribute” button in the branch view).</p></li>
<li><p>Add or modify the pull request title and description, and verify the other data.
In the pull request verify the target repository and the target
branch. Make sure that you are merging within your own repository.
<strong>GitHub: By default, it will offer to make the change to the
upstream repository, <code class="docutils literal notranslate"><span class="pre">cr-workshop-exercises</span></code>.  You should change this</strong>, you
shouldn’t contribute your test recipe upstream yet.  Where it says
<code class="docutils literal notranslate"><span class="pre">base</span> <span class="pre">repository</span></code>, select your own user’s repository.</p></li>
<li><p>Create the pull request by clicking “Create pull request”. Browse
the network view to see if anything has changed yet.</p></li>
<li><p>Merge the pull request, or if you are not on GitHub you can merge
the branch locally. Browse the network again. What has changed?</p></li>
<li><p>Find out which branches are merged and thus safe to delete. Then remove them
and verify that the commits are still there, only the branch labels are
gone (hint: you can delete branches that have been merged into <code class="docutils literal notranslate"><span class="pre">main</span></code>).</p></li>
<li><p>Optional: Try to create a new branch with a new change, then open a pull
request but towards the central repository. We will later merge few of
those.
(Hint: this is mostly the same as above, for the GitHub path.  But,
you set the base repository as CodeRefinery.  You might need to
compare across forks.)</p></li>
</ol>
</div>
</div><div aria-labelledby="tab-0-TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" name="TG9jYWwgKFZTIENvZGUsIENvbW1hbmQgbGluZSk=" role="tabpanel" tabindex="0"><p>When working locally, it’s easier to merge branches: we can just do
the merge, without making a pull request.  But we don’t have that step
of review and commenting and possibly adjusting.</p>
<div class="admonition-exercise exercise important admonition" id="exercise-1">
<p class="admonition-title">Exercise</p>
<ol class="arabic simple">
<li><p>Switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch that you want to merge the <em>other</em>
branch into. (Note that this is the other way around from the
GitHub path).</p></li>
</ol>
<p>Then:</p>
<ol class="arabic simple" start="5">
<li><p>Merge the other branch into <code class="docutils literal notranslate"><span class="pre">main</span></code> (which is then your current branch).</p></li>
<li><p>Find out which branches are merged and thus safe to delete. Then remove them
and verify that the commits are still there, only the branch labels are
gone. (Hint: you can delete branches that have been merged into <code class="docutils literal notranslate"><span class="pre">main</span></code>).</p></li>
<li><p>(optional, advanced) Try to create a new branch, and make a
GitHub pull request with your recipe, and contribute it to our
upstream repository.  <em>This is very complex right now since your
change has to get to GitHub, and we haven’t shown that yet.  We
don’t give a solution for this.</em></p></li>
</ol>
</div>
</div></div>
<p>The solution below goes over most of the answers, and you are
encouraged to use it when the hints aren’t enough - this is by design.</p>
</section>
<section id="solution-and-walk-through">
<h3>Solution and walk-through<a class="headerlink" href="#solution-and-walk-through" title="Link to this heading"></a></h3>
<section id="navigate-to-your-branch">
<h4>(1) Navigate to your branch<a class="headerlink" href="#navigate-to-your-branch" title="Link to this heading"></a></h4>
<p>Before making the pull request, or doing a merge, it’s important to
make sure that you are on the right branch.  Many people have been
frustrated because they forgot this!</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-1-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-1-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-1-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-1-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>On GitHub make sure you are on the branch you want to merge <strong>from</strong>:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-navigate-to-branch.png"><img alt="Screenshot on GitHub where we navigate to the branch we wish to merge." class="with-border" src="_images/github-navigate-to-branch.png" style="width: 80%;" />
</a>
</figure>
</div><div aria-labelledby="tab-1-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Remember, you need to switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch, the branch we want to merge <strong>to</strong>.
This is different from the GitHub path.</p>
</div><div aria-labelledby="tab-1-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Remember, you need to switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch, the branch we want to merge <strong>to</strong>.
This is different from the GitHub path:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main
</pre></div>
</div>
</div></div>
</section>
<section id="begin-the-pull-request-process">
<span id="create-pull-request"></span><h4>(2) Begin the pull request process<a class="headerlink" href="#begin-the-pull-request-process" title="Link to this heading"></a></h4>
<p>In GitHub, the pull request is the way we propose to merge two
branches together.  We start the process of making one.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-2-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-2-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-2-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-2-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-contribute.png"><img alt="Screenshot on GitHub where we get to the pull request process." class="with-border" src="_images/github-contribute.png" style="width: 80%;" />
</a>
</figure>
</div><div aria-labelledby="tab-2-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>It is possible to open pull requests from the editor, but
we don’t cover that here.</p>
<p>If you are working locally, continue to step 5.</p>
</div><div aria-labelledby="tab-2-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>It is possible to open pull requests from the command line, but
we don’t cover that here.</p>
<p>If you are working locally, continue to step 5.</p>
</div></div>
</section>
<section id="fill-out-and-verify-the-pull-request">
<h4>(3) Fill out and verify the pull request<a class="headerlink" href="#fill-out-and-verify-the-pull-request" title="Link to this heading"></a></h4>
<p>Check that the pull request is directed to the right repository and branch
and that it contains the changes that you meant to merge.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-3-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-3-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-3-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Things to check:</p>
<ul>
<li><p>Base repository: this should be your own</p></li>
<li><p>Title: make it descriptive</p></li>
<li><p>Description: make it informative</p></li>
<li><p>Scroll down to see commits: are these the ones you want to merge?</p></li>
<li><p>Scroll down to see the changes: are these the ones you want to merge?</p>
<figure class="align-default" id="id2">
<a class="with-border reference internal image-reference" href="_images/github-comparing-changes.png"><img alt="Screenshot on GitHub where we verify the changes we want to merge." class="with-border" src="_images/github-comparing-changes.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">This screenshot only shows the top part. If you scroll down, you
can see the commits and the changes. We recommend to do this before
clicking on “Create pull request”.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
</div><div aria-labelledby="tab-3-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>If you are working locally, continue to step 5.</p>
</div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>If you are working locally, continue to step 5.</p>
</div></div>
</section>
<section id="create-the-pull-request">
<h4>(4) Create the pull request<a class="headerlink" href="#create-the-pull-request" title="Link to this heading"></a></h4>
<p>We actually create the pull request.  Don’t forget to navigate to the Network
view after opening the pull request.  Note that the changes proposed in the
pull request are not yet merged.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-4-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-4-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-4-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Click on the green button “Create pull request”.</p>
<p>If you click on the little arrow next to “Create pull request”, you can also
see the option to “Create draft pull request”. This will be interesting later
when collaborating with others. It allows you to open a pull request that is
not ready to be merged yet, but you want to show it to others and get feedback.</p>
</div><div aria-labelledby="tab-4-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>It is possible to create pull requests from the editor, but
we don’t cover that here.</p>
<p>If you are working locally, continue to step 5.</p>
</div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>It is possible to create pull requests from the command line, but
we don’t cover that here.</p>
<p>If you are working locally, continue to step 5.</p>
</div></div>
</section>
<section id="merge-the-pull-request">
<h4>(5) Merge the pull request<a class="headerlink" href="#merge-the-pull-request" title="Link to this heading"></a></h4>
<p>Now, we do the actual merging. We see some effects now.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-5-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-5-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-5-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-5-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Review it again (commits and changes), and then click “Merge pull request”.</p>
<p>After merging, verify the network view. Also navigate then to your “main”
branch and check that your new recipe is there.</p>
</div><div aria-labelledby="tab-5-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Just like with the command line, when we merge we modify our <em>current</em> branch.  Verify you are on the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p>
<ol class="arabic simple">
<li><p>Verify current branch at the bottom.</p></li>
<li><p>From the version control sidebar → Three dots → Branch → Merge</p></li>
<li><p>In the selector that comes up, choose the branch you want to merge <em>from</em>.  The commits on that branch will be added to the current branch.</p></li>
</ol>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/vscode-merging.png"><img alt="VSCode screenshot as described" class="with-border" src="_images/vscode-merging.png" style="width: 80%;" />
</a>
</figure>
</div><div aria-labelledby="tab-5-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>On the command line, when we merge, we always modify our <em>current</em> branch.</p>
<p>If you are not sure anymore what your current branch is, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch
</pre></div>
</div>
<p>… or equally useful to see where we are right now:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
</pre></div>
</div>
<p>In this case we merge the <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code> branch into our current branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>new-recipe
</pre></div>
</div>
</div></div>
</section>
<section id="delete-merged-branches">
<h4>(6) Delete merged branches<a class="headerlink" href="#delete-merged-branches" title="Link to this heading"></a></h4>
<p>Before deleting branches, first check whether they are merged.</p>
<p>If you delete an un-merged branch, it will be difficult to find the commits
that were on that branch. If you delete a merged branch, the commits are now
also part of the branch where we have merged to.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-6-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-6-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-6-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-6-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>One way to delete the branch is to click on the “Delete branch” button after the pull
request is merged:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-merged.png"><img alt="Screenshot on GitHub suggesting us to delete a branch after it has been merged." class="with-border" src="_images/github-merged.png" style="width: 80%;" />
</a>
</figure>
<p>But what if we forgot? Then navigate to the branch view:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-branches.png"><img alt="Screenshot on GitHub where we navigate to the branches view." class="with-border" src="_images/github-branches.png" style="width: 80%;" />
</a>
</figure>
<p>In the overview we can see that it has been merged and we can delete it:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/github-branches-overview.png"><img alt="Screenshot on GitHub where we see an overview of branches and can delete them." class="with-border" src="_images/github-branches-overview.png" style="width: 100%;" />
</a>
</figure>
</div><div aria-labelledby="tab-6-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>From the Source Control sidebar → the three dots (as before) → Branch → Delete Branch.  Select the branch name to delete.</p>
</div><div aria-labelledby="tab-6-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Verify which branches are merged to the current branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>--merged

<span class="go">* main</span>
<span class="go">  new-recipe</span>
</pre></div>
</div>
<p>This means that it is safe to delete the <code class="docutils literal notranslate"><span class="pre">new-recipe</span></code> branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>new-recipe
</pre></div>
</div>
<p>Verify then that the branch is gone but that the commits are still there:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch
<span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
</pre></div>
</div>
</div></div>
</section>
<section id="contribute-to-the-original-repository-with-a-pull-request">
<h4>(7) Contribute to the original repository with a pull request<a class="headerlink" href="#contribute-to-the-original-repository-with-a-pull-request" title="Link to this heading"></a></h4>
<p>Remember, this is an advanced step.  If you do this, you are donating
a recipe to everyone.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-R2l0SHVi" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="0">GitHub</button><button aria-controls="panel-7-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-7-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button></div><div aria-labelledby="tab-7-R2l0SHVi" class="sphinx-tabs-panel group-tab" id="panel-7-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Now that you know how to create branches and opening a pull request, try to
open a new pull request with a new change but this time the base repository
should be the upstream one.</p>
<p>In other words, you now send a pull request across repositories: from your fork
to the original repository.</p>
<p>Another thing that is different now is that you might not have permissions to
merge the pull request.  We can then together review and browse the pull
request.</p>
</div><div aria-labelledby="tab-7-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Not described. We will return to this in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git
lesson</a>.</p>
<p>You would create a new branch locally like above, <a class="reference internal" href="#document-reference#term-push"><span class="xref std std-term">push</span></a> it to GitHub to your own user’s repository <code class="docutils literal notranslate"><span class="pre">USER/recipe-book</span></code>, then go to GitHub and open a pull request <em>to</em> <code class="docutils literal notranslate"><span class="pre">cr-workshop-exercises/recipe-book</span></code>.  Or you do it all through VS Code.</p>
</div><div aria-labelledby="tab-7-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Not described. We will return to this in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git
lesson</a>.</p>
<p>You would create a new branch locally like above, <a class="reference internal" href="#document-reference#term-push"><span class="xref std std-term">push</span></a> it to GitHub to your own user’s repository <code class="docutils literal notranslate"><span class="pre">USER/recipe-book</span></code>, then go to GitHub and open a pull request <em>to</em> <code class="docutils literal notranslate"><span class="pre">cr-workshop-exercises/recipe-book</span></code>.</p>
</div></div>
</section>
</section>
<section id="resolving-a-conflict-demonstration">
<h3>Resolving a conflict (demonstration)<a class="headerlink" href="#resolving-a-conflict-demonstration" title="Link to this heading"></a></h3>
<p>A conflict is when Git asks humans to decide during a merge which of two
changes to keep if the same portion of a file has been changed in two different
ways on two different branches.</p>
<p>We will practice conflict resolution in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git
lesson</a>.</p>
<p>Here we will only demonstrate how to create a conflict and how to resolve it,
all on GitHub.  Once we understand how this works, we will be more confident to
resolve conflicts also in the command line.</p>
<p>How to create a conflict (please try this in your own time <em>and just watch now</em>):</p>
<ul class="simple">
<li><p>Create a new branch from <code class="docutils literal notranslate"><span class="pre">main</span></code> and on it make a change to a file.</p></li>
<li><p>On <code class="docutils literal notranslate"><span class="pre">main</span></code>, make a different change to the same part of the same file.</p></li>
<li><p>Now try to merge the new branch to <code class="docutils literal notranslate"><span class="pre">main</span></code>. You will get a conflict.</p></li>
</ul>
<p>How to resolve conflicts:</p>
<ul class="simple">
<li><p>On GitHub, you can resolve conflicts by clicking on the “Resolve conflicts”
button. This will open a text editor where you can choose which changes to
keep.
Make sure to remove the conflict markers.
After resolving the conflict, you can commit the changes and merge the
pull request.</p></li>
<li><p>Sometimes a conflict is between your change and somebody else’s change. In
that case, you might have to discuss with the other person which changes to
keep.</p></li>
</ul>
<p>How to avoid conflicts:</p>
<ul class="simple">
<li><p>We will talk about it in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git
lesson</a>.</p></li>
</ul>
</section>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>We learned how to merge two branches together.</p></li>
<li><p>When is this useful? This is not only useful to combine development lines in
your own work. Being able to merge branches also forms a basis for collaboration.</p></li>
<li><p>Branches which are merged to other branches are safe to delete, since we only
delete the “sticky note” next to a commit, not the commits themselves.</p></li>
</ul>
</section>
</section>
<span id="document-local-workflow"></span><section id="cloning-a-git-repository-and-working-locally">
<h2>Cloning a Git repository and working locally<a class="headerlink" href="#cloning-a-git-repository-and-working-locally" title="Link to this heading"></a></h2>
<p>If you’ve been following the main path, you have just had interacted
with repositories on GitHub. This might not be what you usually
do, so now we move to working on your own computer.</p>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>We are able to clone a repository from the web and modify it locally.</p></li>
<li><p>We can do the same things we did before (commit, branch, merge), but <strong>locally</strong>.</p></li>
<li><p>We get a feeling for remote repositories (<a class="reference external" href="https://coderefinery.github.io/git-collaborative/">more later</a>).</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min introduction and setup</p></li>
<li><p>25 min exercise</p></li>
<li><p>15 min discussion</p></li>
</ul>
</div>
<section id="what-is-in-a-git-repository-and-what-are-we-cloning">
<h3>What is in a Git repository and what are we cloning?<a class="headerlink" href="#what-is-in-a-git-repository-and-what-are-we-cloning" title="Link to this heading"></a></h3>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/clone.png"><img alt="Illustration of cloning a repository to a local computer" src="_images/clone.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Illustration of cloning a repository to a local computer.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><strong>Git repository</strong>:</p>
<ul class="simple">
<li><p>Contains all the files and directories of a project.</p></li>
<li><p>Contains the complete history of all changes (commits) to these files and directories.</p></li>
<li><p>Each commit is a snapshot of the entire project at a certain point in time and has a unique identifier (“hash”).</p></li>
<li><p>Sometimes it contains multiple branches and tags.</p></li>
<li><p>All the commits and history of a local repository are stored in a directory
called <code class="docutils literal notranslate"><span class="pre">.git</span></code> which is located at the root of the repository.</p></li>
</ul>
<p><strong>Cloning</strong>:</p>
<ul class="simple">
<li><p>Copying (downloading) the entire repository with all commits, branches, and tags to your computer.</p></li>
<li><p>It is a <strong>full backup</strong> of the repository, including all history.</p></li>
<li><p>You can then work on your local clone of the repository.</p></li>
<li><p>Changes on local clone will not automatically appear in the repository where
we cloned from. We have to actively “push” them there (we will practice this
in a later episode: <a class="reference internal" href="#document-sharing#sharing-repositories"><span class="std std-ref">How to turn your project to a Git repo and share it</span></a>).</p></li>
</ul>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<p>Work on this by yourself or in your teams. Conceptually this episode should
seem familiar, from the browser-based exercises we did yesterday.</p>
<p>We offer the <strong>Command Line, VS Code and RStudio</strong> paths for this exercise.
GitHub isn’t an option in this episode, since that is what we already
demonstrated in <a class="reference internal" href="#document-commits"><span class="doc">Recording changes</span></a> and <a class="reference internal" href="#document-merging"><span class="doc">Merging changes and contributing to the project</span></a> and since the point of this
episode is to work <strong>locally</strong>.</p>
<p>It is also possible to use the command line (terminal) from inside VS Code or RStudio.</p>
<div class="admonition-exercise-cloning-a-git-repository-and-working-locally-25-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Cloning a Git repository and working locally (25 min)</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#document-configuration#configuration"><span class="std std-ref">Configure Git command line and editor</span></a> if you haven’t done that already.</p></li>
<li><p><strong>Decide which repository you want to clone</strong>: your fork or the original repository? Both will work for this exercise.
Then, <strong>clone the recipe book</strong>.</p></li>
<li><p><strong>Create a new branch</strong>.</p></li>
<li><p>Make a <strong>commit</strong> on your new branch.</p></li>
<li><p><strong>Switch</strong> back to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and create one or two commits there.</p></li>
<li><p><strong>Merge</strong> the new branch into <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Compare the graph locally and on GitHub and observe that the <strong>changes only exist locally on your computer</strong>.</p></li>
<li><p>Where are the <strong>remote branches</strong>? Practice how you can see all remote branches
also locally and how you can fetch them and make local changes to them.</p></li>
</ol>
</div>
<p>The solution below goes over most of the answer and should be used as
your guide (you can’t figure it out just from the exercise instructions).</p>
</section>
<section id="solution-and-walk-through">
<h3>Solution and walk-through<a class="headerlink" href="#solution-and-walk-through" title="Link to this heading"></a></h3>
<section id="configure-git-command-line-and-editor">
<h4>(1) Configure Git command line and editor<a class="headerlink" href="#configure-git-command-line-and-editor" title="Link to this heading"></a></h4>
<p>We have an own section for this: <a class="reference internal" href="#document-configuration#configuration"><span class="std std-ref">Configuring Git command line and editor</span></a>.</p>
</section>
<section id="cloning-a-repository">
<h4>(2) Cloning a repository<a class="headerlink" href="#cloning-a-repository" title="Link to this heading"></a></h4>
<p>Now you need to decide which repository you want to clone. All of these options will work for this exercise
since we don’t plan to push changes back (for step 8 it might be easier to use the original repository):</p>
<ul class="simple">
<li><p>Clone the recipe book from your fork.</p></li>
<li><p>Or clone the recipe book from the original repository: <a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book">https://github.com/cr-workshop-exercises/recipe-book</a></p></li>
<li><p>Or first fork the original repository and then clone your fork.</p></li>
</ul>
<p>The examples below assume you are cloning the original repository. If you are cloning your fork, you should
replace <code class="docutils literal notranslate"><span class="pre">cr-workshop-exercises</span></code> with your GitHub username.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>If you are unsure whether you are using SSH or HTTPS, please read <a class="reference internal" href="#document-configuration#clone-method"><span class="std std-ref">Authenticating to GitHub: SSH or HTTPS or VS Code?</span></a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U1NI" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-U1NI" name="U1NI" role="tab" tabindex="0">SSH</button><button aria-controls="panel-1-SFRUUFM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-SFRUUFM=" name="SFRUUFM=" role="tab" tabindex="-1">HTTPS</button></div><div aria-labelledby="tab-1-U1NI" class="sphinx-tabs-panel group-tab" id="panel-1-U1NI" name="U1NI" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:cr-workshop-exercises/recipe-book.git
</pre></div>
</div>
</div><div aria-labelledby="tab-1-SFRUUFM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-SFRUUFM=" name="SFRUUFM=" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/cr-workshop-exercises/recipe-book.git
</pre></div>
</div>
</div></div>
<p>This creates a directory called “recipe-book” unless it already exists. You can also specify the target directory
on your computer (in this case “my-recipe-book”):</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-U1NI" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-U1NI" name="U1NI" role="tab" tabindex="0">SSH</button><button aria-controls="panel-2-SFRUUFM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-SFRUUFM=" name="SFRUUFM=" role="tab" tabindex="-1">HTTPS</button></div><div aria-labelledby="tab-2-U1NI" class="sphinx-tabs-panel group-tab" id="panel-2-U1NI" name="U1NI" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:cr-workshop-exercises/recipe-book.git<span class="w"> </span>my-recipe-book
</pre></div>
</div>
</div><div aria-labelledby="tab-2-SFRUUFM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-SFRUUFM=" name="SFRUUFM=" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/cr-workshop-exercises/recipe-book.git<span class="w"> </span>my-recipe-book
</pre></div>
</div>
</div></div>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Start a new window.</p>
<p>If you have the “Welcome” tab when you start a new window: Under “Start” on the screen, select “Clone Git Repository…”.</p>
<p>Alternatively navigate to the “Source Control” tab on the left sidebar and
click on the “Clone Repository” button.  You need to have started a
brand new window that’s not part of a project.</p>
<p>Paste in this URL: <code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book</span></code> (replace <code class="docutils literal notranslate"><span class="pre">USER</span></code>)</p>
<p>If you are asked whether you want to open the cloned repository or to add it to the current workspace,
select “Open”.</p>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>The easiest way to clone the repository via RStudio is to create a new project.</p>
<ol class="arabic simple">
<li><p>Start RStudio if not already open.</p></li>
<li><p>Go to “File” → “New Project…”</p></li>
<li><p>Choose “Version Control”, and then “Git”</p></li>
<li><p>In the “Repository URL” field, paste in this URL: <code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe-book</span></code>, replace
<code class="docutils literal notranslate"><span class="pre">USER</span></code> as needed. You can also get the URL from your browser.</p></li>
<li><p>You can change the “Project directory name” if you want but that is not mandatory.
By default, it will use the repository name from the URL.</p></li>
<li><p>Click “Create Project”</p></li>
</ol>
<div class="docutils">
</div>
</div></div>
</section>
<section id="creating-branches-locally">
<h4>(3) Creating branches locally<a class="headerlink" href="#creating-branches-locally" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-3-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-3-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Create a new branch called <code class="docutils literal notranslate"><span class="pre">another-recipe</span></code> from <code class="docutils literal notranslate"><span class="pre">main</span></code> and switch to it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>another-recipe<span class="w"> </span>main
</pre></div>
</div>
<p>If you leave out the last argument, it will create a branch from the current
branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>another-recipe
</pre></div>
</div>
</div><div aria-labelledby="tab-3-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Make sure that you are on the main branch.</p></li>
<li><p>Source Control button on left sidebar → Three dots in upper right of source control → Branch → Create Branch.</p></li>
<li><p>VS Code automatically switches to the new branch.</p></li>
</ol>
<figure class="align-default" id="id2">
<a class="with-border reference internal image-reference" href="_images/vscode-create-branch.png"><img alt="VS Code screenshot of create branch" class="with-border" src="_images/vscode-create-branch.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Creating a new branch in VS Code.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-3-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>In the Git tab of the Environment panel (upper right), click New Branch.</p></li>
<li><p>In the pop-up fill in the branch name, e.g. “new-recipe”, untick the box in front of Sync branch with remote
to avoid the branch to be pushed to GitHub right away.</p></li>
<li><p>Click Create and RStudio will automatically switch to the new branch.</p></li>
</ol>
<figure class="align-default" id="id3">
<a class="with-border reference internal image-reference" href="_images/rstudio-create-branch.png"><img alt="RStudio screenshot of create branch" class="with-border" src="_images/rstudio-create-branch.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Creating a branch in RStudio</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></div>
</section>
<section id="creating-commits-locally">
<h4>(4) Creating commits locally<a class="headerlink" href="#creating-commits-locally" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-4-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-4-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Create a new file. <strong>After we have created it</strong>, we can stage and commit
the change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>new-file.md
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Short summary of the change&quot;</span>
</pre></div>
</div>
<p>Make sure to replace “new-file.md” with the actual name of the file you created
and to replace “Short summary of the change” with a meaningful commit message.</p>
</div><div aria-labelledby="tab-4-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Create a new file.</p></li>
<li><p>In the version control sidebar, click the <code class="docutils literal notranslate"><span class="pre">+</span></code> sign to add the file for the next commit.</p></li>
<li><p>Enter a brief message and click “Commit”.</p></li>
</ol>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/vscode-add-and-commit.png"><img alt="Screenshot of VS Code commit process" class="with-border" src="_images/vscode-add-and-commit.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Committing a new file in VS Code.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-4-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><ol class="arabic">
<li><p>Create a new file the usual way. Remember to save any changes to your file before committing.</p></li>
<li><p>In the Git tab in the Environment panel (upper right) check the box in front of the file you just created, then
click Commit in the tab menu-bar to open the Git Changes window.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-add-commit.png"><img alt="Screenshot of RStudio commit process in the main window" class="with-border" src="_images/rstudio-add-commit.png" style="width: 80%;" />
</a>
</figure>
</li>
<li><p>In the Changes window, check that your new file is selected (ticked), write a short commit message, and finally
click “Commit”</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-commit-changes.png"><img alt="Screenshot of RStudio commit process in the changes window" class="with-border" src="_images/rstudio-commit-changes.png" style="width: 80%;" />
</a>
</figure>
</li>
</ol>
</div></div>
</section>
<section id="switching-branches-and-creating-commits">
<h4>(5) Switching branches and creating commits<a class="headerlink" href="#switching-branches-and-creating-commits" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-5-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-5-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-5-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>First switch to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main
</pre></div>
</div>
<p>Then modify a file. Finally <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and then commit the change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Short summary of the change&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Use the branch selector at the bottom to switch back to the main branch.
Repeat the same steps as above.</p>
<figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/vscode-change-branch.png"><img alt="VS Code screenshot" class="with-border" src="_images/vscode-change-branch.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Switching branch via selector at bottom.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-5-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>In the Git tab of the Environment panel (upper right), click your current branch name, here “new-recipe” and then
choose the “main” branch.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-switch.png"><img alt="Screenshot showing how to switch branch in RStudio" class="with-border" src="_images/rstudio-switch.png" style="width: 100%;" />
</a>
</figure>
</div><p>Modify another recipe and commit your changes.</p>
<div class="docutils">
</div>
</div>
</section>
<section id="merging-branches-locally">
<h4>(6) Merging branches locally<a class="headerlink" href="#merging-branches-locally" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-6-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-6-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-6-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>On the command line, when we merge, we always modify our current branch.</p>
<p>If you are not sure anymore what your current branch is, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch
</pre></div>
</div>
<p>Another way to find out where we are in Git:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
</pre></div>
</div>
<p>In this case we merge the <code class="docutils literal notranslate"><span class="pre">another-recipe</span></code> branch into our current branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>another-recipe
</pre></div>
</div>
</div><div aria-labelledby="tab-6-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Just like with the command line, when we merge we modify our <em>current</em> branch.  Verify you are on the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p>
<ol class="arabic simple">
<li><p>Verify current branch at the bottom.</p></li>
<li><p>From the version control sidebar → Three dots → Branch → Merge</p></li>
<li><p>In the selector that comes up, choose the branch you want to merge <em>from</em>.  The commits on that branch will be added to the current branch.</p></li>
</ol>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/vscode-merging.png"><img alt="VSCode screenshot as described" class="with-border" src="_images/vscode-merging.png" style="width: 80%;" />
</a>
</figure>
</div><div aria-labelledby="tab-6-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This doesn’t seem possible in RStudio without an add-in.
Luckily, like previously, via the Terminal tab you can use the “Command line” method.</p>
</div></div>
</section>
<section id="how-to-compare-the-graph-locally-and-on-github">
<h4>(7) How to compare the graph locally and on GitHub<a class="headerlink" href="#how-to-compare-the-graph-locally-and-on-github" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-7-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-7-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-7-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--graph<span class="w"> </span>--oneline<span class="w"> </span>--decorate<span class="w"> </span>--all
</pre></div>
</div>
<p>We recommend to define an <a class="reference internal" href="#document-reference#term-alias"><span class="xref std std-term">alias</span></a> in Git, to be able to nicely visualize
branch structure in the terminal without having to remember a long Git command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.graph<span class="w"> </span><span class="s2">&quot;log --all --graph --decorate --oneline&quot;</span>
</pre></div>
</div>
<p>Then you can just type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> from there on. We have an own section about
aliases: <a class="reference internal" href="#document-aliases#aliases"><span class="std std-ref">Aliases and configuration</span></a>.</p>
<p>Compare this with the graph on GitHub: Insights tab → Network view (just like
we have done before).
The result is that we should not be able to see the new branch and the new
commits on GitHub (since we haven’t pushed it to GitHub yet - it is only local work so far).</p>
</div><div aria-labelledby="tab-7-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>This requires an extension.  Opening the VS Code terminal lets you use the command line method.</p>
<figure class="align-default" id="id6">
<a class="with-border reference internal image-reference" href="_images/vscode-open-terminal.png"><img alt="VS Code screenshot as described" class="with-border" src="_images/vscode-open-terminal.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">View → Terminal will open a terminal at bottom.  This is a normal command line interface and very useful for work.  (Note the git-aware prompt that shows the current branch.  This requires other setup.)</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-7-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>You can find a graph view in RStudio, but it doesn’t seem you can compare arbitrary commits without an extension.  Luckily, the command line method works, as usual.</p>
<ol class="arabic">
<li><p>Open the history window like you did during the previous lesson.</p></li>
<li><p>Select “(All branches)” in the branch selector drop-down menu to see all the commits on all branches.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-history-all-branches.png"><img alt="Screenshot of the History window in RStudio showing all branches and all commits" class="with-border" src="_images/rstudio-history-all-branches.png" style="width: 80%;" />
</a>
</figure>
</li>
</ol>
<blockquote>
<div><p><strong>NOTE:</strong> If you don’t see the branch selector when you first open the History window, try to switch from the History
view to the Changes view and back.</p>
</div></blockquote>
<p>Compare this with the graph on GitHub: Insights tab → Network view (just like
we have done before).
The result is that we should not be able to see the new branch and the new
commits on GitHub (since we haven’t pushed it to GitHub yet - it is only local work so far).</p>
</div></div>
</section>
<section id="browsing-remote-branches-and-creating-local-branches-from-them">
<h4>(8) Browsing remote branches and creating local branches from them<a class="headerlink" href="#browsing-remote-branches-and-creating-local-branches-from-them" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-8-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-8-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-8-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-8-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-8-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>With <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code> you can list all local branches:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">  another-recipe</span>
<span class="go">* main</span>
</pre></div>
</div>
<p>But where are the remote branches? We expect to see <a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book/branches/all">a couple of
them</a>.</p>
<p>We can see them by asking for all branches (your output might vary depending on
where you cloned from):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>--all

<span class="go">  another-recipe</span>
<span class="go">* main</span>
<span class="go">  remotes/origin/HEAD -&gt; origin/main</span>
<span class="go">  remotes/origin/alex/fruit-salad</span>
<span class="go">  remotes/origin/main</span>
<span class="go">  remotes/origin/radovan/lasagna</span>
<span class="go">  remotes/origin/radovan/poke</span>
</pre></div>
</div>
<p>You can create a local branch from a remote branch which will “track” the remote branch.
For instance, to create a local branch <code class="docutils literal notranslate"><span class="pre">alex/fruit-salad</span></code> from the remote branch <code class="docutils literal notranslate"><span class="pre">origin/alex/fruit-salad</span></code>
and switch to it, you can do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>alex/fruit-salad<span class="w"> </span>origin/alex/fruit-salad
</pre></div>
</div>
<p>This shortcut will do the same thing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--track<span class="w"> </span>origin/alex/fruit-salad
</pre></div>
</div>
<p>Or even shorter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>alex/fruit-salad
</pre></div>
</div>
<p>If you want to create a branch and not switch to it, you can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>alex/fruit-salad
</pre></div>
</div>
</div><div aria-labelledby="tab-8-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>To create a local branch from a remote branch:</p>
<p>Source Control button on left sidebar → Three dots in upper right of source control → Branch →
“Create Branch From …”.</p>
<p>Then select the remote branch you want to create a local branch from.</p>
</div><div aria-labelledby="tab-8-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>The branch picker also lists branches on remotes.  If you click on one of them, it will create a local branch and
track it.</p>
<figure class="align-default">
<img alt="_images/rstudio-remote-branches.png" src="_images/rstudio-remote-branches.png" />
</figure>
</div></div>
</section>
</section>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>When we clone a repository, we get a full backup of the repository, including
all history: all commits, branches, and tags.</p></li>
<li><p>Yesterday we learned about branches and commits, and now we created and used them locally.</p></li>
<li><p><strong>Creating local branches and commits does not automatically modify the remote
repository</strong>. To “push” our local changes to the remote repository, we have to actively
“push” them there. We will practice this in a later episode:
<a class="reference internal" href="#document-sharing#sharing-repositories"><span class="std std-ref">How to turn your project to a Git repo and share it</span></a></p></li>
<li><p>Remote branches and local branches are not the same thing. If we want to
create local commits, we always need to create a local branch first. But the local branch can
“track” the remote branch and we can push and pull changes to and from the
remote branch.</p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-archaeology"></span><section id="inspecting-history">
<h2>Inspecting history<a class="headerlink" href="#inspecting-history" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Be able find a line of code, find out why it was introduced and when.</p></li>
<li><p>Be able to quickly find the commit that changed a behavior.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>30 min teaching/type-along</p></li>
<li><p>20 min exercise</p></li>
</ul>
</div>
<section id="command-line-github-and-vs-code">
<h3>Command line, GitHub, and VS Code<a class="headerlink" href="#command-line-github-and-vs-code" title="Link to this heading"></a></h3>
<p>As usual, we offer ways to do this with the command line, VS Code, and
GitHub.</p>
<ul class="simple">
<li><p><strong>Command line</strong> is most powerful and relatively easy with this.
You may also use it along with other things. If you haven’t tried
it yet, we’d recommend you to give it a try.</p></li>
<li><p>The <strong>GitHub</strong> web interface allows many things to be done, but not
everything.</p></li>
<li><p><strong>VS Code</strong> allows some of these, but for some it’s easier to open
the VS Code terminal and run Git there.</p></li>
</ul>
</section>
<section id="our-toolbox-for-history-inspection">
<h3>Our toolbox for history inspection<a class="headerlink" href="#our-toolbox-for-history-inspection" title="Link to this heading"></a></h3>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<p>First the instructor demonstrates few commands on a real life example
repository <a class="reference external" href="https://github.com/networkx/networkx">https://github.com/networkx/networkx</a> (mentioned in the amazing site <a class="reference external" href="https://programminghistorian.org/">The
Programming Historian</a>).
Later we will practice these in an archaeology exercise (below).</p>
</div>
<section id="warm-up-git-history-browser">
<h4>Warm-up: <a class="reference external" href="https://githistory.xyz/">“Git History” browser</a><a class="headerlink" href="#warm-up-git-history-browser" title="Link to this heading"></a></h4>
<p>As a warm-up we can try the <a class="reference external" href="https://githistory.xyz/">“Git History” browser</a>
on the README.rst file of the <a class="reference external" href="https://github.com/networkx/networkx">networkx</a> repository:</p>
<ul class="simple">
<li><p>Visit and browse <a class="reference external" href="https://github.githistory.xyz/networkx/networkx/blob/main/README.rst">https://github.githistory.xyz/networkx/networkx/blob/main/README.rst</a> (use left/right keys).</p></li>
<li><p>You can try this on some of your GitHub repositories, too!</p></li>
</ul>
</section>
<section id="searching-text-patterns-in-the-repository">
<h4>Searching text patterns in the repository<a class="headerlink" href="#searching-text-patterns-in-the-repository" title="Link to this heading"></a></h4>
<p>With <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code> you can find all lines in a repository which contain some string or regular expression.
This is useful to find out where in the code some variable is used or
some error message printed.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-0-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>The Git command is as described above:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>TEXT
<span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;some text with spaces&quot;</span>
</pre></div>
</div>
<p>In the <a class="reference external" href="https://github.com/networkx/networkx">networkx</a> repository you can try:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/networkx/networkx
<span class="go">Cloning into &#39;networkx&#39;...</span>

<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>networkx

<span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>fixme
<span class="go">doc/developer/release.rst:        # FIXME - use eol_banner.html</span>
<span class="go">networkx/algorithms/isomorphism/tests/test_common.py:        # FIXME: check why fails ismags but not vf2</span>
<span class="go">networkx/algorithms/shortest_paths/tests/test_weighted.py:        # FIXME nx.goldberg_radzik(D, 1)</span>
</pre></div>
</div>
<p>While <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code> searches the <strong>current state</strong> of the repository,
it is also possible to search through all changes with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">-S</span> <span class="pre">sometext</span></code>
which can be useful to find where something got removed.</p>
</div><div aria-labelledby="tab-0-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We can try the same example in the browser:
<a class="reference external" href="https://github.com/search?q=repo%3Anetworkx%2Fnetworkx%20fixme&amp;amp;type=code">https://github.com/search?q=repo%3Anetworkx%2Fnetworkx fixme&amp;type=code</a></p>
<figure class="align-default" id="id1">
<a class="with-border reference internal image-reference" href="_images/search.png"><img alt="Searching for &quot;fixme&quot; in a GitHub repository" class="with-border" src="_images/search.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Searching for “fixme” in a GitHub repository.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Our example repository is <a class="reference external" href="https://github.com/networkx/networkx">https://github.com/networkx/networkx</a>.
From a new VS Code window, select “Clone Git repository” and enter
that URL.</p>
<p>Searching with the magnifying glass from the left sidebar is
equivalent to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code>.</p>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Edit → Find in files.</p>
<p>Use the command line method for more power.</p>
</div></div>
</section>
<section id="inspecting-individual-commits">
<h4>Inspecting individual commits<a class="headerlink" href="#inspecting-individual-commits" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-1-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-1-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-1-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-1-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>We have seen this one before already. Using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> we can inspect an individual commit if
we know its hash:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>show<span class="w"> </span>HASH
</pre></div>
</div>
<p>For instance:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>show<span class="w"> </span>759d589bdfa61aff99e0535938f14f67b01c83f7
<span class="go">commit 759d589bdfa61aff99e0535938f14f67b01c83f7</span>
<span class="go">Author: Sanghack Lee &lt;sanghack.lee@gmail.com&gt;</span>
<span class="go">Date:   Sun Mar 8 22:01:38 2020 -0400</span>

<span class="go">    Fix return values when drawing empty nodes and edges  #3833 (#3854)</span>

<span class="go">diff --git a/networkx/drawing/nx_pylab.py b/networkx/drawing/nx_pylab.py</span>
<span class="go">index 4b2f34bed..1421b055b 100644</span>
<span class="go">--- a/networkx/drawing/nx_pylab.py</span>
<span class="go">+++ b/networkx/drawing/nx_pylab.py</span>
<span class="go">...</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We can try the same example in the browser:
<a class="reference external" href="https://github.com/networkx/networkx/commit/759d589bdfa61aff99e0535938f14f67b01c83f7">https://github.com/networkx/networkx/commit/759d589bdfa61aff99e0535938f14f67b01c83f7</a></p>
<figure class="align-default" id="id2">
<a class="with-border reference internal image-reference" href="_images/show.png"><img alt="Inspecting an individual commit on GitHub" class="with-border" src="_images/show.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Inspecting an individual commit on GitHub.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-1-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>We don’t know of a built-in way to see every single Git commit in
order (extensions allow this).  You can open the terminal and run
the command line option.</p>
<p>But, if you open single files, a “Timeline” view under the
explorer shows changes to <em>that file</em>.  You can click on a change
to see the details.</p>
</div><div aria-labelledby="tab-1-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>The graph view lets you select certain commits for viewing.  The search box lets you search for a certain commit by hash.</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/rstudio-graph-view.png"><img alt="RStudio screenshot as described" class="with-border" src="_images/rstudio-graph-view.png" style="width: 80%;" />
</a>
</figure>
</div></div>
</section>
<section id="line-by-line-code-annotation-with-metadata">
<h4>Line-by-line code annotation with metadata<a class="headerlink" href="#line-by-line-code-annotation-with-metadata" title="Link to this heading"></a></h4>
<p>With <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span></code> you can see line by line who and <strong>when</strong> the line was
modified last. It also prints the precise hash of the last change which
modified each line. Incredibly useful for reproducibility.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-2-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-2-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-2-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-2-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>annotate<span class="w"> </span>FILE
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>annotate<span class="w"> </span>networkx/convert_matrix.py
</pre></div>
</div>
<p>If you annotate in a terminal and the file is longer than the screen, Git by default uses the program <code class="docutils literal notranslate"><span class="pre">less</span></code> to
scroll the output.
Use <code class="docutils literal notranslate"><span class="pre">/sometext</span></code> <code class="docutils literal notranslate"><span class="pre">&lt;ENTER&gt;</span></code> to find “sometext” and you can cycle through the results with <code class="docutils literal notranslate"><span class="pre">n</span></code> (next) and <code class="docutils literal notranslate"><span class="pre">N</span></code> (last).
You can also use page up/down to scroll. You can quit with <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
</div><div aria-labelledby="tab-2-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We can try the same example in the browser:
<a class="reference external" href="https://github.com/networkx/networkx/blame/main/networkx/convert_matrix.py">https://github.com/networkx/networkx/blame/main/networkx/convert_matrix.py</a></p>
<figure class="align-default" id="id3">
<a class="with-border reference internal image-reference" href="_images/annotate.png"><img alt="Screenshot of file annotation on GitHub" class="with-border" src="_images/annotate.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Screenshot of file annotation on GitHub.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-2-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>It seems this needs an extension.  We’d recommend trying the
command line method for now.</p>
</div><div aria-labelledby="tab-2-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Use the command line method (from what we can tell).</p>
</div></div>
<div class="admonition-discuss-how-these-relatively-trivial-changes-affect-the-annotation discussion important admonition" id="discussion-0">
<p class="admonition-title">Discuss how these relatively trivial changes affect the annotation</p>
<ul class="simple">
<li><p>Wrapping long lines of text/code into shorter lines</p></li>
<li><p>Auto-formatting tools such as <code class="docutils literal notranslate"><span class="pre">black</span></code></p></li>
<li><p>Editors that automatically remove trailing whitespace</p></li>
</ul>
</div>
</section>
<section id="inspecting-code-in-the-past">
<h4>Inspecting code in the past<a class="headerlink" href="#inspecting-code-in-the-past" title="Link to this heading"></a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-3-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-3-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-3-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>We can create branches pointing to a commit in the past.
This is the recommended mechanism to inspect old code:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>BRANCHNAME<span class="w"> </span>HASH
</pre></div>
</div>
<p>Example (lines starting with “#” are only comments):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># create branch called &quot;older-code&quot; from hash 347e6292419b</span>
$<span class="w"> </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>older-code<span class="w"> </span>347e6292419bd0e4bff077fe971f983932d7a0e9

<span class="c1"># now you can navigate and inspect the code as it was back then</span>
<span class="c1"># ...</span>

<span class="c1"># after we are done we can switch back to &quot;main&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>switch<span class="w"> </span>main

<span class="c1"># if we like we can delete the &quot;older-code&quot; branch</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>older-code
</pre></div>
</div>
<p>On old Git versions which do not know the <code class="docutils literal notranslate"><span class="pre">switch</span></code> command (before 2.23), you
need to use this instead:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>BRANCHNAME<span class="w"> </span>SOMEHASH
</pre></div>
</div>
</div><div aria-labelledby="tab-3-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We now know how to visit a specific commit:
<a class="reference external" href="https://github.com/networkx/networkx/commit/347e629">https://github.com/networkx/networkx/commit/347e629</a></p>
<p>Once we are there we can “Browse files” at that point in history.</p>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/browse-files.png"><img alt="Browsing code in the past on GitHub" class="with-border" src="_images/browse-files.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Browsing code in the past on GitHub.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-3-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Switch to “Source Control”, then the “…” menu, then “Branch”, then “Create new branch from…” and now you can type a commit identifier (hash).</p>
<p>Make sure you change back to the main branch when you are done.</p>
</div><div aria-labelledby="tab-3-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>It seems you can only create branches from the present (at least without extensions). Use the command line method.</p>
</div></div>
</section>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<div class="admonition-exercise-explore-basic-archaeology-commands-20-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Explore basic archaeology commands (20 min)</p>
<p>Let us explore the value of these commands in an exercise.  Future
exercises do not depend on this, so it is OK if you do not complete
it fully.</p>
<p>Exercise steps:</p>
<ul>
<li><p><strong>Make sure you are not inside another Git repository</strong> when running this
exercise. If you are, first step “outside” of it.
We want to avoid creating a Git repository inside another Git repository.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-4-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-4-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-4-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>You can check if you are inside a Git repository with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">fatal: not a git repository (or any of the parent directories): .git</span>
</pre></div>
</div>
<p>You want to see the above message which tells us that this is not a Git repository.</p>
</div><div aria-labelledby="tab-4-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>This is not a problem in the GitHub web interface since we are not
creating a new local repository.</p>
</div><div aria-labelledby="tab-4-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p><strong>Warning: many of these exercise tasks aren’t possible in the VS Code interface without extensions.  You can use VS Code to clone the project, but be prepared to start the terminal to do the main tasks.</strong></p>
<p>“File” → “New Window”.</p>
</div><div aria-labelledby="tab-4-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p><strong>Warning: many of these exercise tasks aren’t possible in the RStudio interface.  You can use RStudio to clone the project, but be prepared to start the terminal to do the main tasks.</strong></p>
<p>File → New Project.</p>
</div></div>
</li>
<li><p>Clone this repository:
<a class="reference external" href="https://github.com/networkx/networkx.git">https://github.com/networkx/networkx.git</a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-5-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-5-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-5-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-5-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-5-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/networkx/networkx.git
</pre></div>
</div>
</div><div aria-labelledby="tab-5-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>Nothing to clone. We will try to inspect the repository directly on GitHub.</p>
</div><div aria-labelledby="tab-5-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>From a new VS Code window, select “Clone Git repository” and enter
that URL.</p>
</div><div aria-labelledby="tab-5-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>From the new project window, choose Version Control → Git → and enter the URL</p>
</div></div>
</li>
<li><p>Then let us all <strong>make sure we are working on a well-defined version</strong> of the repository.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-6-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button><button aria-controls="panel-6-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-6-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-6-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-6-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>Step into the new directory and create an exercise branch from the
networkx-2.6.3 tag/release:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>networkx
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>exercise<span class="w"> </span>networkx-2.6.3
</pre></div>
</div>
<p>On old Git versions which do not know the <code class="docutils literal notranslate"><span class="pre">switch</span></code> command (before 2.23), you
need to use this instead:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>exercise<span class="w"> </span>networkx-2.6.3
</pre></div>
</div>
</div><div aria-labelledby="tab-6-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><p>We can visit the version directly: <a class="reference external" href="https://github.com/networkx/networkx/tree/networkx-2.6.3">https://github.com/networkx/networkx/tree/networkx-2.6.3</a></p>
</div><div aria-labelledby="tab-6-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>Switch to “Source Control”, then the “…” menu, then “Branch”, then “Create new branch from…” and select “networkx-2.6.3”.</p>
</div><div aria-labelledby="tab-6-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>Use the command line method (but you don’t need to <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">networkx</span></code>, the RStudio terminal starts in the right place.)  So, run this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>exercise<span class="w"> </span>networkx-2.6.3
</pre></div>
</div>
<p>(and if it doesn’t work, check Command Line for the command for older git)</p>
</div></div>
</li>
</ul>
<p>Then using the above toolbox try to:</p>
<ol class="arabic simple">
<li><p>Find the code line which contains <code class="docutils literal notranslate"><span class="pre">&quot;Logic</span> <span class="pre">error</span> <span class="pre">in</span> <span class="pre">degree_correlation&quot;</span></code>.</p></li>
<li><p>Find out when this line was last modified or added. Find the actual commit which modified that line.</p></li>
<li><p>Inspect the commit. What is the commit change? What is the commit metadata?</p></li>
<li><p>Create a branch pointing to the past when that commit was created to be
able to browse and use the code as it was back then.</p></li>
<li><p>How would you bring the code to the version of the code right before that line was last modified?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-7-R2l0SHVi" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-R2l0SHVi" name="R2l0SHVi" role="tab" tabindex="-1">GitHub</button></div><div aria-labelledby="tab-7-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-7-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><ol class="arabic">
<li><p>We use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;Logic error in degree_correlation&quot;</span>
</pre></div>
</div>
<p>This gives the output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">networkx</span><span class="o">/</span><span class="n">algorithms</span><span class="o">/</span><span class="n">threshold</span><span class="o">.</span><span class="n">py</span><span class="p">:</span>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logic error in degree_correlation&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">rdi</span><span class="p">)</span>
</pre></div>
</div>
<p>Maybe you also want to know the line number:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>grep<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;Logic error in degree_correlation&quot;</span>
</pre></div>
</div>
</li>
<li><p>We use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>annotate<span class="w"> </span>networkx/algorithms/threshold.py
</pre></div>
</div>
<p>Then search for “Logic error” by typing “/Logic error” followed by Enter.
The last commit that modified it was <code class="docutils literal notranslate"><span class="pre">90544b4fa</span></code> (unless that line changed since).</p>
</li>
<li><p>We use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>show<span class="w"> </span>90544b4fa
</pre></div>
</div>
</li>
<li><p>Create a branch pointing to that commit (here we called the branch “past-code”):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>past-code<span class="w"> </span>90544b4fa
</pre></div>
</div>
</li>
<li><p>This is a compact way to access the first parent of <code class="docutils literal notranslate"><span class="pre">90544b4fa</span></code> (here we
called the branch “just-before”):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>just-before<span class="w"> </span>90544b4fa~1
</pre></div>
</div>
</li>
</ol>
</div><div aria-labelledby="tab-7-R2l0SHVi" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-R2l0SHVi" name="R2l0SHVi" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>On top of <a class="reference external" href="https://github.com/networkx/networkx">https://github.com/networkx/networkx</a> click on the
magnifying glass and search for “Logic error in degree_correlation”.
This tells us that the file <code class="docutils literal notranslate"><span class="pre">networkx/algorithms/threshold.py</span></code>
contains this line and you can click on the file.
This brings you to <a class="reference external" href="https://github.com/networkx/networkx/blob/409979eff35f02eff54f4eea3731736bd431dc2e/networkx/algorithms/threshold.py#L550">https://github.com/networkx/networkx/blob/409979eff35f02eff54f4eea3731736bd431dc2e/networkx/algorithms/threshold.py#L550</a>.</p></li>
<li><p>Click on the “Blame” button. Left next to the highlighted line you see
the commit which modified it last.</p></li>
<li><p>You can click on the commit (open in new browser tab) which brings you
to <a class="reference external" href="https://github.com/networkx/networkx/commit/90544b4fa5a7397a86e69ebf5778f4a0f6eafe1e">https://github.com/networkx/networkx/commit/90544b4fa5a7397a86e69ebf5778f4a0f6eafe1e</a>.</p></li>
<li><p>Let’s skip creating the branch on GitHub. Instead, we can browse the
project at this version:
<a class="reference external" href="https://github.com/networkx/networkx/tree/90544b4">https://github.com/networkx/networkx/tree/90544b4</a>.</p></li>
<li><p>Go back to the “Blame” view for the file <code class="docutils literal notranslate"><span class="pre">networkx/algorithms/threshold.py</span></code>:
<a class="reference external" href="https://github.com/networkx/networkx/blame/409979eff35f02eff54f4eea3731736bd431dc2e/networkx/algorithms/threshold.py#L550">https://github.com/networkx/networkx/blame/409979eff35f02eff54f4eea3731736bd431dc2e/networkx/algorithms/threshold.py#L550</a>.
Navigate to the symbol “Blame prior to change …” which you find next to the commit message that modified this line.</p></li>
</ol>
</div></div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="finding-out-when-something-broke-changed-with-git-bisect">
<h3>Finding out when something broke/changed with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code><a class="headerlink" href="#finding-out-when-something-broke-changed-with-git-bisect" title="Link to this heading"></a></h3>
<p>This section only works with the command line.</p>
<p><em>“But I am sure it used to work! Strange.”</em> - Sometimes you realize that
something broke.  You know that it used to work.  You do not know <strong>when precisely</strong> it
broke.</p>
<div class="admonition-how-would-you-solve-this discussion important admonition" id="discussion-1">
<p class="admonition-title">How would you solve this?</p>
<p>Before we go on first discuss how you would solve this problem: You know that it worked
500 commits ago but it does not work now.</p>
<ul class="simple">
<li><p>How would you find the commit which changed it?</p></li>
<li><p>Why could it be useful to know the commit that changed it?</p></li>
</ul>
</div>
<p>We will probably arrive at a solution which is similar to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code>:</p>
<ul>
<li><p>First find out a commit in past when it worked.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>bisect<span class="w"> </span>start
<span class="gp">$ </span>git<span class="w"> </span>bisect<span class="w"> </span>good<span class="w"> </span>f0ea950<span class="w">  </span><span class="c1"># this is a commit that worked</span>
<span class="gp">$ </span>git<span class="w"> </span>bisect<span class="w"> </span>bad<span class="w"> </span>main<span class="w">      </span><span class="c1"># last commit is broken</span>
</pre></div>
</div>
</li>
<li><p>Now compile and/or run and/or test and decide whether “good” or “bad”.</p></li>
<li><p>This is how you can tell Git that this was a working commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>bisect<span class="w"> </span>good
</pre></div>
</div>
</li>
<li><p>And this is how you can tell Git that this was not a working commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>bisect<span class="w"> </span>bad
</pre></div>
</div>
</li>
<li><p>Then bisect/iterate your way until you find the commit that broke it.</p></li>
<li><p>If you want to go back to start, type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span> <span class="pre">reset</span></code>.</p></li>
<li><p>This can even be automatized with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span> <span class="pre">run</span> <span class="pre">SCRIPT</span></code>.
For this you write a script that returns zero/non-zero (success/failure).</p></li>
</ul>
</section>
<section id="optional-exercise-git-bisect">
<span id="exercise-bisect"></span><h3>Optional exercise: Git bisect<a class="headerlink" href="#optional-exercise-git-bisect" title="Link to this heading"></a></h3>
<p>This only works with the command line.</p>
<div class="admonition-optional-use-git-bisect-to-find-the-bad-commit exercise important admonition" id="exercise-1">
<p class="admonition-title">(optional) Use git bisect to find the bad commit</p>
<p>In this exercise, we use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> on an example repository.  It
is OK if you do not complete this exercise fully.</p>
<p>Begin by cloning <a class="reference external" href="https://github.com/coderefinery/git-bisect-exercise">https://github.com/coderefinery/git-bisect-exercise</a>.</p>
<p><strong>Motivation</strong></p>
<p>The motivation for this exercise is to be able to do archaeology with Git on a
source code where the bug is difficult to see visually. <strong>Finding the offending
commit is often more than half the debugging</strong>.</p>
<p><strong>Background</strong></p>
<p>The script <code class="docutils literal notranslate"><span class="pre">get_pi.py</span></code> approximates pi using terms of the Nilakantha series. It
should produce 3.14 but it does not. The script broke at some point and
produces 3.57 using the last commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>get_pi.py

<span class="go">3.57</span>
</pre></div>
</div>
<p>At some point within the 500 first commits, an error was introduced. The only
thing we know is that the first commit worked correctly.</p>
<p><strong>Your task</strong></p>
<ul class="simple">
<li><p>Clone this repository and use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> to find the commit which
broke the computation
(<a class="reference external" href="https://github.com/coderefinery/git-bisect-exercise#solutions-spoiler-alert">solution - spoiler alert!</a>).</p></li>
<li><p>Once you have found the offending commit, also practice navigating to the last good commit.</p></li>
<li><p>Bonus exercise:
Write a script that checks for a correct result and use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span> <span class="pre">run</span></code> to
find the offending commit automatically
(<a class="reference external" href="https://github.com/coderefinery/git-bisect-exercise#solutions-spoiler-alert">solution - spoiler alert!</a>).</p></li>
</ul>
<p><strong>Hints</strong></p>
<p>Finding the first commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
<p>How to navigate to the parent of a commit with hash SOMEHASH:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>BRANCHNAME<span class="w"> </span>SOMEHASH~1
</pre></div>
</div>
<p>Instead of a tilde you can also use this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>BRANCHNAME<span class="w"> </span>SOMEHASH^
</pre></div>
</div>
</div>
</section>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>git log/grep/annotate/show/bisect is a powerful combination when doing archaeology in a project on the command line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span> <span class="pre">--create</span> <span class="pre">NAME</span> <span class="pre">HASH</span></code> is the recommended mechanism to inspect old code on the command line.</p></li>
<li><p>Most of these commands can be used in the GitHub web interface (except <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code>).</p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-sharing"></span><section id="how-to-turn-your-project-to-a-git-repo-and-share-it">
<span id="sharing-repositories"></span><h2>How to turn your project to a Git repo and share it<a class="headerlink" href="#how-to-turn-your-project-to-a-git-repo-and-share-it" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Turn our own coding project (small or large, finished or unfinished) into a
Git repository.</p></li>
<li><p>Be able to share a repository on the web to have a backup or so that others
can reuse and collaborate or even just find it.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min introduction and setup</p></li>
<li><p>25 min exercise</p></li>
<li><p>15 min discussion</p></li>
</ul>
</div>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h3>
<figure class="align-default" id="id5">
<a class="reference internal image-reference" href="_images/sharing.png"><img alt="Illustration of how we turn a project into a Git repository and share it" src="_images/sharing.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">From a bunch of files to a local repository which we then share on GitHub.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-exercise-turn-your-project-to-a-git-repo-and-share-it-25-min exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise: Turn your project to a Git repo and share it (25 min)</p>
<ol class="arabic simple">
<li><p>Create a new directory called <strong>myproject</strong> with one or few files in it.
This represents our own project. It is not yet a Git repository. You can try
that with your own project or use a simple placeholder example.</p></li>
<li><p>Turn this new directory into a Git repository.</p></li>
<li><p>Share this repository on GitHub (or GitLab, since it really works the same).</p></li>
</ol>
<p>We offer <strong>three different paths</strong> of how to do this exercise.</p>
<ul class="simple">
<li><p>Via <strong>GitHub web interface</strong>: easy and can be a good starting point if you are completely
new to Git.</p></li>
<li><p><strong>VS Code</strong> is quite easy, since VS Code can offer to create the
GitHub repositories for you.</p></li>
<li><p><strong>Command line</strong>: you need to create the
repository on GitHub and link it yourself.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-T25seSB1c2luZyBHaXRIdWI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-T25seSB1c2luZyBHaXRIdWI=" name="T25seSB1c2luZyBHaXRIdWI=" role="tab" tabindex="0">Only using GitHub</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-T25seSB1c2luZyBHaXRIdWI=" class="sphinx-tabs-panel group-tab" id="panel-0-T25seSB1c2luZyBHaXRIdWI=" name="T25seSB1c2luZyBHaXRIdWI=" role="tabpanel" tabindex="0"><p class="rubric" id="create-an-repository-on-github">Create an repository on GitHub</p>
<p>First log into GitHub, then follow the screenshots and descriptions below.</p>
<figure class="align-default" id="id6">
<a class="with-border reference internal image-reference" href="_images/new-repository.png"><img alt="Screenshot on GitHub before a new repository form is opened" class="with-border" src="_images/new-repository.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on the “plus” symbol on top right, then on “New repository”.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then:</p>
<figure class="align-default" id="id7">
<a class="with-border reference internal image-reference" href="_images/create-repository-with-readme.png"><img alt="Screenshot on GitHub just before a new repository is created" class="with-border" src="_images/create-repository-with-readme.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Choose a repository name, add a short description, and in this case <strong>make sure to check</strong> “Add a
README file”. Finally “Create repository”.</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p class="rubric" id="upload-your-files">Upload your files</p>
<p>Now that the repository is created, you can upload your files:</p>
<figure class="align-default" id="id8">
<a class="with-border reference internal image-reference" href="_images/upload-files.png"><img alt="Screenshot on GitHub just before uploading files" class="with-border" src="_images/upload-files.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on the “+” symbol and then on “Upload files”.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>In VS Code it only takes few clicks.</p>
<p>First, open the folder in VS Code. My example project here contains two files.
Then click on the source control icon:</p>
<figure class="align-default" id="id9">
<a class="with-border reference internal image-reference" href="_images/vscode-start.png"><img alt="Screenshot of VS Code before clicking on the source control icon" class="with-border" src="_images/vscode-start.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Open the folder in VS Code. Then click on the source control icon.</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github1.png"><img alt="Screenshot of VS Code before publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github1.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Choose “Publish to GitHub”. In this case I never even clicked on “Initialize Repository”.</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id11">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github2.png"><img alt="Screenshot of VS Code before publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github2.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">In my case I chose to “Publish to GitHub public repository”. Here you can also rename
the repository if needed.</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id12">
<a class="with-border reference internal image-reference" href="_images/vscode-authorize.png"><img alt="Screenshot of VS Code asking for authorization" class="with-border" src="_images/vscode-authorize.png" style="width: 50%;" />
</a>
<figcaption>
<p><span class="caption-text">First time you do this you might need to authorize VS Code to access your
GitHub account by redirecting you to https://github.com/login/oauth/authorize.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id13">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github3.png"><img alt="Screenshot of VS Code after publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github3.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">After it is published, click on “Open on GitHub”.</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p class="rubric" id="make-sure-your-git-is-configured">Make sure your Git is configured</p>
<p>We have an own section on this: <a class="reference internal" href="#document-configuration#configuration"><span class="std std-ref">Configuring Git command line and editor</span></a>.</p>
<p class="rubric" id="put-your-project-under-version-control">Put your project under version control</p>
<p>My example project here consists of two files. Replace this with your own
example files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>-l

<span class="go">.rw------- 19k user  7 Mar 17:36 LICENSE</span>
<span class="go">.rw-------  21 user  7 Mar 17:36 myscript.py</span>
</pre></div>
</div>
<p>I will first initialize a Git repository in this directory.
If you get an error, try without the <code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">main</span></code> (and your default branch will
then be called <code class="docutils literal notranslate"><span class="pre">master</span></code>, this will happen for Git versions older than
2.28):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>init<span class="w"> </span>-b<span class="w"> </span>main
</pre></div>
</div>
<p>Now add and commit the two files to the Git repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>LICENSE<span class="w"> </span>myscript.py
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;putting my project under version control&quot;</span>
</pre></div>
</div>
<p>If you want to add all files in one go, you can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">LICENSE</span> <span class="pre">myscript.py</span></code>.</p>
<p>Now you have a Git repository with one commit. Verify this with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>.
But it’s still only on your computer. Let’s put it on GitHub next.</p>
<p class="rubric" id="create-an-empty-repository-on-github">Create an <u>empty</u> repository on GitHub</p>
<p>First log into GitHub, then follow the screenshots and descriptions below.</p>
<figure class="align-default" id="id14">
<a class="with-border reference internal image-reference" href="_images/new-repository.png"><img alt="Screenshot on GitHub before a new repository form is opened" class="with-border" src="_images/new-repository.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on the “plus” symbol on top right, then on “New repository”.</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then create an empty repository without any files and without any commits:</p>
<figure class="align-default" id="id15">
<a class="with-border reference internal image-reference" href="_images/create-repository.png"><img alt="Screenshot on GitHub just before a new repository is created" class="with-border" src="_images/create-repository.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Choose a repository name, add a short description, but please <strong>do not check</strong> “Add a
README file”. For “Add .gitignore” and “Choose a license” also leave as “None”. Finally “Create repository”.</span><a class="headerlink" href="#id15" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Once you click the green “Create repository”, you will see a page similar to:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/bare-repository.png"><img alt="Screenshot on GitHub after a bare repository was created" class="with-border" src="_images/bare-repository.png" style="width: 100%;" />
</a>
</figure>
<p>What this means is that we have now an empty project with either an HTTPS or an
SSH address: click on the HTTPS and SSH buttons to see what happens.</p>
<p class="rubric" id="push-an-existing-repository-from-your-computer-to-github">Push an existing repository from your computer to GitHub</p>
<p>We now want to follow the “<strong>… or push an existing repository from the command line</strong>”:</p>
<ol class="arabic simple">
<li><p>In your terminal make sure you are still in your myproject directory.</p></li>
<li><p>Copy paste the three lines below the red arrow to the terminal and execute
those, in my case (<strong>you need to replace the “USER” part and possibly also
the repository name</strong>):</p></li>
</ol>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U1NI" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-U1NI" name="U1NI" role="tab" tabindex="0">SSH</button><button aria-controls="panel-1-SFRUUFM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-SFRUUFM=" name="SFRUUFM=" role="tab" tabindex="-1">HTTPS</button></div><div aria-labelledby="tab-1-U1NI" class="sphinx-tabs-panel group-tab" id="panel-1-U1NI" name="U1NI" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:USER/myproject.git
</pre></div>
</div>
</div><div aria-labelledby="tab-1-SFRUUFM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-SFRUUFM=" name="SFRUUFM=" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>https://github.com/USER/myproject.git
</pre></div>
</div>
</div></div>
<p>Then:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-M<span class="w"> </span>main
<span class="gp">$ </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<p>The meaning of the above lines:</p>
<ul class="simple">
<li><p>Add a remote reference with the name “origin”</p></li>
<li><p>Rename current branch to “main”</p></li>
<li><p>Push branch “main” to “origin”</p></li>
</ul>
<p>You should now see:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 12 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 6.08 KiB | 6.08 MiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
To github.com:USER/myproject.git
 * [new branch]      main -&gt; main
branch &#39;main&#39; set up to track &#39;origin/main&#39;.
</pre></div>
</div>
<p>Reload your GitHub project website and your commits should now be
online!</p>
<p class="rubric" id="troubleshooting">Troubleshooting</p>
<p><strong>error: remote origin already exists</strong></p>
<ul class="simple">
<li><p>Explanation: You probably ran a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command, then changed your
mind about HTTPS or SSH and then tried to run the other <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command but “origin” then already exists.</p></li>
<li><p>Recovery:</p>
<ul>
<li><p>First remove “origin” with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">remove</span> <span class="pre">origin</span></code></p></li>
<li><p>Then run the correct <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command</p></li>
</ul>
</li>
</ul>
<p><strong>remote contains work that you do not have</strong></p>
<ul class="simple">
<li><p>Explanation: You probably clicked on “Add a README file” and now the
repository on GitHub is not empty but contains one commit and locally you
have a different history. Git now prevents you from accidentally overwriting
the history on GitHub.</p></li>
<li><p>Recovery:</p>
<ul>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--force</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code>, which will force Git to overwrite the history on GitHub</p></li>
<li><p>Note that this is a powerful but also possibly dangerous option but here it
helps us. If it’s a brand new repo, it probably is fine to do this. For real
repositories, don’t do this unless you are very sure what is happening.</p></li>
</ul>
</li>
</ul>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This is not fully explained, because a lot of it is similar to the “Command
line” method (and an RStudio expert could help us some).  The main differences
are:</p>
<p class="rubric" id="id1">Put your project under version control</p>
<ol class="arabic simple">
<li><p>Tools → Version control → Project setup → Version control system = Git.</p></li>
<li><p>Select “Yes” for “do you want to initialize a new git repository for this project.</p></li>
<li><p>Select yes to restart the project with RStudio.</p></li>
<li><p>Switch to branch <code class="docutils literal notranslate"><span class="pre">main</span></code> to have you branch named that.</p></li>
</ol>
<p class="rubric" id="id2">Create an <u>empty</u> repository on GitHub</p>
<p>Same as command line</p>
<p class="rubric" id="id3">Push an existing repository from your computer to GitHub</p>
<ol class="arabic simple">
<li><p>Under the “Create new branch” button → “Add Remote”</p></li>
<li><p>Remote name: <code class="docutils literal notranslate"><span class="pre">origin</span></code></p></li>
<li><p>Remote URL: as in command line (remember to select SSH or HTTPS as you have configured your RStudio)</p></li>
<li><p>The “Push” (up arrow) button will send changes on your current branch to the remote.  The “Pull” (down arrow) will get changes from the remote.</p></li>
</ol>
<p class="rubric" id="id4">Troubleshooting</p>
<p>Same as command line</p>
</div></div>
</div>
</section>
<section id="remote-repositories">
<h3>Remote repositories<a class="headerlink" href="#remote-repositories" title="Link to this heading"></a></h3>
<p>In this exercise we have pushed our local repository to a remote
repository.  You can learn how to work with remote repositories in
detail in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative distributed version
control</a> lesson.</p>
<p>To store your Git data on another server, you use <strong>remotes</strong>.  A
remote is a repository on its own, with its own branches. We can
<strong>push</strong> changes to the remote and <strong>pull</strong> from the remote.</p>
<p>You might use remotes to:</p>
<ul class="simple">
<li><p>Back up your own work or make your work findable.</p></li>
<li><p>To collaborate with other people.</p></li>
</ul>
<p>There are services that can be a remote:</p>
<ul class="simple">
<li><p>If you have a server you can SSH to, you can use that as a remote.</p></li>
<li><p><a class="reference external" href="https://github.com">GitHub</a> is a popular, closed-source commercial site.</p></li>
<li><p><a class="reference external" href="https://about.gitlab.com">GitLab</a> is a popular, open-core
commercial site.  Many universities have their own private GitLab servers
set up.</p></li>
<li><p><a class="reference external" href="https://bitbucket.org">Bitbucket</a> is yet another popular commercial site.</p></li>
<li><p>Another option is <a class="reference external" href="https://codeberg.org/">Codeberg</a> – a German nonprofit organization specialized in open-source software development services.</p></li>
<li><p>There are more …</p></li>
</ul>
</section>
<section id="is-putting-software-on-github-gitlab-publishing">
<h3>Is putting software on GitHub/GitLab/… publishing?<a class="headerlink" href="#is-putting-software-on-github-gitlab-publishing" title="Link to this heading"></a></h3>
<p>It is a good first step but to make your code truly <strong>findable and
accessible</strong>, consider making your code <strong>citable and persistent</strong>: Get a
persistent identifier (PID) such as DOI in addition to sharing the code
publicly, by using services like <a class="reference external" href="https://zenodo.org">Zenodo</a> or similar
services.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-level"></span><section id="practical-advice-how-much-git-is-necessary">
<h2>Practical advice: How much Git is necessary?<a class="headerlink" href="#practical-advice-how-much-git-is-necessary" title="Link to this heading"></a></h2>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>20 min teaching/discussion</p></li>
</ul>
</div>
<section id="working-on-the-command-line-use-git-status-all-the-time">
<h3>Working on the command line? Use “git status” all the time<a class="headerlink" href="#working-on-the-command-line-use-git-status-all-the-time" title="Link to this heading"></a></h3>
<p>Unsure on which branch you are or what state the repository is in?  On the
command line, use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> frequently to get a quick overview.
The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> command is one of the most useful commands in Git
to inform about which branch we are on, what we are about to commit,
which files might not be tracked, etc.</p>
</section>
<section id="writing-useful-commit-messages">
<h3>Writing useful commit messages<a class="headerlink" href="#writing-useful-commit-messages" title="Link to this heading"></a></h3>
<p>Useful commit messages summarize the change and provide context.</p>
<p>If you need a commit message that is longer than one line,
then the convention is: <strong>one line summarizing the commit, then one empty line,
then paragraph(s) with more details in free form, if necessary</strong>.</p>
<p>Good example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>increase alpha to 2.0 for faster convergence

the motivation for this change is
to enable ...
...
(more context)
...
this is based on a discussion in #123
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Why something was changed is more important than what has changed.</strong></p></li>
<li><p>Cross-reference to issues and discussions if possible/relevant.</p></li>
<li><p>Bad commit messages: “fix”, “oops”, “save work”</p></li>
<li><p>Bad examples: <a class="reference external" href="http://whatthecommit.com">http://whatthecommit.com</a></p></li>
<li><p>Write commit messages in English that will be understood
15 years from now by someone else than you. Or by your future you.</p></li>
<li><p>Many projects start out as projects “just for me” and end up to be successful projects
that are developed by 50 people over decades.</p></li>
<li><p><a class="reference external" href="https://help.github.com/articles/creating-a-commit-with-multiple-authors/">Commits with multiple authors</a> are possible.</p></li>
</ul>
<p>Good references:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://fatbusinessman.com/2019/my-favourite-git-commit">“My favourite Git commit”</a></p></li>
<li><p><a class="reference external" href="https://who-t.blogspot.com/2009/12/on-commit-messages.html">“On commit messages”</a></p></li>
<li><p><a class="reference external" href="https://chris.beams.io/posts/git-commit/">“How to Write a Git Commit Message”</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A great way to learn how to write commit messages and to get inspired by their
style choices: <strong>browse repositories of codes that you use/like</strong>:</p>
<p>Some examples (but there are so many good examples):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/scipy/scipy/commits/main">SciPy</a></p></li>
<li><p><a class="reference external" href="https://github.com/numpy/numpy/commits/main">NumPy</a></p></li>
<li><p><a class="reference external" href="https://github.com/pandas-dev/pandas/commits/main">Pandas</a></p></li>
<li><p><a class="reference external" href="https://github.com/JuliaLang/julia/commits/master">Julia</a></p></li>
<li><p><a class="reference external" href="https://github.com/tidyverse/ggplot2/commits/main">ggplot2</a>,
compare with their <a class="reference external" href="https://github.com/tidyverse/ggplot2/releases">release
notes</a></p></li>
<li><p><a class="reference external" href="https://github.com/pallets/flask/commits/main">Flask</a>,
compare with their <a class="reference external" href="https://github.com/pallets/flask/blob/main/CHANGES.rst">release
notes</a></p></li>
</ul>
<p>When designing commit message styles consider also these:</p>
<ul class="simple">
<li><p>How will you easily generate a changelog or release notes?</p></li>
<li><p>During code review, you can help each other improving commit messages.</p></li>
</ul>
</div>
<p>But remember: it is better to make any commit, than no commit. Especially in small projects.
<strong>Let not the perfect be the enemy of the good enough</strong>.</p>
</section>
<section id="what-level-of-branching-complexity-is-necessary-for-each-project">
<h3>What level of branching complexity is necessary for each project?<a class="headerlink" href="#what-level-of-branching-complexity-is-necessary-for-each-project" title="Link to this heading"></a></h3>
<p><strong>Simple personal projects</strong>:</p>
<ul class="simple">
<li><p>Typically start with just the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p></li>
<li><p>Use branches for unfinished/untested ideas.</p></li>
<li><p>Use branches when you are not sure about a change.</p></li>
<li><p>Use tags to mark important milestones.</p></li>
<li><p>If you are unsure what to do with unfinished and not working code, commit it
to a branch.</p></li>
</ul>
<p><strong>Projects with few persons: you accept things breaking sometimes</strong></p>
<ul class="simple">
<li><p>It might be reasonable to commit to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and feature branches.</p></li>
</ul>
<p><strong>Projects with few persons: changes are reviewed by others</strong></p>
<ul class="simple">
<li><p>You create new feature branches for changes.</p></li>
<li><p>Changes are reviewed before they are merged to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch
(more about that in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git lesson</a>).</p></li>
<li><p>Consider to write-protect the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch so that it can only be changed
with pull requests or merge requests.</p></li>
</ul>
</section>
<section id="how-about-staging-and-committing">
<h3>How about staging and committing?<a class="headerlink" href="#how-about-staging-and-committing" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Commit early and often: rather create too many commits than too few.
You can always combine commits later.</p></li>
<li><p>Once you commit, it is very, very hard to really lose your code.</p></li>
<li><p>Always fully commit (or stash) before you do dangerous things, so that you know you are safe.
Otherwise it can be hard to recover.</p></li>
<li><p>Later you can start using the staging area (where you first stage and then commit in a second step).</p></li>
<li><p>Later start using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-p</span></code> and/or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-p</span></code>.</p></li>
</ul>
</section>
<section id="how-large-should-a-commit-be">
<h3>How large should a commit be?<a class="headerlink" href="#how-large-should-a-commit-be" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Better too small than too large (easier to combine than to split).</p></li>
<li><p>Often I make a commit at the end of the day (this is a unit I would not like to lose).</p></li>
<li><p>Smaller sized commits may be easier to review for others than huge commits.</p></li>
<li><p>Imperfect commits are better than no commits.</p></li>
<li><p>A commit should not contain unrelated changes to simplify review and possible
repair/adjustments/undo later (but again: imperfect commits are better than no commits).</p></li>
</ul>
<hr class="docutils" />
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>There is no one size fits all - start simple and grow your project.</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p>How do you [plan to] use Git?</p>
<ul class="simple">
<li><p>Advanced users or beginners, please provide your input in the online collaborative document.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-what-to-avoid"></span><section id="what-to-avoid">
<span id="id1"></span><h2>What to avoid<a class="headerlink" href="#what-to-avoid" title="Link to this heading"></a></h2>
<section id="when-committing">
<h3>When committing<a class="headerlink" href="#when-committing" title="Link to this heading"></a></h3>
<p><strong>Commit messages that explain what has been changed but do not explain why it has been
changed</strong>: This is as useful as code comments which describe the “obvious” such
as “this is a loop” instead of explaining why something is done this way.
But don’t let perfect commit messages stop you from the most important point, committing often.</p>
<p><strong>Committing generated files</strong>: Compiled and generated files are not
committed to version control. There are many reasons for this:</p>
<ul class="simple">
<li><p>These files can make it more difficult to run on different platforms.</p></li>
<li><p>These files are automatically generated and thus do not contribute in any meaningful way.</p></li>
<li><p>When tracking generated files you could see differences in the code although you haven’t touched the code.</p></li>
</ul>
<p>For this we use <a class="reference external" href="https://docs.github.com/en/get-started/getting-started-with-git/ignoring-files">.gitignore files</a> where
you can list which files and paths should be ignored by Git. You can also use
wild-cards to ignore files with a certain extension or files in a certain
directory (<a class="reference external" href="https://github.com/github/gitignore">collection of .gitignore templates</a>).</p>
<p><strong>Commit huge files</strong>: Huge files get sometimes accidentally added and
committed which can significantly increase the repository size. Note that a
subsequent <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span></code> does not remove the addition from the repository history.
Code review can help detecting accidental large file additions.
You can also add an automated test which checks for file sizes during a pull request or merge request.</p>
<p><strong>Postponing commits because the changes are “unfinished”/”ugly”</strong>: It is
better to have many OK-ish commits than too few perfect commits.  Too few
perfect commits are probably too large and make undoing more difficult.  It is
also easier to combine too small commits than it is to split too large commits.
The longer you wait because of this, the harder it will be to
commit it at all.</p>
<p><strong>Commit unrelated changes together</strong>: Makes it difficult to undo changes since
it can undo also the unrelated change.  But, in the end, it is probably better
to make big ugly commits than to never commit.  This is especially true in in
the chaotic early phases of small projects.</p>
</section>
<section id="when-working-with-branches">
<h3>When working with branches<a class="headerlink" href="#when-working-with-branches" title="Link to this heading"></a></h3>
<p><strong>Not updating your branch before starting new work</strong>: Few things are worse
than doing work and then noticing a lot of conflicts because
unrelated but conflicting work was done in the meantime or even before you started.  Or noticing that someone
else has already done it.  This problem is largest when you come back
to an active project weeks or months later.
So update your branch before adding new commits.</p>
<p><strong>Too ambitious branch which risks to never get completed</strong>: The branch will
never merge back and be so big and so ambitious with too many/big features that
the risk is high that once it is really ready, there are conflicts everywhere.</p>
<p><strong>Over-engineering the branch layout and safeguards in small projects</strong>: This
may prevent people from contributing (maybe even including yourself?). Add more
restrictions and safeguards only as the project and the group of collaborators
grows.</p>
<hr class="docutils" />
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p>Question to all seasoned Git users: What are we missing on this page? Please
contribute improvements.</p>
</div>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-basics"></span><section id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn to create Git repositories and make commits.</p></li>
<li><p>Get a grasp of the structure of a repository.</p></li>
<li><p>Learn how to inspect the project history.</p></li>
<li><p>Learn how to write useful commit log messages.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>35 min teaching/type-along</p></li>
<li><p>40 min exercise</p></li>
</ul>
</div>
<section id="what-is-git-and-what-is-a-git-repository">
<h3>What is Git, and what is a Git repository?<a class="headerlink" href="#what-is-git-and-what-is-a-git-repository" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Git is a version control system: can <strong>record/save snapshots</strong> and track the content of a folder as it changes over time.</p></li>
<li><p>Every time we <strong>commit</strong> a snapshot, Git records a snapshot of the <strong>entire project</strong>, saves it, and assigns it a version.</p></li>
<li><p>These snapshots are kept inside a sub-folder called <code class="docutils literal notranslate"><span class="pre">.git</span></code>.</p></li>
<li><p>If we remove <code class="docutils literal notranslate"><span class="pre">.git</span></code>, we remove the repository and history (but keep the working directory!).</p></li>
<li><p>The directory <code class="docutils literal notranslate"><span class="pre">.git</span></code> uses relative paths - you can move the whole repository somewhere else and it will still work.</p></li>
<li><p>Git doesn’t do anything unless you ask it to (it <strong>does not record anything automatically</strong>).</p></li>
<li><p>Multiple interfaces to Git exist (command line, graphical interfaces, web interfaces).</p></li>
</ul>
</section>
<section id="recording-a-snapshot-with-git">
<h3>Recording a snapshot with Git<a class="headerlink" href="#recording-a-snapshot-with-git" title="Link to this heading"></a></h3>
<ul>
<li><p>Git takes snapshots only if we request it.</p></li>
<li><p>We will record changes in two steps (we will later explain why this is a recommended practice).</p></li>
<li><p>Example (we don’t need to type yet):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>FILE.txt
<span class="gp">$ </span>git<span class="w"> </span>commit

<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>FILE.txt<span class="w"> </span>ANOTHERFILE.txt
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
</li>
<li><p>We first focus (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>, we “stage” the change), then record (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>):</p></li>
</ul>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/git_stage_commit.svg"><img alt="Git staging" src="_images/git_stage_commit.svg" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Git staging and committing.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-question-for-the-more-advanced-participants discussion important admonition" id="discussion-0">
<p class="admonition-title">Question for the more advanced participants</p>
<p>What do you think will be the outcome if you
stage a file and then edit it and stage it again, do this several times and
at the end perform a commit? Think of focusing several scenes and pressing the
shutter at the end.</p>
</div>
</section>
<section id="configuring-git-command-line">
<h3>Configuring Git command line<a class="headerlink" href="#configuring-git-command-line" title="Link to this heading"></a></h3>
<p>Before we start using Git on the command line, we need to configure Git.
This is also part of the
<a class="reference external" href="https://coderefinery.github.io/installation/shell-and-git/#configuration">installation instructions</a>
but we need to make sure we all have
set name, email address, editor, and
default branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Your Name&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span>yourname@example.com
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.editor<span class="w"> </span>nano
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>init.defaultBranch<span class="w"> </span>main
</pre></div>
</div>
<p>Verify with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--list
</pre></div>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<p>Instructors, give learners enough time to do the above configuration steps.</p>
</div>
</section>
<section id="type-along-tracking-a-guacamole-recipe-with-git">
<h3>Type-along: Tracking a guacamole recipe with Git<a class="headerlink" href="#type-along-tracking-a-guacamole-recipe-with-git" title="Link to this heading"></a></h3>
<p>We will learn how to initialize a Git repository, how to track changes, and how
to make delicious guacamole! (Inspiration for this example based on a
suggestion by B. Smith in a discussion in the Carpentries mailing list)</p>
<p>The motivation for taking a cooking recipe instead of a program is that everybody can relate to cooking
but not everybody may be able to relate to a program written in e.g. Python or another specific language.</p>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-2">
<p class="admonition-title">Instructor note</p>
<p>Instructors, please encourage now that participants type along.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to go through this lesson in the command line or in the browser
(on GitHub).</p>
<ul class="simple">
<li><p>We recommend to start with the command line but later to also try in the browser.</p></li>
<li><p>If you get really stuck in the command line, try following in the browser and
later you can try to return to the command line.</p></li>
</ul>
</div>
</section>
<section id="creating-a-repository">
<h3>Creating a repository<a class="headerlink" href="#creating-a-repository" title="Link to this heading"></a></h3>
<p>One of the basic principles of Git is that it is <strong>easy to create repositories</strong>:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-0-QnJvd3NlciAoR2l0SHViKQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tab" tabindex="-1">Browser (GitHub)</button></div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mkdir<span class="w"> </span>recipe
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>recipe
<span class="gp">$ </span>git<span class="w"> </span>init<span class="w"> </span>-b<span class="w"> </span>main
</pre></div>
</div>
<p>That’s it! With <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">-b</span> <span class="pre">main</span></code> have now created an empty Git repository
where <code class="docutils literal notranslate"><span class="pre">main</span></code> is the default branch (more about branches later).</p>
<p>We will use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> a lot to check out what is going on:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">nothing to commit (create/copy files and use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>We will make sense of this information during this workshop.</p>
</div><div aria-labelledby="tab-0-QnJvd3NlciAoR2l0SHViKQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tabpanel" tabindex="0"><p>First log into GitHub, then follow the screenshots and descriptions below.</p>
<figure class="align-default" id="id3">
<a class="with-border reference internal image-reference" href="_images/new-repo-plus.png"><img alt="Screenshot on GitHub before a new repository form is opened" class="with-border" src="_images/new-repo-plus.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on the “plus” symbol on top right, then on “New repository”.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Another way to create a new repository is to visit
<a class="reference external" href="https://github.com/new">https://github.com/new</a> directly.</p>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/new-repo-form.png"><img alt="Screenshot on GitHub just before creating a new repository" class="with-border" src="_images/new-repo-form.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Choose a repository name, add a short description, <strong>check “Add a
README file”</strong>, finally “Create repository”.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>After you have clicked “Create repository” you should see a repository overview
with one file (README.md) and one commit.</p>
</div></div>
</section>
<section id="adding-files-and-committing-changes">
<h3>Adding files and committing changes<a class="headerlink" href="#adding-files-and-committing-changes" title="Link to this heading"></a></h3>
<p>Let us now <strong>create two files</strong>.</p>
<p>One file is called <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code> and contains:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>*<span class="w"> </span><span class="m">2</span><span class="w"> </span>avocados
*<span class="w"> </span><span class="m">1</span><span class="w"> </span>chili
*<span class="w"> </span><span class="m">1</span><span class="w"> </span>lime
*<span class="w"> </span><span class="m">2</span><span class="w"> </span>tsp<span class="w"> </span>salt
</pre></div>
</div>
<p>The second file is called <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code> and contains:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>*<span class="w"> </span>chop<span class="w"> </span>avocados
*<span class="w"> </span>chop<span class="w"> </span>onion
*<span class="w"> </span>chop<span class="w"> </span>chili
*<span class="w"> </span>squeeze<span class="w"> </span>lime
*<span class="w"> </span>add<span class="w"> </span>salt
*<span class="w"> </span>and<span class="w"> </span>mix<span class="w"> </span>well
</pre></div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-1-QnJvd3NlciAoR2l0SHViKQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tab" tabindex="-1">Browser (GitHub)</button></div><div aria-labelledby="tab-1-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-1-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>As mentioned above, in Git you can always check the status of files in your repository using
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>. It is always a safe command to run and in general a good idea to
do when you are trying to figure out what to do next:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Untracked files:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="go">    ingredients.txt</span>
<span class="go">    instructions.txt</span>

<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>The two files are untracked in the repository (directory). You want to <strong>add the files</strong> (focus the camera)
to the list of files tracked by Git. Git does not track
any files automatically and you need make a conscious decision to add a file. Let’s do what
Git hints at, and add the files, one by one:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>ingredients.txt
<span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Changes to be committed:</span>
<span class="go">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span>
<span class="go">    new file:   ingredients.txt</span>

<span class="go">Untracked files:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="go">    instructions.txt</span>
</pre></div>
</div>
<p>Now this change is <em>staged</em> and ready to be committed.
Let us now commit the change to the repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;adding ingredients&quot;</span>

<span class="go">[main (root-commit) f146d25] adding ingredients</span>
<span class="go"> 1 file changed, 4 insertions(+)</span>
<span class="go"> create mode 100644 ingredients.txt</span>
</pre></div>
</div>
<p>Right after we query the status to get this useful command into our muscle memory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
</pre></div>
</div>
<p>Now stage and commit also the other file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>instructions.txt
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;adding instructions&quot;</span>
</pre></div>
</div>
<p>We will add a third file to the repository, <code class="docutils literal notranslate"><span class="pre">README.md</span></code>, containing:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># recipe</span>

This is an exercise repository.
</pre></div>
</div>
<p>Now stage and commit also the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>README.md
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;adding README&quot;</span>
</pre></div>
</div>
<p>What does the <code class="docutils literal notranslate"><span class="pre">-m</span></code> flag mean? Let us check the help page for that command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>commit
</pre></div>
</div>
<p>You should see a very long help page as the tool is very versatile (press q to quit).
Do not worry about this now but keep in mind that you can always read the help files
when in doubt. Searching online can also be useful, but choosing search terms
to find relevant information takes some practice and discussions in some
online threads may be confusing.
Note that help pages also work when you don’t have a network connection!</p>
</div><div aria-labelledby="tab-1-QnJvd3NlciAoR2l0SHViKQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tabpanel" tabindex="0"><figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/add-file.png"><img alt="Screenshot on GitHub before a new file is created" class="with-border" src="_images/add-file.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on “Add file”, then “Create new file”.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<a class="with-border reference internal image-reference" href="_images/edit-file.png"><img alt="Screenshot on GitHub when editing a file" class="with-border" src="_images/edit-file.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Edit the file and specify the file name.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<a class="with-border reference internal image-reference" href="_images/commit-changes.png"><img alt="Screenshot on GitHub when editing the commit message" class="with-border" src="_images/commit-changes.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Before you commit the change, adjust the commit message.</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>After you have added <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code>, add also <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code> in a similar
way.</p>
<p>We have added two files, each in one commit. However, we ended up with
three files and three commits since <code class="docutils literal notranslate"><span class="pre">README.md</span></code> was automatically committed
when we created the repository on GitHub.</p>
</div></div>
</section>
<section id="exercise-record-changes">
<span id="id1"></span><h3>Exercise: Record changes<a class="headerlink" href="#exercise-record-changes" title="Link to this heading"></a></h3>
<div class="admonition-basic-1-record-changes exercise important admonition" id="exercise-0">
<p class="admonition-title">Basic-1: Record changes</p>
<p>Add 1/2 onion to <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code> and also the instruction
to “enjoy!” to <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-2-QnJvd3NlciAoR2l0SHViKQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tab" tabindex="-1">Browser (GitHub)</button></div><div aria-labelledby="tab-2-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-2-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>After modifying the files, do not stage the changes yet (do not <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>
yet).</p>
<p>When you are done editing the files, try <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff
</pre></div>
</div>
<p>You will see (can you identify in there the two added lines?):</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --git a/ingredients.txt b/ingredients.txt</span>
<span class="gh">index 4422a31..ba8854f 100644</span>
<span class="gd">--- a/ingredients.txt</span>
<span class="gi">+++ b/ingredients.txt</span>
<span class="gu">@@ -2,3 +2,4 @@</span>
<span class="w"> </span>* 1 chili
<span class="w"> </span>* 1 lime
<span class="w"> </span>* 2 tsp salt
<span class="gi">+* 1/2 onion</span>
<span class="gh">diff --git a/instructions.txt b/instructions.txt</span>
<span class="gh">index 7811273..2b11074 100644</span>
<span class="gd">--- a/instructions.txt</span>
<span class="gi">+++ b/instructions.txt</span>
<span class="gu">@@ -4,3 +4,4 @@</span>
<span class="w"> </span>* squeeze lime
<span class="w"> </span>* add salt
<span class="w"> </span>* and mix well
<span class="gi">+* enjoy!</span>
</pre></div>
</div>
<p>Now first stage and commit each change separately (what happens when we leave out the <code class="docutils literal notranslate"><span class="pre">-m</span></code> flag?):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>ingredients.txt
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;add half an onion&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>instructions.txt
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w">                   </span><span class="c1"># &lt;-- we have left out -m &quot;...&quot;</span>
</pre></div>
</div>
<p>When you leave out the <code class="docutils literal notranslate"><span class="pre">-m</span></code> flag, Git should open an editor where you can edit
your commit message. This message will be associated and stored with the
changes you made. This message is your chance to explain what you’ve done and
convince others (and your future self) that the changes you made were
justified.  Write a message and save and close the file.</p>
<p>When you are done committing the changes, experiment with these commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log
<span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--stat
<span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
</pre></div>
</div>
</div><div aria-labelledby="tab-2-QnJvd3NlciAoR2l0SHViKQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tabpanel" tabindex="0"><p>We can make modifications to a file by clicking on the file and then the
pen symbol:</p>
<figure class="align-default" id="id8">
<a class="with-border reference internal image-reference" href="_images/pen-symbol.png"><img alt="Screenshot on GitHub before clicking on the pen symbol" class="with-border" src="_images/pen-symbol.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">By clicking on the pen symbol we can switch to edit mode.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id9">
<a class="with-border reference internal image-reference" href="_images/preview.png"><img alt="Screenshot on GitHub when previewing file changes" class="with-border" src="_images/preview.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Before committing the change, click on “Preview”.</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Our goal is to arrive at two new commits:</p>
<ul class="simple">
<li><p>“add half an onion” (modifying <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code>)</p></li>
<li><p>“don’t forget to enjoy” (modifying <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code>)</p></li>
</ul>
<p>When you are done committing the changes, try to browse commit history
on GitHub.</p>
</div></div>
</div>
</section>
<section id="git-history-and-log">
<h3>Git history and log<a class="headerlink" href="#git-history-and-log" title="Link to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-3-QnJvd3NlciAoR2l0SHViKQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tab" tabindex="-1">Browser (GitHub)</button></div><div aria-labelledby="tab-3-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-3-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p>If you haven’t yet, please try now <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log

<span class="go">commit e7cf023efe382340e5284c278c6ae2c087dd3ff7 (HEAD -&gt; main)</span>
<span class="go">Author: Radovan Bast &lt;bast@users.noreply.github.com&gt;</span>
<span class="go">Date:   Sun Sep 17 19:12:47 2023 +0200</span>

<span class="go">    don&#39;t forget to enjoy</span>

<span class="go">commit 79161b6e67c62ad4688a58c1e54183334611a390</span>
<span class="go">Author: Radovan Bast &lt;bast@users.noreply.github.com&gt;</span>
<span class="go">Date:   Sun Sep 17 19:12:32 2023 +0200</span>

<span class="go">    add half an onion</span>

<span class="go">commit a3394e39535343c4dae3bb4f703741a31aa8b78a</span>
<span class="go">Author: Radovan Bast &lt;bast@users.noreply.github.com&gt;</span>
<span class="go">Date:   Sun Sep 17 18:47:14 2023 +0200</span>

<span class="go">    adding README</span>

<span class="go">commit 369624674e63de48055a65bf63055bd59c985d22</span>
<span class="go">Author: Radovan Bast &lt;bast@users.noreply.github.com&gt;</span>
<span class="go">Date:   Sun Sep 17 18:46:58 2023 +0200</span>

<span class="go">    adding instructions</span>

<span class="go">commit f146d25b94569a15e94d7f0da6f15d7554f76c49</span>
<span class="go">Author: Radovan Bast &lt;bast@users.noreply.github.com&gt;</span>
<span class="go">Date:   Sun Sep 17 18:35:52 2023 +0200</span>

<span class="go">    adding ingredients</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-QnJvd3NlciAoR2l0SHViKQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tabpanel" tabindex="0"><figure class="align-default" id="id10">
<a class="with-border reference internal image-reference" href="_images/commits.png"><img alt="Screenshot on GitHub before clicking on commit history" class="with-border" src="_images/commits.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Click on the history symbol with (here) 5 commits.</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id11">
<a class="with-border reference internal image-reference" href="_images/history.png"><img alt="Screenshot of GitHub repository commit history" class="with-border" src="_images/history.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">In this overview you can browse each commit individually.</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>On GitHub you can also compare arbitrary two commits (replace “USER”,
“HASH1”, and “HASH2”):
<code class="docutils literal notranslate"><span class="pre">https://github.com/USER/recipe/compare/HASH1..HASH2</span></code></p>
<p>Try it with two of your commits.</p>
</div></div>
<ul class="simple">
<li><p>We can browse the development and access each state that we have committed.</p></li>
<li><p>The long hashes uniquely label a state of the code.</p></li>
<li><p>They are not just integers counting 1, 2, 3, 4, … (why?).</p></li>
<li><p>Output is in reverse chronological order, i.e. <strong>newest commits on top</strong>.</p></li>
<li><p>We will use them when comparing versions and when going back in time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span></code> only shows the first 7 characters of the commit hash and is good to get an overview.</p></li>
<li><p>If the first characters of the hash are unique it is not necessary to type the entire hash.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--stat</span></code> is nice to show which files have been modified.</p></li>
</ul>
</section>
<section id="optional-exercises-comparing-changes">
<span id="exercise-diff-and-rename"></span><h3>Optional exercises: Comparing changes<a class="headerlink" href="#optional-exercises-comparing-changes" title="Link to this heading"></a></h3>
<div class="admonition-optional-basic-2-comparing-and-showing-commits exercise important admonition" id="exercise-1">
<p class="admonition-title">(optional) Basic-2: Comparing and showing commits</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-Q29tbWFuZCBsaW5l" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="0">Command line</button><button aria-controls="panel-4-QnJvd3NlciAoR2l0SHViKQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tab" tabindex="-1">Browser (GitHub)</button></div><div aria-labelledby="tab-4-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" id="panel-4-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Have a look at specific commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span> <span class="pre">HASH</span></code>.</p></li>
<li><p>Inspect differences between commit hashes with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">HASH1</span> <span class="pre">HASH2</span></code>.</p></li>
</ol>
</div><div aria-labelledby="tab-4-QnJvd3NlciAoR2l0SHViKQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-QnJvd3NlciAoR2l0SHViKQ==" name="QnJvd3NlciAoR2l0SHViKQ==" role="tabpanel" tabindex="0"><ol class="arabic simple">
<li><p>Have a look at specific commits.</p></li>
<li><p>Inspect differences between commits.</p></li>
</ol>
<p>Use the screenshots under “Git history and log”.</p>
</div></div>
</div>
<div class="admonition-optional-basic-3-visual-diff-tools exercise important admonition" id="exercise-2">
<p class="admonition-title">(optional) Basic-3: Visual diff tools</p>
<p>This exercise is only relevant for the command line. In the browser,
the preview is already side-by-side and “visual”.</p>
<ul class="simple">
<li><p>Make further modifications and experiment with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">difftool</span></code> (requires installing one of the <a class="reference external" href="https://coderefinery.github.io/installation/difftools/">visual diff tools</a>):</p></li>
</ul>
<p>On Windows or Linux:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>difftool<span class="w"> </span>--tool<span class="o">=</span>meld<span class="w"> </span>HASH
</pre></div>
</div>
<p>On macOS:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>difftool<span class="w"> </span>--tool<span class="o">=</span>opendiff<span class="w"> </span>HASH
</pre></div>
</div>
<figure class="align-default" id="id12">
<a class="reference internal image-reference" href="_images/meld.png"><img alt="Git difftool using meld" src="_images/meld.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Git difftool using meld.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>You probably want to use the same visual diff tool every time and
you can configure Git for that:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>diff.tool<span class="w"> </span>meld
</pre></div>
</div>
</div>
<div class="admonition-optional-basic-4-browser-and-command-line exercise important admonition" id="exercise-3">
<p class="admonition-title">(optional) Basic-4: Browser and command line</p>
<p>You have noticed that it is possible to work either in the command
line or in the browser. It could help to deepen the understanding
trying to do the above steps in both.</p>
<ul class="simple">
<li><p>If you have managed to do the above in the command line, try now in the browser.</p></li>
<li><p>If you got stuck in the command line and move to the browser, try now to trouble-shoot the command line Git.</p></li>
</ul>
</div>
</section>
<section id="writing-useful-commit-messages">
<h3>Writing useful commit messages<a class="headerlink" href="#writing-useful-commit-messages" title="Link to this heading"></a></h3>
<p>Using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span></code> or browsing a repository on the web, we better
understand that the first line of the commit message is very important.</p>
<p>Good example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>increase threshold alpha to 2.0

the motivation for this change is
to enable ...
...
this is based on a discussion in #123
</pre></div>
</div>
<p>Convention: <strong>one line summarizing the commit, then one empty line,
then paragraph(s) with more details in free form, if necessary</strong>.</p>
<ul class="simple">
<li><p><strong>Why something was changed is more important than what has changed.</strong></p></li>
<li><p>Cross-reference to issues and discussions if possible/relevant.</p></li>
<li><p>Bad commit messages: “fix”, “oops”, “save work”</p></li>
<li><p>Bad examples: <a class="reference external" href="http://whatthecommit.com">http://whatthecommit.com</a></p></li>
<li><p>Write commit messages in English that will be understood
15 years from now by someone else than you. Or by your future you.</p></li>
<li><p>Many projects start out as projects “just for me” and end up to be successful projects
that are developed by 50 people over decades.</p></li>
<li><p><a class="reference external" href="https://help.github.com/articles/creating-a-commit-with-multiple-authors/">Commits with multiple authors</a> are possible.</p></li>
</ul>
<p>Good references:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://fatbusinessman.com/2019/my-favourite-git-commit">“My favourite Git commit”</a></p></li>
<li><p><a class="reference external" href="https://who-t.blogspot.com/2009/12/on-commit-messages.html">“On commit messages”</a></p></li>
<li><p><a class="reference external" href="https://chris.beams.io/posts/git-commit/">“How to Write a Git Commit Message”</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A great way to learn how to write commit messages and to get inspired by their
style choices: <strong>browse repositories of codes that you use/like</strong>:</p>
<p>Some examples (but there are so many good examples):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/scipy/scipy/commits/main">SciPy</a></p></li>
<li><p><a class="reference external" href="https://github.com/numpy/numpy/commits/main">NumPy</a></p></li>
<li><p><a class="reference external" href="https://github.com/pandas-dev/pandas/commits/main">Pandas</a></p></li>
<li><p><a class="reference external" href="https://github.com/JuliaLang/julia/commits/master">Julia</a></p></li>
<li><p><a class="reference external" href="https://github.com/tidyverse/ggplot2/commits/main">ggplot2</a>,
compare with their <a class="reference external" href="https://github.com/tidyverse/ggplot2/releases">release
notes</a></p></li>
<li><p><a class="reference external" href="https://github.com/pallets/flask/commits/main">Flask</a>,
compare with their <a class="reference external" href="https://github.com/pallets/flask/blob/main/CHANGES.rst">release
notes</a></p></li>
</ul>
<p>When designing commit message styles consider also these:</p>
<ul class="simple">
<li><p>How will you easily generate a changelog or release notes?</p></li>
<li><p>During code review, you can help each other improving commit messages.</p></li>
</ul>
</div>
<p>But remember: it is better to make any commit, than no commit. Especially in small projects.
<strong>Let not the perfect be the enemy of the good enough</strong>.</p>
</section>
<section id="ignoring-files-and-paths-with-gitignore">
<h3>Ignoring files and paths with .gitignore<a class="headerlink" href="#ignoring-files-and-paths-with-gitignore" title="Link to this heading"></a></h3>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Should we add and track all files in a project?</p></li>
<li><p>How about generated files?</p></li>
<li><p>Why is it considered a bad idea to commit compiled binaries to version control?</p></li>
<li><p>What types of generated files do you know?</p></li>
</ul>
</div>
<p>Compiled and generated files are not
committed to version control. There are many reasons for this:</p>
<ul class="simple">
<li><p>These files can make it more difficult to run on different platforms.</p></li>
<li><p>These files are automatically generated and thus do not contribute in any meaningful way.</p></li>
<li><p>When tracking generated files you could see differences in the code although you haven’t touched the code.</p></li>
</ul>
<p>For this we use <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> files. Example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># ignore compiled python 2 files</span>
*.pyc
<span class="c1"># ignore compiled python 3 files</span>
__pycache__
</pre></div>
</div>
<p>An example taken from the <a class="reference external" href="https://git-scm.com/docs/gitignore">official Git documentation</a>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># ignore objects and archives, anywhere in the tree.</span>
*.<span class="o">[</span>oa<span class="o">]</span>
<span class="c1"># ignore generated html files,</span>
*.html
<span class="c1"># except foo.html which is maintained by hand</span>
!foo.html
<span class="c1"># ignore everything under build directory</span>
build/
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> should be part of the repository because we want to make sure that all developers see the same behavior.</p></li>
<li><p><strong>All files should be either tracked or ignored</strong>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> uses something called a
<a class="reference external" href="https://en.wikipedia.org/wiki/Glob_(programming)">shell glob syntax</a> for
determining file patterns to ignore. You can read more about the syntax in the
<a class="reference external" href="https://git-scm.com/docs/gitignore">documentation</a>.</p></li>
<li><p>You can have <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> files in lower level directories and they affect the paths below.</p></li>
</ul>
</section>
<section id="graphical-user-interfaces">
<h3>Graphical user interfaces<a class="headerlink" href="#graphical-user-interfaces" title="Link to this heading"></a></h3>
<p>We have seen how to make commits in the command line and via the GitHub website.
But it is also possible to work from within a Git graphical user interface (GUI):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://desktop.github.com">GitHub Desktop</a></p></li>
<li><p><a class="reference external" href="https://www.sourcetreeapp.com">SourceTree</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/downloads/guis">List of third-party GUIs</a></p></li>
</ul>
</section>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<p>Now we know how to save snapshots:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>FILE<span class="o">(</span>S<span class="o">)</span>
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
<p>And this is what we do as we program.</p>
<p>Every state is then saved and later we will learn how to go back to these “checkpoints”
and how to undo things.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>init<span class="w"> </span>-b<span class="w"> </span>main<span class="w">  </span><span class="c1"># initialize new repository (main is default branch)</span>
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w">           </span><span class="c1"># add files or stage file(s)</span>
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w">        </span><span class="c1"># commit staged file(s)</span>
<span class="gp">$ </span>git<span class="w"> </span>status<span class="w">        </span><span class="c1"># see what is going on</span>
<span class="gp">$ </span>git<span class="w"> </span>log<span class="w">           </span><span class="c1"># see history</span>
<span class="gp">$ </span>git<span class="w"> </span>diff<span class="w">          </span><span class="c1"># show unstaged/uncommitted modifications</span>
<span class="gp">$ </span>git<span class="w"> </span>show<span class="w">          </span><span class="c1"># show the change for a specific commit</span>
<span class="gp">$ </span>git<span class="w"> </span>mv<span class="w">            </span><span class="c1"># move/rename tracked files</span>
<span class="gp">$ </span>git<span class="w"> </span>rm<span class="w">            </span><span class="c1"># remove tracked files</span>
</pre></div>
</div>
<p>Git is not ideal for large binary files
(for this consider <a class="reference external" href="http://git-annex.branchable.com">git-annex</a>).</p>
<div class="admonition-basic-5-test-your-understanding exercise important admonition" id="exercise-4">
<p class="admonition-title">Basic-5: Test your understanding</p>
<p>Which command(s) below would save the changes of <code class="docutils literal notranslate"><span class="pre">myfile.txt</span></code>
to an existing local Git repository?</p>
<ol class="arabic">
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;my recent changes&quot;</span>
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>init<span class="w"> </span>myfile.txt
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;my recent changes&quot;</span>
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>myfile.txt
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;my recent changes&quot;</span>
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span>myfile.txt<span class="w"> </span><span class="s2">&quot;my recent changes&quot;</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p>Would only create a commit if files have already been staged.</p></li>
<li><p>Would try to create a new repository in a folder “myfile.txt”.</p></li>
<li><p><strong>Is correct: first add the file to the staging area, then commit.</strong></p></li>
<li><p>Would try to commit a file “my recent changes” with the message myfile.txt.</p></li>
</ol>
</div>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>It takes only one command to initialize a Git repository: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">-b</span> <span class="pre">main</span></code>.</p></li>
<li><p>Commits should be used to tell a story.</p></li>
<li><p>Git uses the .git folder to store the snapshots.</p></li>
<li><p>Don’t be afraid to stage and commit often. Better too often than not often enough.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-branches"></span><section id="branching-and-merging">
<h2>Branching and merging<a class="headerlink" href="#branching-and-merging" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Be able to create and merge branches.</p></li>
<li><p>Know the difference between a branch and a tag.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>30 min teaching/type-along</p></li>
<li><p>20 min exercise</p></li>
</ul>
</div>
<section id="motivation-for-branches">
<h3>Motivation for branches<a class="headerlink" href="#motivation-for-branches" title="Link to this heading"></a></h3>
<p>In the previous section we tracked a guacamole recipe with Git.</p>
<p>Up until now our repository had only one branch with one commit coming
after the other:</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/git-branch-1.svg"><img alt="Linear Git repository" src="_images/git-branch-1.svg" style="width: 40%;" />
</a>
<figcaption>
<p><span class="caption-text">Linear Git repository.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Commits are depicted here as little boxes with abbreviated hashes.</p></li>
<li><p>Here the branch <code class="docutils literal notranslate"><span class="pre">main</span></code> points to a commit.</p></li>
<li><p>“HEAD” is the current position (remember the recording head of tape
recorders?). When we say <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, we mean those literal letters -
this isn’t a placeholder for something else.</p></li>
<li><p>When we talk about branches, we often mean all parent commits, not only the commit pointed to.</p></li>
</ul>
<p><strong>Now we want to do this:</strong></p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/gophers.png"><img alt="Branching explained with a gopher" src="_images/gophers.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Image created using <a class="reference external" href="https://gopherize.me/">https://gopherize.me/</a>
(<a class="reference external" href="https://twitter.com/jay_gee/status/703360688618536960">inspiration</a>).</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Software development is often not linear:</p>
<ul class="simple">
<li><p>We typically need at least one version of the code to “work” (to compile, to give expected results, …).</p></li>
<li><p>At the same time we work on new features, often several features concurrently.
Often they are unfinished.</p></li>
<li><p>We need to be able to separate different lines of work really well.</p></li>
</ul>
<p>The strength of version control is that it permits the researcher to <strong>isolate
different tracks of work</strong>, which can later be merged to create a composite
version that contains all changes:</p>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/git-collaborative.svg"><img alt="Isolated tracks of work" src="_images/git-collaborative.svg" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Isolated tracks of work.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>We see branching points and merging points.</p></li>
<li><p>Main line development is often called <code class="docutils literal notranslate"><span class="pre">main</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p></li>
<li><p>Other than this convention there is nothing special about <code class="docutils literal notranslate"><span class="pre">main</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>, it is a branch like any other.</p></li>
<li><p>Commits form a directed acyclic graph (we have left out the arrows to avoid confusion about the time arrow).</p></li>
</ul>
<p>A group of commits that create a single narrative are called a <strong>branch</strong>.
There are different branching strategies, but it is useful to think that a branch
tells the story of a feature, e.g. “fast sequence extraction” or “Python interface” or “fixing bug in
matrix inversion algorithm”.</p>
<div class="important admonition">
<p class="admonition-title"><strong>An important alias</strong></p>
<p>We will now define an <em>alias</em> in Git, to be able to nicely visualize branch
structure in the terminal without having to remember a long Git command
(more details about aliases are given
in a later section).  <strong>This is extensively used in the rest of this
and other lessons</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.graph<span class="w"> </span><span class="s2">&quot;log --all --graph --decorate --oneline&quot;</span>
</pre></div>
</div>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<p>Instructors, please demonstrate how to set this alias and ensure that
all create it. This is very important for this lesson and
git-collaborative.</p>
</div>
<p>Let us inspect the project history using the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> alias:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph

<span class="go">* e7cf023 (HEAD -&gt; main) don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<ul class="simple">
<li><p>We have a couple commits and only
one development line (branch) and this branch is called <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Commits are states characterized by a 40-character hash (checksum).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> print abbreviations of these checksums.</p></li>
<li><p><strong>Branches are pointers that point to a commit.</strong></p></li>
<li><p>Branch <code class="docutils literal notranslate"><span class="pre">main</span></code> points to a commit (in this example it is <code class="docutils literal notranslate"><span class="pre">e7cf023efe382340e5284c278c6ae2c087dd3ff7</span></code> but on your computer
the hash will be different).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEAD</span></code> is another pointer, it points to where we are right now (currently <code class="docutils literal notranslate"><span class="pre">main</span></code>)</p></li>
</ul>
<p>In the following we will learn how to create branches,
how to switch between them, how to merge branches,
and how to remove them afterwards.</p>
</section>
<section id="creating-and-working-with-branches">
<h3>Creating and working with branches<a class="headerlink" href="#creating-and-working-with-branches" title="Link to this heading"></a></h3>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-2">
<p class="admonition-title">Instructor note</p>
<p>We do the following part together. Encourage participants to type along.</p>
</div>
<div class="admonition-it-is-possible-to-create-and-merge-branches-directly-on-github admonition">
<p class="admonition-title">It is possible to create and merge branches directly on GitHub</p>
<ul class="simple">
<li><p>However, we do not have screenshots for that in this episode</p></li>
<li><p>But if you prefer to work in the browser, please try it</p></li>
<li><p>Please contribute screenshots to this lesson</p></li>
</ul>
</div>
<p>Let’s create a branch called <code class="docutils literal notranslate"><span class="pre">experiment</span></code> where we add cilantro to <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code>
(text after “#” are comments and not part of the command).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>experiment<span class="w"> </span>main<span class="w">  </span><span class="c1"># creates branch &quot;experiment&quot; from &quot;main&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>experiment<span class="w">       </span><span class="c1"># switch to branch &quot;experiment&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w">                  </span><span class="c1"># list all local branches and show on which branch we are</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span></code> does not work, your Git version might be older than from 2019.
On older Git it is <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span></code>.</p>
</div>
<ul>
<li><p>Verify that you are on the <code class="docutils literal notranslate"><span class="pre">experiment</span></code> branch (note that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> also
makes it clear what branch you are on: <code class="docutils literal notranslate"><span class="pre">HEAD</span> <span class="pre">-&gt;</span> <span class="pre">branchname</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">* experiment</span>
<span class="go">  main</span>
</pre></div>
</div>
<p>This command shows where we are, it does not create a branch.</p>
</li>
<li><p>Then add 2 tbsp cilantro <strong>on top</strong> of the <code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="hll">*<span class="w"> </span><span class="m">2</span><span class="w"> </span>tbsp<span class="w"> </span>cilantro
</span>*<span class="w"> </span><span class="m">2</span><span class="w"> </span>avocados
*<span class="w"> </span><span class="m">1</span><span class="w"> </span>chili
*<span class="w"> </span><span class="m">1</span><span class="w"> </span>lime
*<span class="w"> </span><span class="m">2</span><span class="w"> </span>tsp<span class="w"> </span>salt
*<span class="w"> </span><span class="m">1</span>/2<span class="w"> </span>onion
</pre></div>
</div>
</li>
<li><p>Stage this and commit it with the message “let us try with some cilantro”.</p></li>
<li><p>Then reduce the amount of cilantro to 1 tbsp, stage and commit again with “maybe little bit less cilantro”.</p></li>
</ul>
<p>We have created <strong>two new commits</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph

<span class="hll"><span class="go">* bcb8b78 (HEAD -&gt; experiment) maybe little bit less cilantro</span>
</span><span class="hll"><span class="go">* f6ec7b7 let us try with some cilantro</span>
</span><span class="go">* e7cf023 (main) don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The branch <code class="docutils literal notranslate"><span class="pre">experiment</span></code> is two commits ahead of <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>We commit our changes to this branch.</p></li>
</ul>
</section>
<section id="exercise-create-and-commit-to-branches">
<span id="exercise-branches"></span><h3>Exercise: Create and commit to branches<a class="headerlink" href="#exercise-create-and-commit-to-branches" title="Link to this heading"></a></h3>
<div class="admonition-branch-1-create-and-commit-to-branches exercise important admonition" id="exercise-0">
<p class="admonition-title">Branch-1: Create and commit to branches</p>
<p>In this exercise, you will create another new branch and few more commits.
We will use this in the next section, to practice
merging. <strong>The goal of the exercise is to end up with 3 branches</strong>.</p>
<ul>
<li><p>Change to the branch <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Create another branch called <code class="docutils literal notranslate"><span class="pre">less-salt</span></code>.</p>
<ul>
<li><p>Note! makes sure you are on main branch when you create the <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> branch.</p></li>
<li><p>A safer way would be to explicitly mention to create from the main branch
as shown below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>less-salt<span class="w"> </span>main
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Switch to the <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> branch.</p></li>
<li><p>On the <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> branch reduce the amount of salt.</p></li>
<li><p>Commit your changes to the <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> branch.</p></li>
</ul>
<p>Use the same commands as we used above.</p>
<p>We now have three branches (in this case <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> points to <code class="docutils literal notranslate"><span class="pre">less-salt</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">  experiment</span>
<span class="go">* less-salt</span>
<span class="go">  main</span>

<span class="gp">$ </span>git<span class="w"> </span>graph

<span class="go">* bf28166 (HEAD -&gt; less-salt) reduce amount of salt</span>
<span class="go">| * bcb8b78 (experiment) maybe little bit less cilantro</span>
<span class="go">| * f6ec7b7 let us try with some cilantro</span>
<span class="go">|/</span>
<span class="go">* e7cf023 (main) don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<p>Here is a graphical representation of what we have created:</p>
<figure class="align-default">
<img alt="_images/git-branch-2.svg" src="_images/git-branch-2.svg" />
</figure>
<ul>
<li><p>Now switch to <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>In a new commit, improve the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file (we added the word “Guacamole”):</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Guacamole recipe</span>

This is an exercise repository.
</pre></div>
</div>
</li>
</ul>
<p>Now you should have this situation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph

<span class="go">* b4af65b (HEAD -&gt; main) improve the documentation</span>
<span class="go">| * bf28166 (less-salt) reduce amount of salt</span>
<span class="go">|/</span>
<span class="go">| * bcb8b78 (experiment) maybe little bit less cilantro</span>
<span class="go">| * f6ec7b7 let us try with some cilantro</span>
<span class="go">|/</span>
<span class="go">* e7cf023 don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/git-branch-3.svg" src="_images/git-branch-3.svg" />
</figure>
<p>And for comparison this is how it looks <a class="reference external" href="https://github.com/coderefinery/recipe-before-merge/network">on GitHub</a>.</p>
</div>
</section>
<section id="exercise-merging-branches">
<span id="exercise-branches-merging"></span><h3>Exercise: Merging branches<a class="headerlink" href="#exercise-merging-branches" title="Link to this heading"></a></h3>
<p>It turned out that our experiment with cilantro was a good idea.
Our goal now is to merge <code class="docutils literal notranslate"><span class="pre">experiment</span></code> into <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
<div class="admonition-branch-2-merge-branches exercise important admonition" id="exercise-1">
<p class="admonition-title">Branch-2: Merge branches</p>
<p>Merge <code class="docutils literal notranslate"><span class="pre">experiment</span></code> and <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> back into <code class="docutils literal notranslate"><span class="pre">main</span></code> following the lesson below
until the point where we start deleting branches.</p>
</div>
<div class="admonition-if-you-got-stuck-in-the-above-exercises-or-joined-later admonition">
<p class="admonition-title">If you got stuck in the above exercises or joined later</p>
<p><strong>If you got stuck in the above exercises or joined later</strong>,
you can apply the commands below.
But <strong>skip this box if you managed to create branches</strong>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>..<span class="w">  </span><span class="c1"># step out of the current directory</span>

<span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/coderefinery/recipe-before-merge.git
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>recipe-before-merge

<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>experiment
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>less-salt
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main

<span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>remove<span class="w"> </span>origin

<span class="gp">$ </span>git<span class="w"> </span>graph
</pre></div>
</div>
<p>Or call a helper to un-stuck it for you.</p>
</div>
<p>First we make sure we are on the branch we wish to merge <strong>into</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">  experiment</span>
<span class="go">  less-salt</span>
<span class="hll"><span class="go">* main</span>
</span></pre></div>
</div>
<p>Then we merge <code class="docutils literal notranslate"><span class="pre">experiment</span></code> into <code class="docutils literal notranslate"><span class="pre">main</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>experiment
</pre></div>
</div>
<figure class="align-default">
<img alt="_images/git-merge-1.svg" src="_images/git-merge-1.svg" />
</figure>
<p>We can verify the result:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph

<span class="go">*   81fcc0c (HEAD -&gt; main) Merge branch &#39;experiment&#39;</span>
<span class="go">|\</span>
<span class="go">| * bcb8b78 (experiment) maybe little bit less cilantro</span>
<span class="go">| * f6ec7b7 let us try with some cilantro</span>
<span class="go">* | b4af65b improve the documentation</span>
<span class="go">|/</span>
<span class="go">| * bf28166 (less-salt) reduce amount of salt</span>
<span class="go">|/</span>
<span class="go">* e7cf023 don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<p>What happens internally when you merge two branches is that Git creates a new
commit, attempts to incorporate changes from both branches and records the
state of all files in the new commit. While a regular commit has one parent, a
merge commit has two (or more) parents.</p>
<p>To view the branches that are merged into the current branch we can use the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>--merged

<span class="go">  experiment</span>
<span class="go">* main</span>
</pre></div>
</div>
<p>We are also happy with the work on the <code class="docutils literal notranslate"><span class="pre">less-salt</span></code> branch. Let us merge that
one, too, into <code class="docutils literal notranslate"><span class="pre">main</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w">  </span><span class="c1"># make sure you are on main</span>
<span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>less-salt
</pre></div>
</div>
<figure class="align-default" id="id4">
<img alt="Commit graph after merge" src="_images/git-merge-2.svg" />
<figcaption>
<p><span class="caption-text">Commit graph after merge.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We can verify the result in the terminal:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>graph

<span class="go">*   4e03d4b (HEAD -&gt; main) Merge branch &#39;less-salt&#39;</span>
<span class="go">|\</span>
<span class="go">| * bf28166 (less-salt) reduce amount of salt</span>
<span class="go">* |   81fcc0c Merge branch &#39;experiment&#39;</span>
<span class="go">|\ \</span>
<span class="go">| * | bcb8b78 (experiment) maybe little bit less cilantro</span>
<span class="go">| * | f6ec7b7 let us try with some cilantro</span>
<span class="go">| |/</span>
<span class="go">* / b4af65b improve the documentation</span>
<span class="go">|/</span>
<span class="go">* e7cf023 don&#39;t forget to enjoy</span>
<span class="go">* 79161b6 add half an onion</span>
<span class="go">* a3394e3 adding README</span>
<span class="go">* 3696246 adding instructions</span>
<span class="go">* f146d25 adding ingredients</span>
</pre></div>
</div>
<p>Observe how Git nicely merged the changed amount of salt and the new ingredient <strong>in the same file
without us merging it manually</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>ingredients.txt

<span class="go">* 1 tbsp cilantro</span>
<span class="go">* 2 avocados</span>
<span class="go">* 1 chili</span>
<span class="go">* 1 lime</span>
<span class="go">* 1 tsp salt</span>
<span class="go">* 1/2 onion</span>
</pre></div>
</div>
<p>If the same file is changed in both branches, Git attempts to incorporate both
changes into the merged file. If the changes overlap then the user has to
manually <em>settle merge conflicts</em> (we will do that later).</p>
</section>
<section id="deleting-branches-safely">
<h3>Deleting branches safely<a class="headerlink" href="#deleting-branches-safely" title="Link to this heading"></a></h3>
<p>Both feature branches are merged:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>--merged

<span class="go">  experiment</span>
<span class="go">  less-salt</span>
<span class="go">* main</span>
</pre></div>
</div>
<p>This means we can delete the branches:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>experiment
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>less-salt
</pre></div>
</div>
<p>This is the result:</p>
<figure class="align-default" id="id5">
<img alt="Commit graph after merged branches were deleted" src="_images/git-deleted-branches.svg" />
<figcaption>
<p><span class="caption-text">Commit graph after merged branches were deleted.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We observe that when deleting branches,
only the pointers (“sticky notes”) disappeared, not the commits.</p>
<p>Git will not let you delete a branch which has not been reintegrated unless you
insist using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-D</span></code>. Even then your commits will not be lost but you
may have a hard time finding them as there is no branch pointing to them.</p>
</section>
<section id="optional-exercises-with-branches">
<span id="exercise-branches-optional"></span><h3>Optional exercises with branches<a class="headerlink" href="#optional-exercises-with-branches" title="Link to this heading"></a></h3>
<p>The following exercises are more advanced, absolutely no problem to postpone them to a
few months later. If you give them a go, keep in mind that you might run into conflicts,
which we will learn to resolve in the next section.</p>
<div class="admonition-optional-branch-3-perform-a-fast-forward-merge exercise important admonition" id="exercise-2">
<p class="admonition-title">(optional) Branch-3: Perform a fast-forward merge</p>
<ol class="arabic">
<li><p>Create a new branch from <code class="docutils literal notranslate"><span class="pre">main</span></code> and switch to it.</p></li>
<li><p>Create a couple of commits on the new branch (for instance edit <code class="docutils literal notranslate"><span class="pre">README.md</span></code>):</p>
<figure class="align-default">
<img alt="_images/git-pre-ff.svg" src="_images/git-pre-ff.svg" />
</figure>
</li>
<li><p>Now switch to <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Merge the new branch to <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p></li>
<li><p>Examine the result with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>.</p></li>
<li><p>Have you expected the result? Discuss what you see.</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<p>You will see that in this case no merge commit was created and Git merged the
two branches by moving (fast-forwarding) the “main” branch (label) three
commits forward.</p>
<p>This was possible since one branch is the ancestor of the other and their
developments did not diverge.</p>
<p>A merge that does not require any merge commit is a fast-forward merge.</p>
</div>
</div>
<div class="admonition-optional-branch-4-rebase-a-branch-instead-of-merge exercise important admonition" id="exercise-3">
<p class="admonition-title">(optional) Branch-4: Rebase a branch (instead of merge)</p>
<p>As an alternative to merging branches, one can also <em>rebase</em> branches.
Rebasing means that the new commits are <em>replayed</em> on top of another branch
(instead of creating an explicit merge commit).
<strong>Note that rebasing changes history and should not be done on public commits!</strong></p>
<ol class="arabic simple">
<li><p>Create a new branch, and make a couple of commits on it.</p></li>
<li><p>Switch back to <code class="docutils literal notranslate"><span class="pre">main</span></code>, and make a couple of commits on it.</p></li>
<li><p>Inspect the situation with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>.</p></li>
<li><p>Now rebase the new branch on top of <code class="docutils literal notranslate"><span class="pre">main</span></code> by first switching to the new branch, and then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">main</span></code>.</p></li>
<li><p>Inspect again the situation with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>. Notice that the commit hashes have changed - think about why!</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-1">
<p class="admonition-title">Solution</p>
<p>You will notice two things:</p>
<ul class="simple">
<li><p>History is now linear and does not contain merge commits.</p></li>
<li><p>All the commit hashes that were on the branch that got rebased, have
changed. This also demonstrates that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code> is a command that alters
history. The commit history looks as if the rebased commits were all done
after the <code class="docutils literal notranslate"><span class="pre">main</span></code> commits.</p></li>
</ul>
</div>
</div>
</section>
<section id="tags">
<h3>Tags<a class="headerlink" href="#tags" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>A tag is a pointer to a commit but in contrast to a branch it <strong>does not ever
move</strong> when creating new commits later.</p></li>
<li><p>It can be useful to think of branches as sticky notes and of tags as
<a class="reference external" href="https://en.wikipedia.org/wiki/Commemorative_plaque">commemorative plaques</a>.</p></li>
<li><p>We use tags to record particular states or milestones of a project at a given
point in time, like for instance versions (have a look at <a class="reference external" href="http://semver.org">semantic versioning</a>,
v1.0.3 is easier to understand and remember than 64441c1934def7d91ff0b66af0795749d5f1954a).</p></li>
<li><p>There are two basic types of tags: annotated and lightweight.</p></li>
<li><p><strong>Use annotated tags</strong> since they contain the author and can be cryptographically signed using
GPG, timestamped, and a message attached.</p></li>
</ul>
<p>Let’s add an annotated tag to our current state of the guacamole recipe:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span>nobel-2023<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;recipe I made for the 2023 Nobel banquet&quot;</span>
</pre></div>
</div>
<p>As you may have found out already, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> is a very versatile command. Try this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>show<span class="w"> </span>nobel-2023
</pre></div>
</div>
<p>For more information about tags see for example
<a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">the Pro Git book</a> chapter on the
subject.</p>
</section>
<hr class="docutils" />
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<p>Let us pause for a moment and recapitulate what we have just learned:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w">               </span><span class="c1"># see where we are</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>NAME<span class="w">          </span><span class="c1"># create branch NAME</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>NAME<span class="w">          </span><span class="c1"># switch to branch NAME</span>
<span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>NAME<span class="w">           </span><span class="c1"># merge branch NAME (to current branch)</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>NAME<span class="w">       </span><span class="c1"># delete branch NAME</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-D<span class="w"> </span>NAME<span class="w">       </span><span class="c1"># delete unmerged branch NAME</span>
</pre></div>
</div>
<p>Since the following command combo is so frequent:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>NAME<span class="w">          </span><span class="c1"># create branch NAME</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>NAME<span class="w">          </span><span class="c1"># switch to branch NAME</span>
</pre></div>
</div>
<p>There is a shortcut for it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>NAME<span class="w">  </span><span class="c1"># create branch NAME and switch to it</span>
</pre></div>
</div>
<section id="typical-workflows">
<h4>Typical workflows<a class="headerlink" href="#typical-workflows" title="Link to this heading"></a></h4>
<p>With this there are two typical workflows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>new-feature<span class="w">  </span><span class="c1"># create branch, switch to it</span>
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w">                       </span><span class="c1"># work, work, work, ..., and test</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main<span class="w">                  </span><span class="c1"># once feature is ready, switch to main</span>
<span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>new-feature<span class="w">            </span><span class="c1"># merge work to main</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>new-feature<span class="w">        </span><span class="c1"># remove branch</span>
</pre></div>
</div>
<p>Sometimes you have a wild idea which does not work.
Or you want some throw-away branch for debugging:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>wild-idea<span class="w">    </span><span class="c1"># create branch, switch to it, work, work, work ...</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main<span class="w">                  </span><span class="c1"># realize it was a bad idea, back to main</span>
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-D<span class="w"> </span>wild-idea<span class="w">          </span><span class="c1"># it is gone, off to a new idea</span>
</pre></div>
</div>
<hr class="docutils" />
<div class="admonition-branch-5-test-your-understanding exercise important admonition" id="exercise-4">
<p class="admonition-title">Branch-5: Test your understanding</p>
<p>Which of the following combos (one or more) creates a new branch and makes a commit to it?</p>
<ol class="arabic">
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>new-branch
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>file.txt
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>file.txt
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>new-branch
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>new-branch
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>new-branch
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>file.txt
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
</li>
<li><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>new-branch
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>file.txt
<span class="gp">$ </span>git<span class="w"> </span>commit
</pre></div>
</div>
</li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-2">
<p class="admonition-title">Solution</p>
<p>Both 2 and 3 would do the job. Note that in 2 we first stage the file, and then create the
branch and commit to it. In 1 we create the branch but do not switch to it, while in 4 we
don’t give the <code class="docutils literal notranslate"><span class="pre">--create</span></code> flag to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span></code> to create the new branch.</p>
</div>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>A branch is a division unit of work, to be merged with other units of work.</p></li>
<li><p>A tag is a pointer to a moment in the history of a project.</p></li>
</ul>
</div>
</section>
</section>
</section>
<span id="document-conflicts"></span><section id="conflict-resolution">
<span id="id1"></span><h2>Conflict resolution<a class="headerlink" href="#conflict-resolution" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Understand merge conflicts sufficiently well to be able to fix them.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>20 min teaching/type-along</p></li>
<li><p>20 min exercise</p></li>
</ul>
</div>
<section id="conflicts-in-git-and-why-they-are-good">
<h3>Conflicts in Git and why they are good<a class="headerlink" href="#conflicts-in-git-and-why-they-are-good" title="Link to this heading"></a></h3>
<p>Imagine we start with the following text file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">tbsp</span> <span class="n">cilantro</span>
<span class="mi">2</span> <span class="n">avocados</span>
<span class="mi">1</span> <span class="n">chili</span>
<span class="mi">1</span> <span class="n">lime</span>
<span class="mi">1</span> <span class="n">tsp</span> <span class="n">salt</span>
<span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="n">onion</span>
</pre></div>
</div>
<p>On branch A somebody modifies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="mi">2</span> <span class="n">tbsp</span> <span class="n">cilantro</span>
</span><span class="mi">2</span> <span class="n">avocados</span>
<span class="mi">1</span> <span class="n">chili</span>
<span class="hll"><span class="mi">2</span> <span class="n">lime</span>
</span><span class="mi">1</span> <span class="n">tsp</span> <span class="n">salt</span>
<span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="n">onion</span>
</pre></div>
</div>
<p>On branch B somebody else modifies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="n">tbsp</span> <span class="n">cilantro</span>
</span><span class="mi">2</span> <span class="n">avocados</span>
<span class="mi">1</span> <span class="n">chili</span>
<span class="mi">1</span> <span class="n">lime</span>
<span class="mi">1</span> <span class="n">tsp</span> <span class="n">salt</span>
<span class="hll"><span class="mi">1</span> <span class="n">onion</span>
</span></pre></div>
</div>
<p>When we try to merge Git will figure out that we 2 limes and an entire onion
but does not know whether to reduce or increase the amount of cilantro:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="hll">?????????????????
</span>2 avocados
1 chili
2 lime
1 tsp salt
1 onion
</pre></div>
</div>
<p>Git is very good at resolving modifications when merging branches and
in most cases a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code> runs smooth and automatic.
Then a merge commit appears (unless fast-forward; see <a class="reference internal" href="#document-branches#exercise-branches-optional"><span class="std std-ref">Optional exercises with branches</span></a>) without you even noticing.</p>
<p>But sometimes the <strong>same portion</strong> of the code/text is modified on two branches
<strong>in two different ways</strong> and Git issues a <strong>conflict</strong>.
Then you need to tell Git which version to keep (<strong>resolve</strong> it).</p>
<p>There are several ways to do that as we will see.</p>
<p>Please remember:</p>
<ul class="simple">
<li><p>It is good that Git conflicts exist: Git will not silently overwrite one of
two differing modifications.</p></li>
<li><p>Conflicts may look scary, but are not that bad after a little bit of
practice. Also they are luckily rare.</p></li>
<li><p>Don’t be afraid of Git because of conflicts. You may not meet some conflicts
using other systems because you simply can’t do the kinds of things you do
in Git.</p></li>
<li><p>You can take human measures to reduce them.</p></li>
</ul>
<hr class="docutils" />
<div class="admonition-the-human-side-of-conflicts discussion important admonition" id="discussion-0">
<p class="admonition-title">The human side of conflicts</p>
<ul class="simple">
<li><p>What does it mean if two people do the same thing in two different ways?</p></li>
<li><p>What if you work on the same file but do two different things in the different sections?</p></li>
<li><p>What if you do something, don’t tell someone from 6 months, and then try to combine it with other people’s work?</p></li>
<li><p>How are conflicts avoided in other work? (Only one person working at once?
Declaring what you are doing before you start, if there is any chance someone
else might do the same thing, helps.)</p></li>
<li><p>Minor conflicts (two people revise spelling) vs semantic (two people rewrite
a function to add two different new features). How did Git solve these in
branching/merging easily?</p></li>
</ul>
</div>
<p>Now we can go to show how Git controls when there is actually a conflict.</p>
</section>
<section id="preparing-a-conflict">
<h3>Preparing a conflict<a class="headerlink" href="#preparing-a-conflict" title="Link to this heading"></a></h3>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<p>We do the following together as type-along/demo.</p>
</div>
<div class="admonition-if-you-got-stuck-previously-or-joined-later admonition">
<p class="admonition-title">If you got stuck previously or joined later</p>
<p><strong>If you got stuck previously or joined later</strong>,
you can apply the commands below.
But <strong>skip this box if you managed to create branches</strong>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>..<span class="w">  </span><span class="c1"># step out of the current directory</span>

<span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/coderefinery/recipe-before-merge.git
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>recipe-before-merge

<span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>remove<span class="w"> </span>origin

<span class="gp">$ </span>git<span class="w"> </span>graph
</pre></div>
</div>
<p>Or call a helper to un-stuck it for you.</p>
</div>
<p>We will make two branches, make two conflicting changes (both increase and
decrease the amount of cilantro), and later we will try to merge them
together.</p>
<ul>
<li><p>Create two branches from <code class="docutils literal notranslate"><span class="pre">main</span></code>: one called <code class="docutils literal notranslate"><span class="pre">like-cilantro</span></code>, one called <code class="docutils literal notranslate"><span class="pre">dislike-cilantro</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>like-cilantro<span class="w"> </span>main
<span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>dislike-cilantro<span class="w"> </span>main
</pre></div>
</div>
</li>
<li><p>On the two branches make <strong>different modifications</strong> to the amount of the <strong>same ingredient</strong>:</p></li>
<li><p>On the branch <code class="docutils literal notranslate"><span class="pre">like-cilantro</span></code> we have the following change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>main<span class="w"> </span>like-cilantro
</pre></div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --git a/ingredients.txt b/ingredients.txt</span>
<span class="gh">index e83294b..6cacd50 100644</span>
<span class="gd">--- a/ingredients.txt</span>
<span class="gi">+++ b/ingredients.txt</span>
<span class="gu">@@ -1,4 +1,4 @@</span>
<span class="gd">-* 1 tbsp cilantro</span>
<span class="gi">+* 2 tbsp cilantro</span>
<span class="w"> </span>* 2 avocados
<span class="w"> </span>* 1 chili
<span class="w"> </span>* 1 lime
</pre></div>
</div>
</li>
<li><p>And on the branch <code class="docutils literal notranslate"><span class="pre">dislike-cilantro</span></code> we have the following change:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>main<span class="w"> </span>dislike-cilantro
</pre></div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --git a/ingredients.txt b/ingredients.txt</span>
<span class="gh">index e83294b..6484462 100644</span>
<span class="gd">--- a/ingredients.txt</span>
<span class="gi">+++ b/ingredients.txt</span>
<span class="gu">@@ -1,4 +1,4 @@</span>
<span class="gd">-* 1 tbsp cilantro</span>
<span class="gi">+* 1/2 tbsp cilantro</span>
<span class="w"> </span>* 2 avocados
<span class="w"> </span>* 1 chili
<span class="w"> </span>* 1 lime
</pre></div>
</div>
</li>
</ul>
</section>
<section id="merging-conflicting-changes">
<h3>Merging conflicting changes<a class="headerlink" href="#merging-conflicting-changes" title="Link to this heading"></a></h3>
<p>What do you expect will happen when we try to merge these two branches into
main?</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span></code> does not work, your Git version might be older than from 2019.
On older Git it is <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span></code>.</p>
</div>
<p>The first merge will work:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main
<span class="gp">$ </span>git<span class="w"> </span>status
<span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>like-cilantro

<span class="go">Updating 4e03d4b..3caa632</span>
<span class="go">Fast-forward</span>
<span class="go"> ingredients.txt | 2 +-</span>
<span class="go"> 1 file changed, 1 insertion(+), 1 deletion(-)</span>
</pre></div>
</div>
<p>But the second will fail:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>dislike-cilantro

<span class="go">Auto-merging ingredients.txt</span>
<span class="go">CONFLICT (content): Merge conflict in ingredients.txt</span>
<span class="go">Automatic merge failed; fix conflicts and then commit the result.</span>
</pre></div>
</div>
<p>Without conflict Git would have automatically created a merge commit,
but since there is a conflict, Git did not commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">You have unmerged paths.</span>
<span class="go">  (fix conflicts and run &quot;git commit&quot;)</span>
<span class="go">  (use &quot;git merge --abort&quot; to abort the merge)</span>

<span class="go">Unmerged paths:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span>
<span class="hll"><span class="go">	both modified:   ingredients.txt</span>
</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>Git won’t decide which to take and we need to decide.  Observe how Git gives
us clear instructions on how to move forward.</p>
<p>Let us inspect the conflicting file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>ingredients.txt

<span class="go">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
<span class="go">* 2 tbsp cilantro</span>
<span class="go">=======</span>
<span class="go">* 1/2 tbsp cilantro</span>
<span class="go">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dislike-cilantro</span>
<span class="go">* 2 avocados</span>
<span class="go">* 1 chili</span>
<span class="go">* 1 lime</span>
<span class="go">* 1 tsp salt</span>
<span class="go">* 1/2 onion</span>
</pre></div>
</div>
<p>Git inserted resolution markers (the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">=======</span></code>).</p>
<p>Try also <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>diff
</pre></div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --cc ingredients.txt</span>
<span class="gh">index 6cacd50,6484462..0000000</span>
<span class="gd">--- a/ingredients.txt</span>
<span class="gi">+++ b/ingredients.txt</span>
<span class="gu">@@@ -1,4 -1,4 +1,10 @@@</span>
<span class="gi">++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
<span class="w"> </span>+* 2 tbsp cilantro
<span class="gi">++=======</span>
<span class="gi">+ * 1/2 tbsp cilantro</span>
<span class="gi">++&gt;&gt;&gt;&gt;&gt;&gt;&gt; dislike-cilantro</span>
<span class="w"> </span> * 2 avocados
<span class="w"> </span> * 1 chili
<span class="w"> </span> * 1 lime
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> now only shows the conflicting part, nothing else.</p>
</section>
<section id="id2">
<h3>Conflict resolution<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span>
<span class="o">*</span> <span class="mi">2</span> <span class="n">tbsp</span> <span class="n">cilantro</span>
<span class="o">=======</span>
<span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="n">tbsp</span> <span class="n">cilantro</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">dislike</span><span class="o">-</span><span class="n">cilantro</span>
</pre></div>
</div>
<p>We have to edit the code/text between the resolution markers.  You
only have to care about what Git shows you: Git stages all files
without conflicts and leaves the files with conflicts unstaged.</p>
<div class="admonition-steps-to-resolve-a-conflict admonition">
<p class="admonition-title">Steps to resolve a conflict</p>
<ul class="simple">
<li><p>Check status with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.</p></li>
<li><p>Decide what you keep (the one, the other, or both or something
else).  Edit the file to do this.</p>
<ul>
<li><p>Remove the resolution markers, if not already done.</p></li>
<li><p>The file(s) should now look exactly how you want them.</p></li>
</ul>
</li>
<li><p>Check status with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.</p></li>
<li><p>Tell Git that you have resolved the conflict with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">ingredients.txt</span></code>
(if you use the Emacs editor with a certain plugin the editor may stage the
change for you after you have removed the conflict markers).</p></li>
<li><p>Verify the result with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>.</p></li>
<li><p>Finally commit the merge with only <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>. Everything is pre-filled.</p></li>
</ul>
</div>
</section>
<section id="exercise-create-and-resolve-a-conflict">
<span id="exercise-conflicts"></span><h3>Exercise: Create and resolve a conflict<a class="headerlink" href="#exercise-create-and-resolve-a-conflict" title="Link to this heading"></a></h3>
<div class="admonition-conflict-1-create-another-conflict-and-resolve exercise important admonition" id="exercise-0">
<p class="admonition-title">Conflict-1: Create another conflict and resolve</p>
<p>In this exercise, we repeat almost exactly what we did above with a
different ingredient.</p>
<ol class="arabic simple">
<li><p>Create two branches before making any modifications.</p></li>
<li><p>Again modify some ingredient on both branches.</p></li>
<li><p>Merge one, merge the other and observe a conflict, resolve the conflict and commit the merge.</p></li>
<li><p>What happens if you apply the same modification on both branches?</p></li>
<li><p>If you create a branch <code class="docutils literal notranslate"><span class="pre">like-avocados</span></code>, commit a change, then from this
branch create another banch <code class="docutils literal notranslate"><span class="pre">dislike-avocados</span></code>, commit again, and try to
merge both branches into <code class="docutils literal notranslate"><span class="pre">main</span></code> you will not see a conflict. Can you
explain, why it is different this time?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<p>4: No conflict in this case if the change is the same.</p>
<p>5: No conflict in this case since in Git history one change happened after the other. The two changes
are related and linked by Git history and one is a Git ancestor of the
other. Git will assume that since we applied one change after the other,
we meant this. There is nothing to resolve.</p>
</div>
</div>
</section>
<section id="optional-exercises-with-conflict-resolution">
<span id="exercise-conflicts-optional"></span><h3>Optional exercises with conflict resolution<a class="headerlink" href="#optional-exercises-with-conflict-resolution" title="Link to this heading"></a></h3>
<div class="admonition-optional-conflict-2-resolve-a-conflict-when-rebasing-a-branch exercise important admonition" id="exercise-1">
<p class="admonition-title">(optional) Conflict-2: Resolve a conflict when rebasing a branch</p>
<ol class="arabic simple">
<li><p>Create two branches where you anticipate a conflict.</p></li>
<li><p>Try to merge them and observe that indeed they conflict.</p></li>
<li><p>Abort the merge with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">--abort</span></code>.</p></li>
<li><p>What do you expect will happen if you rebase one branch on top of the
other? Do you anticipate a conflict? Try it out.</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-1">
<p class="admonition-title">Solution</p>
<p>Yes, this will conflict. If it conflicts during a merge, it will also conflict
during rebase but the conflict resolution looks slightly different:
You still need to look for conflict markers but you tell Git that you resolved
a conflict with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and then you continue with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--continue</span></code>.
Follow instructions that you get from the Git command line.</p>
</div>
</div>
<div class="admonition-optional-conflict-3-resolve-a-conflict-using-mergetool exercise important admonition" id="exercise-2">
<p class="admonition-title">(optional) Conflict-3: Resolve a conflict using mergetool</p>
<ul>
<li><p>Again create a conflict (for instance disagree on the number of avocados).</p></li>
<li><p>Stop at this stage:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>Auto-merging ingredients.txt
CONFLICT (content): Merge conflict in ingredients.txt
Automatic merge failed; fix conflicts and then commit the result.
</pre></div>
</div>
</li>
<li><p>Instead of resolving the conflict manually, use a visual tool
(requires installing one of the <a class="reference external" href="https://coderefinery.github.io/installation/difftools/">visual diff tools</a>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>mergetool
</pre></div>
</div>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/mergetool.png"><img alt="Conflict resolution using mergetool" src="_images/mergetool.png" style="width: 100%;" />
</a>
</figure>
</li>
<li><p>Your current branch is left, the branch you merge is right, result is in the middle.</p></li>
<li><p>After you are done, close and commit, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> is not needed when using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">mergetool</span></code>.</p></li>
</ul>
<p>If you have not instructed Git to avoid creating backups when using mergetool, then to be on
the safe side there will be additional temporary files created. To remove those  you can do
a git clean after the merging.</p>
<p>To view what will be removed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clean<span class="w"> </span>-n
</pre></div>
</div>
<p>To remove:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clean<span class="w"> </span>-f
</pre></div>
</div>
<p>To configure Git to avoid creating backups at all:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>mergetool.keepBackup<span class="w"> </span><span class="nb">false</span>
</pre></div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="using-ours-or-theirs-strategy">
<h3>Using “ours” or “theirs” strategy<a class="headerlink" href="#using-ours-or-theirs-strategy" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Sometimes you know that you want to keep “ours” version (version on the branch you are on)
or “theirs” (version on the merged branch).</p></li>
<li><p>Then you do not have to resolve conflicts manually.</p></li>
<li><p>See <a class="reference external" href="https://git-scm.com/docs/merge-strategies">merge strategies</a>.</p></li>
</ul>
<p>Example (merge and in doubt take the changes from current branch):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>-s<span class="w"> </span>recursive<span class="w"> </span>-Xours<span class="w"> </span>less-avocados
</pre></div>
</div>
<p>Or (merge and in doubt take the changes from less-avocados branch):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>-s<span class="w"> </span>recursive<span class="w"> </span>-Xtheirs<span class="w"> </span>less-avocados
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="aborting-a-conflicting-merge">
<h3>Aborting a conflicting merge<a class="headerlink" href="#aborting-a-conflicting-merge" title="Link to this heading"></a></h3>
<p>Sometimes you get a merge conflict but realize that you can’t solve it without
talking to a colleague (who created the other change) first. What to do?</p>
<p>You can abort the merge and postponing conflict resolution by resetting the
repository to <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> (last committed state):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>merge<span class="w"> </span>--abort
</pre></div>
</div>
<p>The repository looks then exactly as it was before the merge.</p>
</section>
<hr class="docutils" />
<section id="avoiding-conflicts">
<h3>Avoiding conflicts<a class="headerlink" href="#avoiding-conflicts" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Human measures</p>
<ul>
<li><p>Think and plan to which branch you will commit to.</p></li>
<li><p>Do not put unrelated changes on the same branch.</p></li>
</ul>
</li>
<li><p>Collaboration measures</p>
<ul>
<li><p>Open an issue and discuss with collaborators before starting a long-living
branch.</p></li>
</ul>
</li>
<li><p>Project layout measures</p>
<ul>
<li><p>Modifying global data often causes conflicts.</p></li>
<li><p>Modular programming reduces this risk.</p></li>
</ul>
</li>
<li><p>Technical measures</p>
<ul>
<li><p><strong>Share your changes early and often</strong> - this is one of the happy,
rare circumstances when everyone doing the selfish thing (e.g. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> as
early as practical) results in best case for everyone!</p></li>
<li><p>Pull/rebase often to keep up to date with upstream.</p></li>
<li><p>Resolve conflicts early.</p></li>
</ul>
</li>
</ul>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<p>Discuss how Git handles conflicts compared to services like Google Drive.</p>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>Conflicts often appear because of not enough communication or not optimal
branching strategy.</p></li>
</ul>
</div>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-staging-area"></span><section id="using-the-git-staging-area">
<h2>Using the Git staging area<a class="headerlink" href="#using-the-git-staging-area" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn how to tell a story with your commit history.</p></li>
<li><p>Demystify the Git staging area.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min teaching/type-along</p></li>
<li><p>10 min exercise</p></li>
</ul>
</div>
<section id="commit-history-is-telling-a-story">
<h3>Commit history is telling a story<a class="headerlink" href="#commit-history-is-telling-a-story" title="Link to this heading"></a></h3>
<p>Your <em>current code</em> is very important, but the <em>history</em> can be just
as important - it tells a story about how your code came to be.</p>
<ul class="simple">
<li><p>Each individual line of code rarely stands alone.</p></li>
<li><p>You often want to see all the related changes together.</p></li>
<li><p>But you also hardly ever do one thing at once.</p></li>
</ul>
<p>Along with your code, Git creates a <em>history</em> for you, and if your
history is clear then you are a long way to organized code.</p>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p>Here are five types of history.  What are the advantages and
disadvantages of each, when you look at it later?</p>
<p><strong>Example 1</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>b135ec8<span class="w"> </span>add<span class="w"> </span>features<span class="w"> </span>A,<span class="w"> </span>B,<span class="w"> </span>and<span class="w"> </span>C
</pre></div>
</div>
<p><strong>Example 2</strong> (newest commit is on top):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>6f0d49f<span class="w"> </span>implement<span class="w"> </span>feature<span class="w"> </span>C
fee1807<span class="w"> </span>implement<span class="w"> </span>feature<span class="w"> </span>B
6fe2f23<span class="w"> </span>implement<span class="w"> </span>feature<span class="w"> </span>A
</pre></div>
</div>
<p><strong>Example 3</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ab990f4<span class="w"> </span>saving<span class="w"> </span>three<span class="w"> </span>months<span class="w"> </span>of<span class="w"> </span>miscellaneous<span class="w"> </span>work<span class="w"> </span>I<span class="w"> </span>forgot<span class="w"> </span>to<span class="w"> </span>commit
</pre></div>
</div>
<p><strong>Example 4</strong> (newest commit is on top):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>bf39f9d<span class="w"> </span>more<span class="w"> </span>work<span class="w"> </span>on<span class="w"> </span>feature<span class="w"> </span>B
45831a5<span class="w"> </span>removing<span class="w"> </span>debug<span class="w"> </span>prints<span class="w"> </span><span class="k">for</span><span class="w"> </span>feature<span class="w"> </span>A<span class="w"> </span>and<span class="w"> </span>add<span class="w"> </span>new<span class="w"> </span>file
bddb280<span class="w"> </span>more<span class="w"> </span>work<span class="w"> </span>on<span class="w"> </span>feature<span class="w"> </span>B<span class="w"> </span>and<span class="w"> </span>make<span class="w"> </span>feature<span class="w"> </span>A<span class="w"> </span>compile<span class="w"> </span>again
72d78e7<span class="w"> </span>feature<span class="w"> </span>A<span class="w"> </span>did<span class="w"> </span>not<span class="w"> </span>work<span class="w"> </span>and<span class="w"> </span>started<span class="w"> </span>work<span class="w"> </span>on<span class="w"> </span>feature<span class="w"> </span>B
b135ec8<span class="w"> </span>now<span class="w"> </span>feature<span class="w"> </span>A<span class="w"> </span>should<span class="w"> </span>work
72e0211<span class="w"> </span>another<span class="w"> </span>fix<span class="w"> </span>to<span class="w"> </span>make<span class="w"> </span>it<span class="w"> </span>compile
61dd3a3<span class="w"> </span>forgot<span class="w"> </span>file<span class="w"> </span>and<span class="w"> </span>bugfix
49dc419<span class="w"> </span>wip<span class="w"> </span><span class="o">(</span>work<span class="w"> </span><span class="k">in</span><span class="w"> </span>progress<span class="o">)</span>
</pre></div>
</div>
<p><strong>Example 5</strong> (newest commit is on top):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>1949dc4<span class="w"> </span>Work<span class="w"> </span>of<span class="w"> </span><span class="m">2020</span>-04-07
a361dd3<span class="w"> </span>Work<span class="w"> </span>of<span class="w"> </span><span class="m">2020</span>-04-06
1172e02<span class="w"> </span>Work<span class="w"> </span>of<span class="w"> </span><span class="m">2020</span>-04-03
e772d78<span class="w"> </span>Work<span class="w"> </span>of<span class="w"> </span><span class="m">2020</span>-04-02
</pre></div>
</div>
<p>Discuss these examples. Can you anticipate problems?</p>
</div>
<p>We want to have nice commits.  But we also want to “save often”
(checkpointing) - how can we have both?</p>
<ul class="simple">
<li><p>We will now learn to create nice commits using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--patch</span></code> and/or the staging area.</p></li>
<li><p>Staging addresses the issue of having unrelated changes in the same
commit or having one logical change spread over several commits.</p></li>
<li><p>The staging area isn’t the only way to organize your history nicely, some alternatives are discussed at the end of the lesson.</p></li>
</ul>
</section>
<section id="interactive-commits">
<h3>Interactive commits<a class="headerlink" href="#interactive-commits" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The simplest ways to solve this is to do <strong>interactive commits</strong>:
the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--patch</span></code> option (or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-p</span></code> for short).</p></li>
<li><p>It will present you with every change you have made individually,
and you can decide which ones to commit right now.</p></li>
<li><p>Reference and key commands</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--patch</span></code> to start the interactive commit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> to use the change</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> to skip the change</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> (split) if there are several changes grouped together, but
separated by a blank line, split them into separate choices.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> aborts everything.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?</span></code> for more options.</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-p</span></code> option is also available on <code class="docutils literal notranslate"><span class="pre">commit</span></code>, <code class="docutils literal notranslate"><span class="pre">restore</span></code>, <code class="docutils literal notranslate"><span class="pre">checkout</span></code>, <code class="docutils literal notranslate"><span class="pre">reset</span></code>, and <code class="docutils literal notranslate"><span class="pre">add</span></code>.</p></li>
</ul>
</section>
<section id="exercise-interactive-commits">
<span id="id1"></span><h3>Exercise: Interactive commits<a class="headerlink" href="#exercise-interactive-commits" title="Link to this heading"></a></h3>
<div class="admonition-staging-1-perform-an-interactive-commit exercise important admonition" id="exercise-0">
<p class="admonition-title">Staging-1: Perform an interactive commit</p>
<p>One option to help us create nice logical commits is to stage <em>interactively</em>
with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--patch</span></code>:</p>
<ol class="arabic simple">
<li><p>Make two changes in <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code>, at the top and bottom
of the file.
<strong>Make sure that they are separated by at least several unmodified lines.</strong></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--patch</span></code>.  Using the keystrokes above, commit one of
the changes.</p></li>
<li><p>Do it again for the other change.</p></li>
<li><p>When you’re done, inspect the situation with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--staged</span></code>.</p></li>
<li><p>When would this be useful?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<p>This can be useful if you have several modification in a file (or several
files) but you decide that it would be beneficial to save them as two (or
more) separate commits.</p>
</div>
</div>
</section>
<section id="the-staging-area">
<h3>The staging area<a class="headerlink" href="#the-staging-area" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The interactive commits above are great, but what if there are so
many changes that you can’t sort them out in one shot?</p></li>
<li><p>What if you make progress and want to record it somehow, but it’s
not ready to be committed?</p></li>
<li><p>The <strong>staging area</strong> is a place to record things before committing.</p></li>
</ul>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-1">
<p class="admonition-title">Instructor note</p>
<p>We give two examples and the instructor can pick one or both:</p>
<ul class="simple">
<li><p>Analogy using moving boxes</p></li>
<li><p>Analogy using shopping receipts</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<p><strong>Analogy using moving boxes</strong></p>
<ul class="simple">
<li><p>You’re moving and you have a box to pack your things in.</p></li>
<li><p>You can put stuff into the box, but you can also take stuff out of the box.</p></li>
<li><p>You wouldn’t want to mix items from the bathroom, kitchen, and living room
into the same box.</p></li>
<li><p>The box corresponds to the staging area of Git, where you can craft your commits.</p></li>
<li><p>Committing is like sealing the box and sticking a label on it.</p></li>
<li><p>You wouldn’t want to label your box with “stuff”, but rather give a more
descriptive label.</p></li>
<li><p>See also <a class="reference external" href="https://dev.to/sublimegeek/git-staging-area-explained-like-im-five-1anh">https://dev.to/sublimegeek/git-staging-area-explained-like-im-five-1anh</a></p></li>
</ul>
<p><strong>Analogy using shopping receipts</strong></p>
<ul class="simple">
<li><p>You need to go shopping and buy some stuff for work and for home.
You need two separate receipts.</p></li>
<li><p>Bad idea: go through the store get home stuff, pay, start at the
beginning and go through the store again.  This is inefficient and
annoying.</p></li>
<li><p>What you actually do:</p>
<ul>
<li><p>Go through the store and put everything you need in your shopping
basket.</p></li>
<li><p>Get to the check-out.  Put your home stuff on the conveyor belt
(<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>).  Check both the belt (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--staged</span></code>) and your
basket (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>) to make sure you got all your home stuff.</p></li>
<li><p>Pay (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>)</p></li>
<li><p>Repeat for work stuff.</p></li>
</ul>
</li>
</ul>
<p>In order to keep organized, you have to use multiple locations to
stage things in sequence.</p>
</div>
</section>
<section id="staging-area-commands">
<h3>Staging area commands<a class="headerlink" href="#staging-area-commands" title="Link to this heading"></a></h3>
<p>The staging area is a middle ground between what you have done to your files
(the <strong>working directory</strong>) and what you have last committed (the <strong>HEAD commit</strong>).
Just like the name implies, it lets you prepare (<strong>stage</strong>) what the next commit will be and most importantly give you tools to easily know what is going on.
This adds some complexity but also adds more flexibility to selectively
prepare commits since <strong>you can modify and stage several times before committing</strong>.</p>
<p><strong>git add</strong> stages/prepares for the next commit:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                git add
 [project*]  &lt;------------  project*
                               ^
                               | modify with editor
                               |
  HEAD            .         project
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<p><strong>git commit</strong> creates a new commit:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  HEAD            .         project
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
  HEAD~2          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<p><strong>git reset --soft HEAD~1</strong> (move HEAD back by one but keep changes and stage
them) would do the opposite of <strong>git commit</strong>.  (in this case, <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>
is literally this - not a replacement)</p>
<p>Going back to the last staged version:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>              git restore
 [project*]  ------------&gt;  project*



  HEAD            .
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<p>Unstaging changes with <strong>git restore --staged</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>          git restore --staged
             ------------&gt;  project*



  HEAD            .
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<p>Discarding unstaged changes:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                            project*
                               |
                               | git restore
                               v
  HEAD            .         project
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<p>Comparing:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                git diff
 [project*]  &lt;-----------&gt;  project*
    ^                          ^
    | git diff --staged        | git diff HEAD
    v                          v
  HEAD            .
    |             .
    |             .
    |             .
  HEAD~1          .
    |             .
    |             .
    |             .
                  .
  .git            .     working directory
(history)         .      (files we see)
</pre></div>
</div>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/staging-basics.svg"><img alt="Staging basics" src="_images/staging-basics.svg" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">The different states of the repository and the commands to move from one to
another.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="exercise-using-the-staging-area">
<span id="exercise-staging-area"></span><h3>Exercise: Using the staging area<a class="headerlink" href="#exercise-using-the-staging-area" title="Link to this heading"></a></h3>
<div class="admonition-staging-2-use-the-staging-area-to-make-a-commit-in-two-steps exercise important admonition" id="exercise-1">
<p class="admonition-title">Staging-2: Use the staging area to make a commit in two steps</p>
<ol class="arabic simple">
<li><p>In your recipe example, make two different changes to
<code class="docutils literal notranslate"><span class="pre">ingredients.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">instructions.txt</span></code> which do not go together.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> to stage one of the changes.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to see what’s going on, and use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--staged</span></code> to see the changes.</p></li>
<li><p>Feel some regret and unstage the staged change.</p></li>
</ol>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-2">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>When is it better to “save” a change as commit, when is it better to “save”
it with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>?</p></li>
<li><p>Is it a problem to commit many small changes?</p></li>
</ul>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>The staging area helps us to create well-defined commits.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-recovering"></span><section id="undoing-and-recovering">
<h2>Undoing and recovering<a class="headerlink" href="#undoing-and-recovering" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn to undo changes safely</p></li>
<li><p>See when undone changes are permanently deleted and when they can be retrieved</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>25 min teaching/type-along</p></li>
<li><p>25 min exercise</p></li>
</ul>
</div>
<p>One of the main points of version control is that you can <em>go back in
time to recover</em>.  Unlike this xkcd comic implies: <a class="reference external" href="https://xkcd.com/1597/">https://xkcd.com/1597/</a></p>
<p>In this episode we show a couple of commands that can be used to undo mistakes.
We also list a couple of common mistakes and discuss how to recover from them.
Some commands preserve the commit history and some modify commit history.
Modifying history? Isn’t a “commit” permanent?</p>
<ul class="simple">
<li><p>You can modify old commit history.</p></li>
<li><p>But if you have shared that history already, <em>modifying it can make
a huge mess</em>.</p></li>
</ul>
<div class="admonition-it-is-almost-always-possible-to-recover admonition">
<p class="admonition-title">It is almost always possible to recover</p>
<p>As long as you commit something once (or at least <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> it), you
can almost always go back to it, no matter what you do.
But you may need to ask Stack Overflow or your local
guru… <em>until that guru becomes you</em>.</p>
</div>
<div class="admonition-nice-resource-to-visually-simulate-git-operation admonition">
<p class="admonition-title">Nice resource to visually simulate Git operation</p>
<p><a class="reference external" href="https://github.com/initialcommit-com/git-sim#video-animation-examples">git-sim</a>
is a nice resouce to visually simulate Git operations listed in this episode
below, in your own repos with a single terminal command.</p>
</div>
<hr class="docutils" />
<section id="undoing-your-recent-uncommitted-and-unstaged-changes-preserves-history">
<h3>Undoing your recent, uncommitted and unstaged changes (preserves history)<a class="headerlink" href="#undoing-your-recent-uncommitted-and-unstaged-changes-preserves-history" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span></code> does not work, your Git version might be older than from 2019.
On older Git it is <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span></code>.</p>
</div>
<p>You do some work, and want to <strong>undo your uncommitted and unstaged modifications</strong>.
You can always do that with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">.</span></code> (the dot means “here and in all folders below”)</p></li>
</ul>
<p>You can also undo things selectively:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">-p</span></code> (decide which portions of changes to undo) or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">PATH</span></code> (decide which path/file)</p></li>
</ul>
<p>If you have staged changes, you have at least two options to undo the staging:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">--staged</span> <span class="pre">.</span></code> followed by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HEAD</span></code> throws away everything that is not in last
commit (<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> - this literal word, this isn’t a placeholder)</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="reverting-commits-preserves-history">
<h3>Reverting commits (preserves history)<a class="headerlink" href="#reverting-commits-preserves-history" title="Link to this heading"></a></h3>
<p>Imagine we made a few commits.
We realize that the latest commit <code class="docutils literal notranslate"><span class="pre">e02efcd</span></code> was a mistake and we wish to undo it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

<span class="go">e02efcd (HEAD -&gt; main) not sure this is a good idea</span>
<span class="go">b4af65b improve the documentation</span>
<span class="go">e7cf023 don&#39;t forget to enjoy</span>
<span class="go">79161b6 add half an onion</span>
<span class="go">a3394e3 adding README</span>
<span class="go">3696246 adding instructions</span>
<span class="go">f146d25 adding ingredients</span>
</pre></div>
</div>
<p>A safe way to undo the commit is to revert the commit with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>revert<span class="w"> </span>e02efcd
</pre></div>
</div>
<p>This creates a <strong>new commit</strong> that does the opposite of the reverted commit.
The old commit remains in the history:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

<span class="go">d3fc63a (HEAD -&gt; main) Revert &quot;not sure this is a good idea&quot;</span>
<span class="go">e02efcd not sure this is a good idea</span>
<span class="go">b4af65b improve the documentation</span>
<span class="go">e7cf023 don&#39;t forget to enjoy</span>
<span class="go">79161b6 add half an onion</span>
<span class="go">a3394e3 adding README</span>
<span class="go">3696246 adding instructions</span>
<span class="go">f146d25 adding ingredients</span>
</pre></div>
</div>
<p>You can revert any commit, no matter how old it is.  It doesn’t affect
other commits you have done since then - but if they touch the same
code, you may get a conflict (which we’ll learn about later).</p>
<section id="exercise-revert-a-commit">
<span id="exercise-revert"></span><h4>Exercise: Revert a commit<a class="headerlink" href="#exercise-revert-a-commit" title="Link to this heading"></a></h4>
<div class="admonition-undoing-1-revert-a-commit exercise important admonition" id="exercise-0">
<p class="admonition-title">Undoing-1: Revert a commit</p>
<ul class="simple">
<li><p>Create a commit (commit A).</p></li>
<li><p>Revert the commit with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code> (commit B).</p></li>
<li><p>Inspect the history with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span></code>.</p></li>
<li><p>Now try <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> on both the reverted (commit A) and the newly created commit (commit B).</p></li>
</ul>
</div>
</section>
</section>
<section id="adding-to-the-previous-commit-modifies-history">
<h3>Adding to the previous commit (modifies history)<a class="headerlink" href="#adding-to-the-previous-commit-modifies-history" title="Link to this heading"></a></h3>
<p>Sometimes we commit but realize we forgot something.
We can amend to the last commit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>--amend
</pre></div>
</div>
<p>This can also be used to modify the last commit message.</p>
<p>Note that this <strong>will change the commit hash</strong>. This command <strong>modifies the history</strong>.
This means that we avoid this command on commits that we have shared with others.</p>
<section id="exercise-modify-a-previous-commit">
<span id="exercise-amend"></span><h4>Exercise: Modify a previous commit<a class="headerlink" href="#exercise-modify-a-previous-commit" title="Link to this heading"></a></h4>
<div class="admonition-undoing-2-modify-a-previous-commit exercise important admonition" id="exercise-1">
<p class="admonition-title">Undoing-2: Modify a previous commit</p>
<ol class="arabic simple">
<li><p>Make an incomplete change to the recipe or a typo in your change, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> the incomplete/unsatisfactory change.</p></li>
<li><p>Inspect the unsatisfactory but committed change with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code>. Remember
or write down the commit hash.</p></li>
<li><p>Now complete/fix the change but instead of creating a new commit, add the
correction to the previous commit with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>, followed by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code>.  What changed?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<p>One thing that has changed now is the commit hash. Modifying the previous
commit has changed the history. This is OK to do on commits that other people
don’t depend on yet.</p>
</div>
</div>
</section>
</section>
<section id="rewinding-branches-modifies-history">
<h3>Rewinding branches (modifies history)<a class="headerlink" href="#rewinding-branches-modifies-history" title="Link to this heading"></a></h3>
<p>You can <strong>reset branch history</strong> to move your branch back to some
point in the past.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HASH</span></code> will force a branch label to any other point.  All
other changes are lost (but it is possible to recover if you force reset by mistake).</p></li>
<li><p>Be careful if you do this - it can mess stuff up.  Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> a
lot before and after.</p></li>
</ul>
<section id="exercise-git-reset">
<span id="exercise-reset"></span><h4>Exercise: Git reset<a class="headerlink" href="#exercise-git-reset" title="Link to this heading"></a></h4>
<div class="admonition-undoing-3-destroy-our-experimentation-in-this-episode exercise important admonition" id="exercise-2">
<p class="admonition-title">Undoing-3: Destroy our experimentation in this episode</p>
<p>After we have experimented with reverts and amending, let us destroy
all of that and get our repositories to a similar state.</p>
<ul class="simple">
<li><p>First, we will look at our history (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>/<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>) and
find the last commit <code class="docutils literal notranslate"><span class="pre">HASH</span></code> before our tests.</p></li>
<li><p>Then, we will <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HASH</span></code> to that.</p></li>
<li><p>Then, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> again to see what happened.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

<span class="go">d3fc63a (HEAD -&gt; main) Revert &quot;not sure this is a good idea&quot;</span>
<span class="go">e02efcd not sure this is a good idea</span>
<span class="go">b4af65b improve the documentation</span>
<span class="go">e7cf023 don&#39;t forget to enjoy</span>
<span class="go">79161b6 add half an onion</span>
<span class="go">a3394e3 adding README</span>
<span class="go">3696246 adding instructions</span>
<span class="go">f146d25 adding ingredients</span>

<span class="gp">$ </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>b4af65b

<span class="go">HEAD is now at b4af65b improve the documentation</span>

<span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

<span class="go">b4af65b (HEAD -&gt; main) improve the documentation</span>
<span class="go">e7cf023 don&#39;t forget to enjoy</span>
<span class="go">79161b6 add half an onion</span>
<span class="go">a3394e3 adding README</span>
<span class="go">3696246 adding instructions</span>
<span class="go">f146d25 adding ingredients</span>
</pre></div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="recovering-from-committing-to-the-wrong-branch">
<h3>Recovering from committing to the wrong branch<a class="headerlink" href="#recovering-from-committing-to-the-wrong-branch" title="Link to this heading"></a></h3>
<p>It is easy to forget to create a branch or to create it and forget to switch to
it when committing changes.</p>
<p>Here we assume that we made a couple of commits but we realize they went to the
wrong branch.</p>
<p><strong>Solution 1 using git cherry-pick</strong>:</p>
<ol class="arabic simple">
<li><p>Make sure that the correct branch exists and if not, create it. Make sure to
create it from the commit hash where you wish you had created it from: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">BRANCHNAME</span> <span class="pre">HASH</span></code></p></li>
<li><p>Switch to the correct branch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cherry-pick</span> <span class="pre">HASH</span></code> can be used to take a specific commit to the
current branch. Cherry-pick all commits that should have gone to the correct
branch, <strong>from oldest to most recent</strong>.</p></li>
<li><p>Rewind the branch that accidentally got wrong commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span></code> (see also above).</p></li>
</ol>
<p><strong>Solution 2 using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span></code></strong> (makes sense if the correct branch should
contain all commits of the accidentally modified branch):</p>
<ol class="arabic simple">
<li><p>Create the correct branch, pointing at the latest commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">BRANCHNAME</span></code>.</p></li>
<li><p>Check with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> that both branches point to the same, latest, commit.</p></li>
<li><p>Rewind the branch that accidentally got wrong commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span></code> (see also above).</p></li>
</ol>
</section>
<section id="recovering-from-merging-pulling-into-the-wrong-branch">
<h3>Recovering from merging/pulling into the wrong branch<a class="headerlink" href="#recovering-from-merging-pulling-into-the-wrong-branch" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code>, and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> modify the <strong>current</strong> branch, never
the other branch. But sometimes we run this command on the wrong branch.</p>
<ol class="arabic simple">
<li><p>Check with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> the commit hash that you would like to rewind the
wrongly modified branch to.</p></li>
<li><p>Rewind the branch that accidentally got wrong commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HASH</span></code> (see also above).</p></li>
</ol>
</section>
<section id="recovering-from-conflict-after-pulling-changes">
<h3>Recovering from conflict after pulling changes<a class="headerlink" href="#recovering-from-conflict-after-pulling-changes" title="Link to this heading"></a></h3>
<p>Pulling changes with
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> can create a conflict since <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> always also includes a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code> (more about this
in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative Git lesson</a>).</p>
<p>The recovery is same as described in <a class="reference internal" href="#document-conflicts#conflict-resolution"><span class="std std-ref">Conflict resolution</span></a>. Either
resolve conflicts or abort the merge with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">--abort</span></code>.</p>
<hr class="docutils" />
<div class="admonition-undoing-4-test-your-understanding exercise important admonition" id="exercise-3">
<p class="admonition-title">Undoing-4: Test your understanding</p>
<ol class="arabic simple">
<li><p>What happens if you accidentally remove a tracked file with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span></code>, is it gone forever?</p></li>
<li><p>Is it OK to modify commits that nobody has seen yet?</p></li>
<li><p>What situations would justify to modify the Git history and possibly remove commits?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-1">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p>It is not gone forever since <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span></code> creates a new commit. You can revert the commit to get the file back.</p></li>
<li><p>If you haven’t shared your commits with anyone it can be alright to modify them.</p></li>
<li><p>If you have shared your commits with others (e.g. pushed them to GitHub), only extraordinary
conditions would justify modifying history. For example to remove sensitive or secret information.</p></li>
</ol>
</div>
</div>
</section>
</section>
<span id="document-interrupted"></span><section id="interrupted-work">
<h2>Interrupted work<a class="headerlink" href="#interrupted-work" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn to switch context or abort work without panicking.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min teaching/type-along</p></li>
<li><p>15 min exercise</p></li>
</ul>
</div>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>There is almost never reason to clone a fresh copy to complete a task that
you have in mind.</p></li>
</ul>
</div>
<section id="frequent-situation-interrupted-work">
<h3>Frequent situation: interrupted work<a class="headerlink" href="#frequent-situation-interrupted-work" title="Link to this heading"></a></h3>
<p>We all wish that we could write beautiful perfect code. But the real world is
much more chaotic:</p>
<ul class="simple">
<li><p>You are in the middle of a “Jackson-Pollock-style” debugging spree with 27 modified files
and debugging prints everywhere.</p></li>
<li><p>Your colleague comes in and wants you to fix/commit something right now.</p></li>
<li><p>What to do?</p></li>
</ul>
<p>Git provides lots of ways to switch tasks without ruining everything.</p>
</section>
<section id="option-1-stashing">
<h3>Option 1: Stashing<a class="headerlink" href="#option-1-stashing" title="Link to this heading"></a></h3>
<p>The <strong>stash</strong> is the first and easiest place to temporarily “stash”
things.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code> will put working directory and staging area changes
away.  Your code will be same as last commit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span></code> will return to the state you were before. Can give it a list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">list</span></code> will list the current stashes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">save</span> <span class="pre">NAME</span></code> is like the first, but will give it a name.
Useful if it might last a while.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">save</span> <span class="pre">[-p]</span> <span class="pre">[filename]</span></code> will stash certain files files
and/or by patches.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">drop</span></code> will drop the most recent stash (or whichever stash
you give).</p></li>
<li><p>The stashes form a stack, so you can stash several batches of modifications.</p></li>
</ul>
<section id="exercise-stashing">
<span id="id1"></span><h4>Exercise: Stashing<a class="headerlink" href="#exercise-stashing" title="Link to this heading"></a></h4>
<div class="admonition-interrupted-1-stash-some-uncommitted-work exercise important admonition" id="exercise-0">
<p class="admonition-title">Interrupted-1: Stash some uncommitted work</p>
<ol class="arabic simple">
<li><p>Make a change.</p></li>
<li><p>Check status/diff, stash the change with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code>, check status/diff again.</p></li>
<li><p>Make a separate, unrelated change which doesn’t touch the same
lines.  Commit this change.</p></li>
<li><p>Pop off the stash you saved with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span></code>, and check status/diff.</p></li>
<li><p>Optional: Do the same but stash twice.  Also check <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">list</span></code>.
Can you pop the stashes in the opposite order?</p></li>
<li><p>Advanced: What happens if stashes conflict with other changes? Make
a change and stash it.  Modify the same line or one right above or
below.  Pop the stash back.  Resolve the conflict.  Note there is no
extra commit.</p></li>
<li><p>Advanced: what does <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> show when you have something
stashed?</p></li>
</ol>
<div class="admonition-solution solution important dropdown admonition" id="solution-0">
<p class="admonition-title">Solution</p>
<p>5: Yes you can. With <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span> <span class="pre">INDEX</span></code> you can decie which stash
index to pop.</p>
<p>6: In this case Git will ask us to resolve the conflict the same way
when resolving conflicts between two branches.</p>
<p>7: It shows an additional commit hash with <code class="docutils literal notranslate"><span class="pre">refs/stash</span></code>.</p>
</div>
</div>
</section>
</section>
<section id="option-2-create-branches">
<h3>Option 2: Create branches<a class="headerlink" href="#option-2-create-branches" title="Link to this heading"></a></h3>
<p>You can use branches almost like you have already been doing if you
need to save some work.  You need to do something else for a bit?
Sounds like a good time to make a feature branch.</p>
<p>You basically know how to do this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>temporary<span class="w">  </span><span class="c1"># create a branch and switch to it</span>
<span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>PATHS<span class="w">                  </span><span class="c1"># stage changes</span>
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w">                     </span><span class="c1"># commit them</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>main<span class="w">                </span><span class="c1"># back to main, continue your work there ...</span>
<span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>temporary<span class="w">           </span><span class="c1"># continue again on &quot;temporary&quot; where you left off</span>
</pre></div>
</div>
<p>Later you can merge it to main or rebase it on top of main and resume work.</p>
</section>
<section id="storing-various-junk-you-don-t-need-but-don-t-want-to-get-rid-of">
<h3>Storing various junk you don’t need but don’t want to get rid of<a class="headerlink" href="#storing-various-junk-you-don-t-need-but-don-t-want-to-get-rid-of" title="Link to this heading"></a></h3>
<p>It happens often that you do something and don’t need it, but you don’t want to
lose it right away.  You can use either of the above strategies to stash/branch
it away: using branches is probably better because branches are less easily
overlooked if you come back to the repository in few weeks.  Note that if you
try to use a branch after a long time, conflicts might get really bad but at
least you have the data still.</p>
</section>
</section>
<span id="document-aliases"></span><section id="aliases-and-configuration">
<span id="aliases"></span><h2>Aliases and configuration<a class="headerlink" href="#aliases-and-configuration" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn to use aliases for most common commands.</p></li>
</ul>
</div>
<p>Are you getting tired of typing so much? In Git you can define aliases (shortcuts):</p>
<ul class="simple">
<li><p>These are great because they can save you time typing.</p></li>
<li><p>But it’s easy to forget them, get confused, or be inconsistent with your colleagues.</p></li>
</ul>
<p>There is plenty of other configuration for Git, that can make it nicer.</p>
<section id="id1">
<h3>Aliases<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Aliases offer a way to improve the usability of Git: for
example <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">ci</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>.</p></li>
<li><p>Aliases are based on simple string replacement in the command.</p></li>
<li><p>Aliases can either be specific to a repository or global.</p>
<ul>
<li><p>Global aliases help you do the things you are used to across Git projects.</p></li>
<li><p>Per-project aliases can also be created.</p></li>
</ul>
</li>
<li><p>Global aliases are stored in <code class="docutils literal notranslate"><span class="pre">~/.gitconfig</span></code>.</p></li>
</ul>
</section>
<section id="example-alias-git-graph">
<h3>Example alias: git graph<a class="headerlink" href="#example-alias-git-graph" title="Link to this heading"></a></h3>
<p>A very useful shortcut which we use a lot in our workshops:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.graph<span class="w"> </span><span class="s2">&quot;log --all --graph --decorate --oneline&quot;</span>
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>your_git_repository
<span class="gp">$ </span>git<span class="w"> </span>graph
</pre></div>
</div>
</section>
<section id="using-external-commands">
<h3>Using external commands<a class="headerlink" href="#using-external-commands" title="Link to this heading"></a></h3>
<p>It is possible to call external commands using the exclamation mark character “!”.
In this example here we create a local alias which is
stored in <code class="docutils literal notranslate"><span class="pre">.git/config</span></code> and not synchronized with remotes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>your_git_repository
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>alias.hi<span class="w"> </span><span class="s1">&#39;!echo hello&#39;</span>
<span class="gp">$ </span>git<span class="w"> </span>hi
</pre></div>
</div>
<div class="admonition-food-for-thought-when-to-alias discussion important admonition" id="discussion-0">
<p class="admonition-title">Food for thought: When to alias?</p>
<ul class="simple">
<li><p>How many times should you wait before aliasing a command?</p></li>
<li><p>Do you believe a list of generic two-letter acronyms for common commands will
save your time?</p></li>
</ul>
</div>
</section>
<section id="list-of-aliases-the-instructors-use">
<h3>List of aliases the instructors use<a class="headerlink" href="#list-of-aliases-the-instructors-use" title="Link to this heading"></a></h3>
<p>You are welcome to reuse, suggest, improve.
You can see your current aliases in <code class="docutils literal notranslate"><span class="pre">~/.gitconfig</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.ap<span class="w"> </span><span class="s2">&quot;add --patch&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.br<span class="w"> </span>branch
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.ci<span class="w"> </span><span class="s2">&quot;commit -v&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.cip<span class="w"> </span><span class="s2">&quot;commit --patch -v&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.cl<span class="w"> </span><span class="s2">&quot;clone --recursive&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.di<span class="w"> </span>diff
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.dic<span class="w"> </span><span class="s2">&quot;diff --staged --color-words&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.diw<span class="w"> </span><span class="s2">&quot;diff --color-words&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.dis<span class="w"> </span><span class="s2">&quot;!git --no-pager diff --stat&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.fe<span class="w"> </span>fetch
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.graph<span class="w"> </span><span class="s2">&quot;log --all --graph --decorate --oneline&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rem<span class="w"> </span>remote
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.st<span class="w"> </span>status
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.su<span class="w"> </span><span class="s2">&quot;submodule update --init --recursive&quot;</span>
</pre></div>
</div>
<p>Here is what they do:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ap</span></code>: add, selecting parts individually, interactively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">br</span></code>: branch (obvious)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ci</span></code>: commit (check in), with <code class="docutils literal notranslate"><span class="pre">-v</span></code> option for clarity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cip</span></code>: commit, selecting parts individually, interactively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cl</span></code>: clone, init submodules (submodules are an advanced topic)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">di</span></code>: diff (obvious)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dic</span></code>: diff of staging area vs last commit (what is about to be committed)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diw</span></code>: a word diff, color.  Useful for small changes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis</span></code>: a “diffstat”: what files are changed, not contents</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fe</span></code>: fetch (obvious)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">graph</span></code>: show whole git graph (so useful, some of us call it <code class="docutils literal notranslate"><span class="pre">l</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rem</span></code>: remote (obvious)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">st</span></code>: status (obvious)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">su</span></code>: submodule update (advanced)</p></li>
</ul>
<p>A useful setting for the <code class="docutils literal notranslate"><span class="pre">p</span></code> aliases:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>interactive.singlekey<span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
</section>
<section id="advanced-aliases">
<h3>Advanced aliases<a class="headerlink" href="#advanced-aliases" title="Link to this heading"></a></h3>
<p>These are advanced aliases and configuration options.  We won’t explain them,
but if you are bored, have some time, or want to go deeper, try to
figure out what they do.  You might want to check the Git manual
pages!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.cif<span class="w"> </span><span class="s2">&quot;commit -v -p --fixup&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rb<span class="w"> </span><span class="s2">&quot;rebase --autosquash&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rbi<span class="w"> </span><span class="s2">&quot;rebase --interactive --autosquash&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rbis<span class="w"> </span><span class="s2">&quot;rebase --interactive --autosquash --autostash&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rbs<span class="w"> </span><span class="s2">&quot;rebase --autosquash --autostash&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rec<span class="w"> </span><span class="s2">&quot;!git --no-pager log --oneline --graph --decorate @{upstream}^^^..HEAD&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.ls-ignored<span class="w"> </span><span class="s2">&quot;ls-files -o -i --exclude-standard&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.new<span class="w"> </span><span class="s2">&quot;log HEAD..HEAD@{upstream}&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.news<span class="w"> </span><span class="s2">&quot;log --stat HEAD..HEAD@{upstream}&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.newd<span class="w"> </span><span class="s2">&quot;log --patch --color-words HEAD..HEAD@{upstream}&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.newdi<span class="w"> </span><span class="s2">&quot;diff --color-words HEAD...HEAD@{upstream}&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.rec<span class="w"> </span><span class="s2">&quot;!git --no-pager log --oneline --graph --decorate @{upstream}^^^..HEAD&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.reca<span class="w"> </span><span class="s2">&quot;!git --no-pager log --oneline --graph --decorate -n10 --all&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.recd<span class="w"> </span><span class="s2">&quot;log --decorate --patch @{upstream}^^^..HEAD&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.recs<span class="w"> </span><span class="s2">&quot;!git --no-pager log --oneline --graph --decorate @{upstream}^^^..HEAD --stat&quot;</span>
</pre></div>
</div>
</section>
<section id="advanced-git-configuration">
<h3>Advanced Git configuration<a class="headerlink" href="#advanced-git-configuration" title="Link to this heading"></a></h3>
<p>Besides aliases, you can do plenty of other configuration of <code class="docutils literal notranslate"><span class="pre">git</span></code>.
Here are some of the most common ones:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>interactive.singlekey<span class="w"> </span><span class="nb">true</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.pager<span class="w"> </span><span class="s2">&quot;less -RS&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.excludesfile<span class="w"> </span>~/.gitignore
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>merge.conflictstyle<span class="w"> </span>diff3
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>diff.wordRegex<span class="w"> </span><span class="s2">&quot;[a-zA-Z0-9_]+|[^[:space:]]&quot;</span>
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>diff.mnemonicPrefix<span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
<p>Do you get tired of typing and copying and pasting your remote names
all the time, like <code class="docutils literal notranslate"><span class="pre">git&#64;github.com:myusername</span></code>?  You can create remote
aliases like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>url.git@github.com:.insteadOf<span class="w"> </span>gh:
<span class="gp">$ </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>url.git@github.com:/username/.insteadOf<span class="w"> </span>ghu:
</pre></div>
</div>
<p>Then, when you add a remote <code class="docutils literal notranslate"><span class="pre">ghu:recipe</span></code>, it will automatically be
translated to <code class="docutils literal notranslate"><span class="pre">git&#64;github.com:/username/recipe</span></code> using a simple prefix
matching.</p>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>If you are frustrated about remembering a command, you should create an alias.</p></li>
</ul>
</div>
</section>
</section>
<span id="document-under-the-hood"></span><section id="git-under-the-hood">
<h2>Git under the hood<a class="headerlink" href="#git-under-the-hood" title="Link to this heading"></a></h2>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Verify that branches are pointers to commits and extremely lightweight.</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>10 min teaching/type-along</p></li>
<li><p>15 min exercise</p></li>
</ul>
</div>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/stranger.jpg"><img alt="Git under the hood" src="_images/stranger.jpg" style="width: 100%;" />
</a>
</figure>
<section id="down-the-rabbit-hole">
<h3>Down the rabbit hole<a class="headerlink" href="#down-the-rabbit-hole" title="Link to this heading"></a></h3>
<p>When working with Git, <strong>you will never need to go inside .git</strong>, but in this
exercise we will, in order to learn about how branches are implemented in Git.</p>
<p>For this exercise create a new repository and commit a couple of changes.</p>
<p>Now that we’ve made a couple of commits let us look at what is happening under
the hood.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>.git
<span class="gp">$ </span>ls<span class="w"> </span>-l

<span class="go">drwxr-xr-x   - user 25 Aug 15:51 branches</span>
<span class="go">.rw-r--r-- 499 user 25 Aug 15:52 COMMIT_EDITMSG</span>
<span class="go">.rw-r--r--  92 user 25 Aug 15:51 config</span>
<span class="go">.rw-r--r--  73 user 25 Aug 15:51 description</span>
<span class="go">.rw-r--r--  21 user 25 Aug 15:51 HEAD</span>
<span class="go">drwxr-xr-x   - user 25 Aug 15:51 hooks</span>
<span class="go">.rw-r--r-- 137 user 25 Aug 15:52 index</span>
<span class="go">drwxr-xr-x   - user 25 Aug 15:51 info</span>
<span class="go">drwxr-xr-x   - user 25 Aug 15:52 logs</span>
<span class="go">drwxr-xr-x   - user 25 Aug 15:52 objects</span>
<span class="go">drwxr-xr-x   - user 25 Aug 15:51 refs</span>
</pre></div>
</div>
<p>Git stores everything under the .git folder in your repository. In fact, <strong>the
.git directory is the Git repository.</strong></p>
<p>Previously when you wrote the commit messages using your text editor, they
were in fact saved to <code class="docutils literal notranslate"><span class="pre">COMMIT_EDITMSG</span></code>.</p>
<p>Each commit in Git is stored as an object. This object contains information about
the author and the commit message. A <em>commit object</em> references a <em>tree object</em> that lists
the files present in the directory at the time.
Tree objects reference <em>blob</em> objects (that record the state of each file)
or other tree objects.</p>
<p>Commits are referenced by a SHA-1 hash (a 40-character hexadecimal string).</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/commit-and-tree.png"><img alt="A commit inside Git" src="_images/commit-and-tree.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">States of a Git file. Image from the <a class="reference external" href="https://git-scm.com/book/">Pro Git book</a>. License CC BY 3.0.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Once you have several commits, each commit object also links to the hash of the
previous commit(s) (there is more than one previous commit for for merge commits).
The commits form a <a class="reference external" href="http://eagain.net/articles/git-for-computer-scientists/">directed acyclic graph</a>
(do not worry if the term is not familiar).</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/commits-and-parents.png"><img alt="A commit and its parents" src="_images/commits-and-parents.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">A commit and its parents. Image from the <a class="reference external" href="https://git-scm.com/book/">Pro Git book</a>. License CC BY 3.0.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>All branches and tags in Git are pointers to commits.</p>
</section>
<section id="git-is-basically-a-content-addressed-storage-system">
<h3>Git is basically a content-addressed storage system<a class="headerlink" href="#git-is-basically-a-content-addressed-storage-system" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>CAS: <a class="reference external" href="https://en.wikipedia.org/wiki/Content-addressable_storage">“mechanism for storing information that can be retrieved based on its content, not its storage location”</a></p></li>
<li><p>Content address is the content digest (SHA-1 checksum)</p></li>
<li><p>Stored data does not change - so when we modify commits, we always create new
commits.  Git doesn’t delete these right away, which is why it is <em>very hard
to lose data if you commit it once</em>.</p></li>
</ul>
<p>Let us poke a bit into raw objects! Start with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>cat-file<span class="w"> </span>-p<span class="w"> </span>HEAD
</pre></div>
</div>
<p>Then explore the <code class="docutils literal notranslate"><span class="pre">tree</span></code> object, then the <code class="docutils literal notranslate"><span class="pre">file</span></code> object, etc. recursively using the hashes you see.</p>
</section>
<section id="demonstration-experimenting-with-branches">
<h3>Demonstration: experimenting with branches<a class="headerlink" href="#demonstration-experimenting-with-branches" title="Link to this heading"></a></h3>
<p>Let us lift the hood and create few branches manually.  The
goal of this exercise is to hopefully create an “Aha!” moment and provide us a
good understanding of the underlying model.</p>
<p>We are starting from the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and create an <code class="docutils literal notranslate"><span class="pre">idea</span></code> branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">On branch main</span>
<span class="go">nothing to commit, working tree clean</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>switch<span class="w"> </span>--create<span class="w"> </span>idea

<span class="go">Switched to a new branch &#39;idea&#39;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">* idea</span>
<span class="go">  main</span>
</pre></div>
</div>
<p>Now let us go in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>.git
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>refs/heads
<span class="gp">$ </span>ls<span class="w"> </span>-l

<span class="go">.rw-r--r-- 41 user 25 Aug 15:54 idea</span>
<span class="go">.rw-r--r-- 41 user 25 Aug 15:52 main</span>
</pre></div>
</div>
<p>Let us check what the <code class="docutils literal notranslate"><span class="pre">idea</span></code> file looks like
(do not worry if the hash is different):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>idea

<span class="go">045e3db14740c60684d745e5fb891ae71e335611</span>
</pre></div>
</div>
<p>Now let us replicate this file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>idea<span class="w"> </span>idea-2
<span class="gp">$ </span>cp<span class="w"> </span>idea<span class="w"> </span>idea-3
<span class="gp">$ </span>cp<span class="w"> </span>idea<span class="w"> </span>idea-4
<span class="gp">$ </span>cp<span class="w"> </span>idea<span class="w"> </span>idea-5
</pre></div>
</div>
<p>Let us go up two levels and inspect the file <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>../..
<span class="gp">$ </span>cat<span class="w"> </span>HEAD

<span class="go">ref: refs/heads/idea</span>
</pre></div>
</div>
<p>Let us open this file and change it to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ref</span><span class="p">:</span> <span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">idea</span><span class="o">-</span><span class="mi">3</span>
</pre></div>
</div>
<p><strong>Now we are ready for the aha moment!</strong>
First let us go back to the working area:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>..
</pre></div>
</div>
<p>Now - on which branch are we?</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch

<span class="go">  idea</span>
<span class="go">  idea-2</span>
<span class="go">* idea-3</span>
<span class="go">  idea-4</span>
<span class="go">  idea-5</span>
<span class="go">  main</span>
</pre></div>
</div>
</section>
<section id="demonstration-if-you-add-it-you-don-t-lose-it-for-a-while">
<h3>Demonstration: If you add it, you don’t lose it (for a while)<a class="headerlink" href="#demonstration-if-you-add-it-you-don-t-lose-it-for-a-while" title="Link to this heading"></a></h3>
<p>A common way to (apparently) lose work
is to use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> indiscriminately.</p>
<p>You make some changes to a file,
(let us call this version A)
you <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> them,
then you make some other changes
(let us call this version B)
and you <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> those again.</p>
<p>Now version A is apparently lost,
and if we realize that we need it back
we typically click nervously on the “undo” arrow of our editor.</p>
<p>But fear not! Try this.</p>
<ol class="arabic simple">
<li><p>Create a file named <code class="docutils literal notranslate"><span class="pre">test-add</span></code> with the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;Once a file has been git added, it is hard to lose!&#39;</span> <span class="o">&gt;</span> <span class="n">test</span><span class="o">-</span><span class="n">add</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Add it to the repository</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>test-add
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Now change the content of the file to be</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ops</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>And repeat the add command</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>test-add
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Apparently we have lost the previous version of the file.
But it is actually there, stored in a <em>dangling</em> blob object
(which is not referenced by any other objects)
We can see this with the command <code class="docutils literal notranslate"><span class="pre">fsck</span></code>:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>fsck
<span class="go">Checking object directories: 100% (256/256), done.</span>
<span class="go">dangling blob dc3b15f60045eea7a87639436ed75021130579e0</span>
</pre></div>
</div>
<p>We can see the content of that blob
by passing its hash (shortened for convenience)
to the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cat-file</span> <span class="pre">-p</span></code> command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>cat-file<span class="w"> </span>-p<span class="w"> </span>dc3b
<span class="go">Once a file has been git added, it is hard to lose!</span>
</pre></div>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<p>Discuss the findings with other course participants.</p>
</div>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-reference"></span><section id="quick-reference">
<h2>Quick reference<a class="headerlink" href="#quick-reference" title="Link to this heading"></a></h2>
<section id="other-cheatsheets">
<h3>Other cheatsheets<a class="headerlink" href="#other-cheatsheets" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://aaltoscicomp.github.io/cheatsheets/git-the-way-you-need-it-cheatsheet.pdf">Detailed 2-page Git
cheatsheet</a></p></li>
<li><p><a class="reference external" href="http://www.ndpsoftware.com/git-cheatsheet.html">Interactive Git cheatsheet</a></p></li>
</ul>
</section>
<section id="glossary">
<h3>Glossary<a class="headerlink" href="#glossary" title="Link to this heading"></a></h3>
<dl class="simple glossary">
<dt id="term-alias">alias<a class="headerlink" href="#term-alias" title="Link to this term"></a></dt><dd><p>With aliases you can define your own shortcuts for Git commands.</p>
</dd>
<dt id="term-version-control-system">version control system<a class="headerlink" href="#term-version-control-system" title="Link to this term"></a></dt><dd><p>A system that records changes to a file or set of files over time so that
you can recall specific versions later.</p>
</dd>
<dt id="term-git">git<a class="headerlink" href="#term-git" title="Link to this term"></a></dt><dd><p>Implementation of a version control system. Currently the most popular one.</p>
</dd>
<dt id="term-commit">commit<a class="headerlink" href="#term-commit" title="Link to this term"></a></dt><dd><p>As a verb, the process of recording more changes.
As a noun, the name of the record of changes.
A commit is identified by something such as <code class="docutils literal notranslate"><span class="pre">554c187</span></code>.</p>
</dd>
<dt id="term-working-directory">working directory<a class="headerlink" href="#term-working-directory" title="Link to this term"></a></dt><dt id="term-workspace">workspace<a class="headerlink" href="#term-workspace" title="Link to this term"></a></dt><dd><p>the actual files you see and edit</p>
</dd>
<dt id="term-staging-area">staging area<a class="headerlink" href="#term-staging-area" title="Link to this term"></a></dt><dd><p>Place files go after <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and before <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code></p>
</dd>
<dt id="term-hash">hash<a class="headerlink" href="#term-hash" title="Link to this term"></a></dt><dd><p>Unique reference of any commit or state.  Comes from <a class="reference external" href="https://en.wikipedia.org/wiki/Hash_function">hash
functions</a> such as MD5
or SHA1.</p>
</dd>
<dt id="term-branch">branch<a class="headerlink" href="#term-branch" title="Link to this term"></a></dt><dd><p>One line of work.  Different branches can exist at the same time
and split/merge.  Committing on a branch updates that branch.</p>
</dd>
<dt id="term-tag">tag<a class="headerlink" href="#term-tag" title="Link to this term"></a></dt><dd><p>Like a <a class="reference internal" href="#term-branch"><span class="xref std std-term">branch</span></a> in that it points to a commit for reference.
It is designed to be permanent an not updated.</p>
</dd>
<dt id="term-HEAD">HEAD<a class="headerlink" href="#term-HEAD" title="Link to this term"></a></dt><dd><p>Pointer to the most recent commit on the current branch.</p>
</dd>
<dt id="term-remote">remote<a class="headerlink" href="#term-remote" title="Link to this term"></a></dt><dd><p>Roughly, another server that holds .git.</p>
</dd>
<dt id="term-origin">origin<a class="headerlink" href="#term-origin" title="Link to this term"></a></dt><dd><p>Default name for a remote repository.</p>
</dd>
<dt id="term-repository">repository<a class="headerlink" href="#term-repository" title="Link to this term"></a></dt><dd><p>One collection of files managed by Git.  It contains entire history
of all files managed by git.  GitHub has one repository as one
GitHub repository.  VS Code has one repository as one directory you
can open.  The command line has one repository as one directory.</p>
</dd>
<dt id="term-clone">clone<a class="headerlink" href="#term-clone" title="Link to this term"></a></dt><dd><p>As a verb, the process of making a copy of a repository locally.
It brings in all history and all files.  (As a noun, the copy that
was made when cloning).</p>
</dd>
<dt id="term-GitHub-repository">GitHub repository<a class="headerlink" href="#term-GitHub-repository" title="Link to this term"></a></dt><dd><p>The files from the Git repository, but also other things from
GitHub such as access permissions, issues, and pull requests.</p>
</dd>
<dt id="term-upstream">upstream<a class="headerlink" href="#term-upstream" title="Link to this term"></a></dt><dd><p>The original repository from which the code comes.  If you
<a class="reference internal" href="#term-fork"><span class="xref std std-term">fork</span></a> the repository, it is your upstream and it is easy to
send changes back to there.</p>
</dd>
<dt id="term-fork">fork<a class="headerlink" href="#term-fork" title="Link to this term"></a></dt><dd><p>As a noun: a one person’s copy of a repository.
As a verb: making that copy.
As a verb on GitHub: Making a copy of a repository linked to the
original.  It is easy to send changes to the original</p>
</dd>
<dt id="term-issue">issue<a class="headerlink" href="#term-issue" title="Link to this term"></a></dt><dd><p>Within a web repository like GitHub, discussion of a topic, for
example a problem or improvement suggestion.  These are a property
of the web platform and not of the Git program itself.</p>
</dd>
<dt id="term-pull-request">pull request<a class="headerlink" href="#term-pull-request" title="Link to this term"></a></dt><dd><p>A GitHub concept: change proposal.  A proposal to merge one branch
into another.  Usually used to contribute code back to
<a class="reference internal" href="#term-upstream"><span class="xref std std-term">upstream</span></a>.</p>
</dd>
<dt id="term-push">push<a class="headerlink" href="#term-push" title="Link to this term"></a></dt><dd><p>Moving changes from your local copy to another copy</p>
</dd>
<dt id="term-pull">pull<a class="headerlink" href="#term-pull" title="Link to this term"></a></dt><dd><p>Getting changes from another copy to your own copy.  <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>
does this fetch, and also tries to automatically merge.</p>
</dd>
<dt id="term-master">master<a class="headerlink" href="#term-master" title="Link to this term"></a></dt><dd><p>Default name for main branch on Git. Depending on the configuration and service,
the default branch is sometimes <strong>main</strong>.
In this lesson we configure Git so that the default branch is
called <strong>main</strong> to be more consistent with GitHub and GitLab.</p>
</dd>
<dt id="term-main">main<a class="headerlink" href="#term-main" title="Link to this term"></a></dt><dd><p>Default name for main branch on GitLab and GitHub.
In this lesson we configure Git so that the default branch is
called <strong>main</strong> to be more consistent with GitHub and GitLab.</p>
</dd>
<dt id="term-merge">merge<a class="headerlink" href="#term-merge" title="Link to this term"></a></dt><dt id="term-merging">merging<a class="headerlink" href="#term-merging" title="Link to this term"></a></dt><dd><p>Bringing changes from one branch into another, either as a noun or
verb.</p>
</dd>
<dt id="term-VS-Code">VS Code<a class="headerlink" href="#term-VS-Code" title="Link to this term"></a></dt><dd><p>A text editor and development environment by Microsoft.  It’s quite
popular, partly because it is powerful and easy to use.  <a class="reference external" href="https://vscodium.com/">VS
Codium</a> is the same but without Microsoft
tracking.</p>
</dd>
</dl>
</section>
<section id="commands-we-use">
<h3>Commands we use<a class="headerlink" href="#commands-we-use" title="Link to this heading"></a></h3>
<p>Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code>: edit configuration options</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">-b</span> <span class="pre">main</span></code>: create new repository with <code class="docutils literal notranslate"><span class="pre">main</span></code> as the default branch</p></li>
</ul>
<p>See our status:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>: see status of files - use often!</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>: see history of commits and their messages, newest first</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>: see a detailed graph of commits.  Create this command
with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">alias.graph</span> <span class="pre">&quot;log</span> <span class="pre">--all</span> <span class="pre">--graph</span> <span class="pre">--decorate</span> <span class="pre">--oneline&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>: show difference between working directory and last commit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--staged</span></code>: show difference between staging area and last commit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span> <span class="pre">COMMIT</span></code>: inspect individual commits</p></li>
</ul>
<p>General work:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">FILE</span></code>:</p>
<ul>
<li><p>Add a new file</p></li>
<li><p>Add a file to staging</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>: record a version, add it to current branch</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code>: amend our last commit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code>: show which branch we’re on</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">NAME</span></code>: create a new branch called “name”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">FILE</span></code>: restore last committed/staged version of FILE, losing unstaged changes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span> <span class="pre">--create</span> <span class="pre">BRANCH-NAME</span></code>: create a new branch and switch to it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span> <span class="pre">HASH</span></code>: create a new commit which reverts commit HASH</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--soft</span> <span class="pre">HASH</span></code>: remove all commits after HASH, but keep their modifications as staged changes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HASH</span></code>: remove all commits after HASH, permanently throwing away their changes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">BRANCH-NAME</span></code>: merge branch BRANCH-NAME into current branch</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span> <span class="pre">PATTERN</span></code>: search for patterns in tracked files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span> <span class="pre">FILE</span></code>: find out when a specific line got introduced and by whom</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code>: find a commit which broke some functionality</p></li>
</ul>
</section>
</section>
<span id="document-customizing"></span><section id="customizing-git">
<h2>Customizing Git<a class="headerlink" href="#customizing-git" title="Link to this heading"></a></h2>
<section id="shell-prompt">
<h3>Shell prompt<a class="headerlink" href="#shell-prompt" title="Link to this heading"></a></h3>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<p>Here the instructor can demonstrate how a context-aware and Git-aware shell
prompt can look like.</p>
</div>
<p>You can make your shell display contextual information about
your Git state even at all times.</p>
<p>Here are few example projects that make this possible and easy:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/jimeh/git-aware-prompt">https://github.com/jimeh/git-aware-prompt</a> (bash)</p></li>
<li><p><a class="reference external" href="https://ohmyz.sh/">https://ohmyz.sh/</a> (zsh)</p></li>
<li><p><a class="reference external" href="https://github.com/oh-my-fish/oh-my-fish">https://github.com/oh-my-fish/oh-my-fish</a> (fish)</p></li>
<li><p><a class="reference external" href="https://github.com/magicmonty/bash-git-prompt">https://github.com/magicmonty/bash-git-prompt</a> (bash and fish)</p></li>
</ul>
</section>
<section id="more-useful-diff-output">
<h3>More useful “diff” output<a class="headerlink" href="#more-useful-diff-output" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/dandavison/delta">Delta</a> is a syntax-highlighting pager for
git, diff, and grep output.  You can customize how you want to highlight the
“diff” output.  It allows side-by-side view, word-level diff highlighting,
improved merge conflict display, and much more.</p>
</section>
</section>
<span id="document-resources"></span><section id="other-resources">
<h2>Other resources<a class="headerlink" href="#other-resources" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://pcottle.github.io/learnGitBranching/">Learn Git branching</a></p></li>
<li><p><a class="reference external" href="http://git-scm.com/book">The entire Pro Git book, written by Scott Chacon and Ben Straub</a></p></li>
<li><p><a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a></p></li>
<li><p><a class="reference external" href="http://sethrobertson.github.io/GitBestPractices/">Commit Often, Perfect Later, Publish Once: Git Best Practices</a></p></li>
<li><p><a class="reference external" href="https://github.com/pluralsight/git-internals-pdf/releases">PeepCode Git Internals</a></p></li>
<li><p><a class="reference external" href="https://www.toptal.com/git/git-workflows-for-pros-a-good-git-guide">Git Workflows for Pros: A Good Git Guide</a></p></li>
<li><p><a class="reference external" href="http://dymitruk.com/blog/2012/02/05/branch-per-feature/">Branch-per-Feature</a></p></li>
<li><p><a class="reference external" href="http://xkcd.com/1597/">Git on XKCD</a></p></li>
<li><p><a class="reference external" href="http://fle.github.io/an-efficient-git-workflow-for-midlong-term-projects.html">An efficient GIT workflow for mid/long term projects</a></p></li>
</ul>
</section>
<span id="document-exercises"></span><section id="list-of-exercises">
<h2>List of exercises<a class="headerlink" href="#list-of-exercises" title="Link to this heading"></a></h2>
<p>This is a list of all exercises and solutions in this lesson, mainly
as a reference for helpers and instructors.  This list is
automatically generated from all of the other pages in the lesson.
Any single teaching event will probably cover only a subset of these,
depending on their interests.</p>
</section>
<span id="document-guide"></span><section id="instructor-guide">
<h2>Instructor guide<a class="headerlink" href="#instructor-guide" title="Link to this heading"></a></h2>
<section id="exercise-preparation">
<h3>Exercise preparation<a class="headerlink" href="#exercise-preparation" title="Link to this heading"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do this at least one day before the workshop!</p>
</div>
<ul>
<li><p>Create two exercise repositories from
<a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book-template">https://github.com/cr-workshop-exercises/recipe-book-template</a> <strong>preserving history</strong>
(this means <strong>not</strong> using “generating from template”)</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book">https://github.com/cr-workshop-exercises/recipe-book</a></p></li>
<li><p><a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book-recorded">https://github.com/cr-workshop-exercises/recipe-book-recorded</a></p></li>
</ul>
</li>
<li><p><strong>You probably need to re-created them before the workshop even though they might already exist</strong>
from a previous workshop. Motivation: the repositories from a previous workshop probably carry issues
and pull requests and the network graph will differ from what you want to show.</p></li>
<li><p>You can create these using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--mirror</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--mirror</span></code> to make sure to copy <strong>all branches</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>--mirror<span class="w"> </span>git@github.com:coderefinery/recipe-book-template.git
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>recipe-book-template.git
<span class="gp">$ </span>git<span class="w"> </span>push<span class="w"> </span>--mirror<span class="w"> </span>git@github.com:cr-workshop-exercises/recipe-book-recorded.git
<span class="gp">$ </span>git<span class="w"> </span>push<span class="w"> </span>--mirror<span class="w"> </span>git@github.com:cr-workshop-exercises/recipe-book.git
</pre></div>
</div>
</li>
<li><p>Reason why we create it under <a class="reference external" href="https://github.com/cr-workshop-exercises">https://github.com/cr-workshop-exercises</a> and not under
<a class="reference external" href="https://github.com/coderefinery">https://github.com/coderefinery</a> is that we otherwise get a 100 pull requests over the next few weeks
which masks “real” pull requests from the project and the side effect would be that nobody then reviews
any “real” pull requests anymore.</p></li>
<li><p>Create one or two issues to both.</p></li>
<li><p>Create one or two pull requests to both.</p></li>
<li><p>In both, try to search for something in the recipes to trigger a search index
update.</p></li>
</ul>
</section>
<section id="privacy">
<h3>Privacy<a class="headerlink" href="#privacy" title="Link to this heading"></a></h3>
<p>When presenting the material in a streamed and recorded workshop, make sure to
only show the <a class="reference external" href="https://github.com/cr-workshop-exercises/recipe-book-recorded">https://github.com/cr-workshop-exercises/recipe-book-recorded</a>
repository.</p>
</section>
<section id="schedule-day-1">
<h3>Schedule Day 1<a class="headerlink" href="#schedule-day-1" title="Link to this heading"></a></h3>
<p>Times here are in CE(S)T.</p>
<ul class="simple">
<li><p>08:50 - 09:00 (10 min) Soft start and icebreaker question</p></li>
<li><p>09:00 - 09:20 (20 min) Welcome and practical information</p></li>
<li><p>09:20 - 09:25 (05 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/">Intro to day</a></p></li>
<li><p>09:25 - 09:35 (10 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/motivation/">Motivation</a></p></li>
<li><p>09:35 - 10:05 (30 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/browsing/">Copy and browse an existing project</a></p></li>
<li><p>10:05 - 10:15 (10 min) Break</p></li>
<li><p>10:15 - 11:00 (45 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/commits/">Committing changes</a></p></li>
<li><p>11:00 - 12:00 (60 min) Break</p></li>
<li><p>12:00 - 12:50 (50 min) Recap + <a class="reference external" href="https://coderefinery.github.io/git-intro/merging/">Merging changes and contributing to the project</a></p></li>
<li><p>12:50 - 13:00 (10 min) Break</p></li>
<li><p>13:00 - 13:30 (30 min) Demonstrating conflict resolution, Q&amp;A, feedback, and what will we be doing tomorrow?</p></li>
</ul>
</section>
<section id="schedule-day-2">
<h3>Schedule Day 2<a class="headerlink" href="#schedule-day-2" title="Link to this heading"></a></h3>
<p>Times here are in CE(S)T.</p>
<ul class="simple">
<li><p>08:50 - 09:00 (10 min) Soft start and icebreaker question</p></li>
<li><p>09:00 - 09:10 (10 min) Recap</p></li>
<li><p>09:10 - 10:00 (50 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/local-workflow/">Cloning a Git repository and working locally</a></p></li>
<li><p>10:00 - 10:10 (10 min) Break</p></li>
<li><p>10:10 - 11:00 (50 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/archaeology/">Inspecting history</a></p></li>
<li><p>11:00 - 12:00 (60 min) Break</p></li>
<li><p>12:00 - 12:50 (50 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/sharing/">How to turn your project to a Git repo and share it</a></p></li>
<li><p>12:50 - 13:00 (10 min) Break</p></li>
<li><p>13:00 - 13:30 (30 min) <a class="reference external" href="https://coderefinery.github.io/git-intro/level/">Practical advise</a>, Q&amp;A, feedback, and what will we be doing tomorrow?</p></li>
</ul>
</section>
<section id="why-we-teach-this-lesson">
<h3>Why we teach this lesson<a class="headerlink" href="#why-we-teach-this-lesson" title="Link to this heading"></a></h3>
<p>Everyone should be using a version control system for their work, even if they’re working alone.
There are many version control systems out there, but Git is an industry standard and even if one uses another
system chances are high one still encounters Git repositories.</p>
<p>Specific motivations:</p>
<ul class="simple">
<li><p>Code easily becomes a disaster without version control</p></li>
<li><p>Mistakes happen - Git offers roll-back functionality and easy backup mechanism</p></li>
<li><p>One often needs to work on multiple things in parallel - branches solve that problem</p></li>
<li><p>Git enables people to collaborate on code or text without stepping on each other’s toes</p></li>
<li><p>Reproducibility: You can specify exact versions in publications enabling others to reproduce your work,
and if bugs are found one can find out exactly when it was introduced</p></li>
</ul>
<p>Many learners in a CodeRefinery workshop have developed code for a few years. A majority have
already encountered Git and have used it to some extent, but in most cases they do not yet feel
comfortable with it. They lack a good mental model of how Git operates and are afraid of making mistakes.
Other learners have never used Git before.
This lesson teaches how things are done in Git, which is useful for the newcomers,
but also how Git operates (e.g. what commits and branches really are) and what are some good
practices.</p>
</section>
<section id="intended-learning-outcomes">
<h3>Intended learning outcomes<a class="headerlink" href="#intended-learning-outcomes" title="Link to this heading"></a></h3>
<p>By the end of this lesson, learners should:</p>
<ul class="simple">
<li><p>realize that version control is very important and Git is a valuable tool to learn and use</p></li>
<li><p>understand that Git is configurable and know how to set basic configurations</p></li>
<li><p>be able to set up Git repositories and make commits</p></li>
<li><p>know how to write good commit messages</p></li>
<li><p>have an idea of how the staging area can be used to craft good commits</p></li>
<li><p>know how to create branches and switch between branches</p></li>
<li><p>have a mental model of how branches work and get used to thinking of branches in a graphical (tree-structure) way</p></li>
<li><p>know how to merge branches and understand what that means in terms of combining different modifications</p></li>
<li><p>realize that conflicts are generally a good thing since they prevent incorrect merges</p></li>
<li><p>be able to set up a repository on GitHub and connect it with local repository</p></li>
<li><p>push changes to a remote repository</p></li>
<li><p>know a few ways to search through a repository and its history</p></li>
</ul>
</section>
<section id="inspecting-history">
<h3>Inspecting history<a class="headerlink" href="#inspecting-history" title="Link to this heading"></a></h3>
<p>Key lesson is <em>how to find when something is broken or what commit has broken
the code</em>.</p>
<p>It can be useful to emphasize that it can be really valuable to be able to
search through the history of a project efficiently to find when bugs were
introduced or when something changed and why.  Also show that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span></code>
and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> are available on GitHub and GitLab.</p>
<p>When discussing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> the “when” is more important
than “who”. It is not to blame anybody but rather to find out whether published
results are affected.</p>
<p>Discuss how one would find out this information without version control.</p>
<p><strong>Questions to involve participants:</strong></p>
<ul class="simple">
<li><p>Have you ever found a bug in your code and wondered whether it has affected published results?</p></li>
<li><p>Have you ever wondered when, and by whom, a particular line of code was introduced?</p></li>
<li><p>Have you ever found out that a code behaves differently than it used to but you are not sure when
precisely this changed?</p></li>
</ul>
<p><strong>Confusion during <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> exercise:</strong></p>
<p>Learners may get stuck in the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> exercise if they incorrectly assign a commit
as <em>bad</em> or <em>good</em>.
To leave the bisect mode and return to the commit before <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span> <span class="pre">start</span></code> was issued,
one can do</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>bisect<span class="w"> </span>reset
</pre></div>
</div>
<p>and start over if needed.</p>
<section id="live-better-than-reading-the-website-material">
<h4>Live better than reading the website material<a class="headerlink" href="#live-better-than-reading-the-website-material" title="Link to this heading"></a></h4>
<p>It is better to demonstrate the commands live and type-along. Ideally connecting
to examples discussed earlier.</p>
</section>
<section id="log-your-history-in-a-separate-window">
<h4>Log your history in a separate window<a class="headerlink" href="#log-your-history-in-a-separate-window" title="Link to this heading"></a></h4>
<p>The screencasting (shell window cheatsheet) hints have been moved to
the <a class="reference external" href="https://coderefinery.github.io/manuals/instructor-tech-setup/">presenting
manual</a>.</p>
</section>
<section id="create-a-cheatsheet-on-the-board">
<h4>Create a cheatsheet on the board<a class="headerlink" href="#create-a-cheatsheet-on-the-board" title="Link to this heading"></a></h4>
<p>For in-person workshops, create a “cheatsheet” on the board as you go. After
each command is introduced, write it on the board. After each module, make sure
you haven’t forgotten anything. Re-create and expand in future git lessons.
One strategy is:</p>
<ul class="simple">
<li><p>a common section for basic commands: <code class="docutils literal notranslate"><span class="pre">init</span></code>, <code class="docutils literal notranslate"><span class="pre">config</span></code>, <code class="docutils literal notranslate"><span class="pre">clone</span></code>, <code class="docutils literal notranslate"><span class="pre">help</span></code>, <code class="docutils literal notranslate"><span class="pre">stash</span></code></p></li>
<li><p>info commands, can be run anytime: <code class="docutils literal notranslate"><span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">diff</span></code>, <code class="docutils literal notranslate"><span class="pre">graph</span></code></p></li>
<li><p>A section for all the commands that move code from different states:
<code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">commit</span></code>, etc.  See the visual cheat sheet below.</p></li>
</ul>
<p>You can get inspired by http://www.ndpsoftware.com/git-cheatsheet.html
to make your cheat sheet, but if you show this make it clear there are
far, far more commands on there than you need to know right now., and
it’s probably too confusing to use after this course.  But, the idea
of commands moving from the “working dir”, “staging area”, “commits”,
etc is good.</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/cheat-sheet.jpg"><img alt="Example cheat sheet" src="_images/cheat-sheet.jpg" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Example cheat sheet.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We also recommend to draw simple diagrams up on the board (e.g.: working
directory - staging area - repository with commands to move between) and keep
them there for students to refer to.</p>
</section>
<section id="draw-a-graph-on-the-board">
<h4>Draw a graph on the board<a class="headerlink" href="#draw-a-graph-on-the-board" title="Link to this heading"></a></h4>
<p>Draw the standard commit graphs on the board early on - you know, the
thing in all the diagrams.  Keep it updated all the time.  After the
first few samples, you can basically keep using the same graph the
whole lesson.  When you are introducing new commands, explain and
update the graph first, then run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code>, then do the command,
then look at <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> again.</p>
</section>
<section id="repeat-the-following-points">
<h4>Repeat the following points<a class="headerlink" href="#repeat-the-following-points" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Always check <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>, and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> (our alias) before and
after every command until you get used to things. These give you a clear view
into what is going on, the key to knowing what you are doing.  Even
after you are used to things… anytime you do something you do
infrequently, it’s good to check.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">graph</span></code> is a direct representation of what we are drawing on the
board and should constantly be compared to it.</p></li>
<li><p>Once you <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> something, it’s almost impossible to lose it.
This is used all the time, for example once you commit or even add
it is hard to lose.  Commit before you merge or rebase. And so on.</p></li>
</ul>
</section>
<section id="start-from-identical-environment">
<h4>Start from identical environment<a class="headerlink" href="#start-from-identical-environment" title="Link to this heading"></a></h4>
<p>You probably have a highly optimized bash and git environment - one
that is different from students.  Move <code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code> and <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> out
of the way before you start so that your environment is identical to
what students have.</p>
</section>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright CodeRefinery contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>